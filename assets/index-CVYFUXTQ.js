var w2=Object.defineProperty;var S2=(n,e,t)=>e in n?w2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _r=(n,e,t)=>S2(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function u1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sg={exports:{}},Vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function I2(){if(IE)return Vc;IE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Vc.Fragment=e,Vc.jsx=t,Vc.jsxs=t,Vc}var RE;function R2(){return RE||(RE=1,sg.exports=I2()),sg.exports}var w=R2(),rg={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function A2(){if(AE)return Ne;AE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,z={};function H(k,te,ce){this.props=k,this.context=te,this.refs=z,this.updater=ce||R}H.prototype.isReactComponent={},H.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},H.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=H.prototype;function X(k,te,ce){this.props=k,this.context=te,this.refs=z,this.updater=ce||R}var ne=X.prototype=new Q;ne.constructor=X,N(ne,H.prototype),ne.isPureReactComponent=!0;var re=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function M(k,te,ce,se,me,ke){return ce=ke.ref,{$$typeof:n,type:k,key:te,ref:ce!==void 0?ce:null,props:ke}}function A(k,te){return M(k.type,te,void 0,void 0,void 0,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function V(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return te[ce]})}var P=/\/+/g;function L(k,te){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):te.toString(36)}function x(){}function en(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(x,x):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function mt(k,te,ce,se,me){var ke=typeof k;(ke==="undefined"||ke==="boolean")&&(k=null);var Re=!1;if(k===null)Re=!0;else switch(ke){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(k.$$typeof){case n:case e:Re=!0;break;case y:return Re=k._init,mt(Re(k._payload),te,ce,se,me)}}if(Re)return me=me(k),Re=se===""?"."+L(k,0):se,re(me)?(ce="",Re!=null&&(ce=Re.replace(P,"$&/")+"/"),mt(me,te,ce,"",function(Ei){return Ei})):me!=null&&(C(me)&&(me=A(me,ce+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(P,"$&/")+"/")+Re)),te.push(me)),1;Re=0;var zt=se===""?".":se+":";if(re(k))for(var ot=0;ot<k.length;ot++)se=k[ot],ke=zt+L(se,ot),Re+=mt(se,te,ce,ke,me);else if(ot=b(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(se=k.next()).done;)se=se.value,ke=zt+L(se,ot++),Re+=mt(se,te,ce,ke,me);else if(ke==="object"){if(typeof k.then=="function")return mt(en(k),te,ce,se,me);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Y(k,te,ce){if(k==null)return k;var se=[],me=0;return mt(k,se,"","",function(ke){return te.call(ce,ke,me++)}),se}function le(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ze(){}return Ne.Children={map:Y,forEach:function(k,te,ce){Y(k,function(){te.apply(this,arguments)},ce)},count:function(k){var te=0;return Y(k,function(){te++}),te},toArray:function(k){return Y(k,function(te){return te})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=H,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=X,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ue.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cloneElement=function(k,te,ce){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=N({},k.props),me=k.key,ke=void 0;if(te!=null)for(Re in te.ref!==void 0&&(ke=void 0),te.key!==void 0&&(me=""+te.key),te)!ve.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(se[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)se.children=ce;else if(1<Re){for(var zt=Array(Re),ot=0;ot<Re;ot++)zt[ot]=arguments[ot+2];se.children=zt}return M(k.type,me,void 0,void 0,ke,se)},Ne.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Ne.createElement=function(k,te,ce){var se,me={},ke=null;if(te!=null)for(se in te.key!==void 0&&(ke=""+te.key),te)ve.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=te[se]);var Re=arguments.length-2;if(Re===1)me.children=ce;else if(1<Re){for(var zt=Array(Re),ot=0;ot<Re;ot++)zt[ot]=arguments[ot+2];me.children=zt}if(k&&k.defaultProps)for(se in Re=k.defaultProps,Re)me[se]===void 0&&(me[se]=Re[se]);return M(k,ke,void 0,void 0,null,me)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:d,render:k}},Ne.isValidElement=C,Ne.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:le}},Ne.memo=function(k,te){return{$$typeof:m,type:k,compare:te===void 0?null:te}},Ne.startTransition=function(k){var te=ue.T,ce={};ue.T=ce;try{var se=k(),me=ue.S;me!==null&&me(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ze,pe)}catch(ke){pe(ke)}finally{ue.T=te}},Ne.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ne.use=function(k){return ue.H.use(k)},Ne.useActionState=function(k,te,ce){return ue.H.useActionState(k,te,ce)},Ne.useCallback=function(k,te){return ue.H.useCallback(k,te)},Ne.useContext=function(k){return ue.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,te){return ue.H.useDeferredValue(k,te)},Ne.useEffect=function(k,te,ce){var se=ue.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(k,te)},Ne.useId=function(){return ue.H.useId()},Ne.useImperativeHandle=function(k,te,ce){return ue.H.useImperativeHandle(k,te,ce)},Ne.useInsertionEffect=function(k,te){return ue.H.useInsertionEffect(k,te)},Ne.useLayoutEffect=function(k,te){return ue.H.useLayoutEffect(k,te)},Ne.useMemo=function(k,te){return ue.H.useMemo(k,te)},Ne.useOptimistic=function(k,te){return ue.H.useOptimistic(k,te)},Ne.useReducer=function(k,te,ce){return ue.H.useReducer(k,te,ce)},Ne.useRef=function(k){return ue.H.useRef(k)},Ne.useState=function(k){return ue.H.useState(k)},Ne.useSyncExternalStore=function(k,te,ce){return ue.H.useSyncExternalStore(k,te,ce)},Ne.useTransition=function(){return ue.H.useTransition()},Ne.version="19.1.0",Ne}var CE;function k_(){return CE||(CE=1,rg.exports=A2()),rg.exports}var F=k_();const st=u1(F);var ag={exports:{}},Dc={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function C2(){return NE||(NE=1,function(n){function e(Y,le){var pe=Y.length;Y.push(le);e:for(;0<pe;){var Ze=pe-1>>>1,k=Y[Ze];if(0<a(k,le))Y[Ze]=le,Y[pe]=k,pe=Ze;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var le=Y[0],pe=Y.pop();if(pe!==le){Y[0]=pe;e:for(var Ze=0,k=Y.length,te=k>>>1;Ze<te;){var ce=2*(Ze+1)-1,se=Y[ce],me=ce+1,ke=Y[me];if(0>a(se,pe))me<k&&0>a(ke,se)?(Y[Ze]=ke,Y[me]=pe,Ze=me):(Y[Ze]=se,Y[ce]=pe,Ze=ce);else if(me<k&&0>a(ke,pe))Y[Ze]=ke,Y[me]=pe,Ze=me;else break e}}return le}function a(Y,le){var pe=Y.sortIndex-le.sortIndex;return pe!==0?pe:Y.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],m=[],y=1,E=null,b=3,R=!1,N=!1,z=!1,H=!1,Q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function re(Y){for(var le=t(m);le!==null;){if(le.callback===null)i(m);else if(le.startTime<=Y)i(m),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(m)}}function ue(Y){if(z=!1,re(Y),!N)if(t(p)!==null)N=!0,ve||(ve=!0,L());else{var le=t(m);le!==null&&mt(ue,le.startTime-Y)}}var ve=!1,M=-1,A=5,C=-1;function V(){return H?!0:!(n.unstable_now()-C<A)}function P(){if(H=!1,ve){var Y=n.unstable_now();C=Y;var le=!0;try{e:{N=!1,z&&(z=!1,X(M),M=-1),R=!0;var pe=b;try{t:{for(re(Y),E=t(p);E!==null&&!(E.expirationTime>Y&&V());){var Ze=E.callback;if(typeof Ze=="function"){E.callback=null,b=E.priorityLevel;var k=Ze(E.expirationTime<=Y);if(Y=n.unstable_now(),typeof k=="function"){E.callback=k,re(Y),le=!0;break t}E===t(p)&&i(p),re(Y)}else i(p);E=t(p)}if(E!==null)le=!0;else{var te=t(m);te!==null&&mt(ue,te.startTime-Y),le=!1}}break e}finally{E=null,b=pe,R=!1}le=void 0}}finally{le?L():ve=!1}}}var L;if(typeof ne=="function")L=function(){ne(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,en=x.port2;x.port1.onmessage=P,L=function(){en.postMessage(null)}}else L=function(){Q(P,0)};function mt(Y,le){M=Q(function(){Y(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var pe=b;b=le;try{return Y()}finally{b=pe}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=b;b=Y;try{return le()}finally{b=pe}},n.unstable_scheduleCallback=function(Y,le,pe){var Ze=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ze+pe:Ze):pe=Ze,Y){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,Y={id:y++,callback:le,priorityLevel:Y,startTime:pe,expirationTime:k,sortIndex:-1},pe>Ze?(Y.sortIndex=pe,e(m,Y),t(p)===null&&Y===t(m)&&(z?(X(M),M=-1):z=!0,mt(ue,pe-Ze))):(Y.sortIndex=k,e(p,Y),N||R||(N=!0,ve||(ve=!0,L()))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var le=b;return function(){var pe=b;b=le;try{return Y.apply(this,arguments)}finally{b=pe}}}}(lg)),lg}var OE;function N2(){return OE||(OE=1,og.exports=C2()),og.exports}var cg={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function O2(){if(xE)return hn;xE=1;var n=k_();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},hn.flushSync=function(p){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=y,i.d.f()}},hn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},hn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},hn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,E=d(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:R}):y==="script"&&i.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},hn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,E=d(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},hn.requestFormReset=function(p){i.d.r(p)},hn.unstable_batchedUpdates=function(p,m){return p(m)},hn.useFormState=function(p,m,y){return u.H.useFormState(p,m,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var kE;function x2(){if(kE)return cg.exports;kE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cg.exports=O2(),cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function k2(){if(VE)return Dc;VE=1;var n=N2(),e=k_(),t=x2();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),s;if(g===c)return d(f),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=g;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,c=g;break}if(S===c){T=!0,c=f,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=f;break}if(S===c){T=!0,c=g,o=f;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function m(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=m(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var x=Symbol.for("react.client.reference");function en(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===x?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case H:return"Profiler";case z:return"StrictMode";case ue:return"Suspense";case ve:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case ne:return(s.displayName||"Context")+".Provider";case X:return(s._context.displayName||"Context")+".Consumer";case re:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return r=s.displayName||null,r!==null?r:en(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return en(s(r))}catch{}}return null}var mt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ze=[],k=-1;function te(s){return{current:s}}function ce(s){0>k||(s.current=Ze[k],Ze[k]=null,k--)}function se(s,r){k++,Ze[k]=s.current,s.current=r}var me=te(null),ke=te(null),Re=te(null),zt=te(null);function ot(s,r){switch(se(Re,r),se(ke,s),se(me,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?$T(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=$T(r),s=eE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ce(me),se(me,s)}function Ei(){ce(me),ce(ke),ce(Re)}function Bs(s){s.memoizedState!==null&&se(zt,s);var r=me.current,o=eE(r,s.type);r!==o&&(se(ke,s),se(me,o))}function Ki(s){ke.current===s&&(ce(me),ce(ke)),zt.current===s&&(ce(zt),Cc._currentValue=pe)}var Hr=Object.prototype.hasOwnProperty,qr=n.unstable_scheduleCallback,Gr=n.unstable_cancelCallback,Il=n.unstable_shouldYield,zu=n.unstable_requestPaint,zn=n.unstable_now,sp=n.unstable_getCurrentPriorityLevel,Rl=n.unstable_ImmediatePriority,Ja=n.unstable_UserBlockingPriority,Zr=n.unstable_NormalPriority,rp=n.unstable_LowPriority,Qa=n.unstable_IdlePriority,Al=n.log,Hu=n.unstable_setDisableYieldValue,gt=null,Xe=null;function kn(s){if(typeof Al=="function"&&Hu(s),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(gt,s)}catch{}}var cn=Math.clz32?Math.clz32:Yr,qu=Math.log,ap=Math.LN2;function Yr(s){return s>>>=0,s===0?32:31-(qu(s)/ap|0)|0}var Jr=256,Qr=4194304;function ai(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xa(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?f=ai(c):(T&=S,T!==0?f=ai(T):o||(o=S&~s,o!==0&&(f=ai(o))))):(S=c&~g,S!==0?f=ai(S):T!==0?f=ai(T):o||(o=c&~s,o!==0&&(f=ai(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function Xr(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Cl(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nl(){var s=Jr;return Jr<<=1,(Jr&4194048)===0&&(Jr=256),s}function Ol(){var s=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),s}function $i(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function es(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function xl(s,r,o,c,f,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var S=s.entanglements,O=s.expirationTimes,B=s.hiddenUpdates;for(o=T&~o;0<o;){var J=31-cn(o),$=1<<J;S[J]=0,O[J]=-1;var q=B[J];if(q!==null)for(B[J]=null,J=0;J<q.length;J++){var G=q[J];G!==null&&(G.lane&=-536870913)}o&=~$}c!==0&&bi(s,c,0),g!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function bi(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-cn(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&4194090}function kl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-cn(o),f=1<<c;f&r|s[c]&r&&(s[c]|=r),o&=~f}}function zs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ka(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Hs(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:vE(s.type))}function Gu(s,r){var o=le.p;try{return le.p=s,r()}finally{le.p=o}}var ht=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ht,At="__reactProps$"+ht,Hn="__reactContainer$"+ht,Vl="__reactEvents$"+ht,op="__reactListeners$"+ht,qs="__reactHandles$"+ht,Zu="__reactResources$"+ht,Kr="__reactMarker$"+ht;function Gs(s){delete s[Vt],delete s[At],delete s[Vl],delete s[op],delete s[qs]}function ts(s){var r=s[Vt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Hn]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=sE(s);s!==null;){if(o=s[Vt])return o;s=sE(s)}return r}s=o,o=s.parentNode}return null}function wi(s){if(s=s[Vt]||s[Hn]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Si(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function yn(s){var r=s[Zu];return r||(r=s[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function bt(s){s[Kr]=!0}var Dl=new Set,$a={};function oi(s,r){ns(s,r),ns(s+"Capture",r)}function ns(s,r){for($a[s]=r,s=0;s<r.length;s++)Dl.add(r[s])}var Yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ju={},$r={};function Qu(s){return Hr.call($r,s)?!0:Hr.call(Ju,s)?!1:Yu.test(s)?$r[s]=!0:(Ju[s]=!0,!1)}function Zs(s,r,o){if(Qu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Ii(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function tn(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}var ea,Xu;function is(s){if(ea===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ea=r&&r[1]||"",Xu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+s+Xu}var eo=!1;function to(s,r){if(!s||eo)return"";eo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(s,[],$)}else{try{$.call()}catch(G){q=G}s.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=s())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var O=T.split(`
`),B=S.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===B.length)for(c=O.length-1,f=B.length-1;1<=c&&0<=f&&O[c]!==B[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==B[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==B[f]){var J=`
`+O[c].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=c&&0<=f);break}}}finally{eo=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?is(o):""}function Ml(s){switch(s.tag){case 26:case 27:case 5:return is(s.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return to(s.type,!1);case 11:return to(s.type.render,!1);case 1:return to(s.type,!0);case 31:return is("Activity");default:return""}}function no(s){try{var r="";do r+=Ml(s),s=s.return;while(s);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pl(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function lp(s){var r=Pl(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),c=""+s[r];if(!s.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function io(s){s._valueTracker||(s._valueTracker=lp(s))}function Ul(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Pl(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function ta(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var cp=/[\n"\\]/g;function Ct(s){return s.replace(cp,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Vn(s,r,o,c,f,g,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+vn(r)):s.value!==""+vn(r)&&(s.value=""+vn(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?Ys(s,T,vn(r)):o!=null?Ys(s,T,vn(o)):c!=null&&s.removeAttribute("value"),f==null&&g!=null&&(s.defaultChecked=!!g),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+vn(S):s.removeAttribute("name")}function na(s,r,o,c,f,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+vn(o):"",r=r!=null?""+vn(r):o,S||r===s.value||(s.value=r),s.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=S?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function Ys(s,r,o){r==="number"&&ta(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ss(s,r,o,c){if(s=s.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=r.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&c&&(s[o].defaultSelected=!0)}else{for(o=""+vn(o),r=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function et(s,r,o){if(r!=null&&(r=""+vn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+vn(o):""}function ia(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(mt(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=vn(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c)}function qn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||sa.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Ll(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&o[f]!==c&&Ku(s,f,c)}else for(var g in r)r.hasOwnProperty(g)&&Ku(s,g,r[g])}function Wl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(s){return hp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var rs=null;function Gn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var as=null,os=null;function Fl(s){var r=wi(s);if(r&&(s=r.stateNode)){var o=s[At]||null;e:switch(s=r.stateNode,r.type){case"input":if(Vn(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var f=c[At]||null;if(!f)throw Error(i(90));Vn(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&Ul(c)}break e;case"textarea":et(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&ss(s,!!o.multiple,r,!1)}}}var Ri=!1;function $u(s,r,o){if(Ri)return s(r,o);Ri=!0;try{var c=s(r);return c}finally{if(Ri=!1,(as!==null||os!==null)&&(Gh(),as&&(r=as,s=os,os=as=null,Fl(r),s)))for(r=0;r<s.length;r++)Fl(s[r])}}function ra(s,r){var o=s.stateNode;if(o===null)return null;var c=o[At]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(li)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Zn=!1}var Ai=null,Js=null,ls=null;function jl(){if(ls)return ls;var s,r=Js,o=r.length,c,f="value"in Ai?Ai.value:Ai.textContent,g=f.length;for(s=0;s<o&&r[s]===f[s];s++);var T=o-s;for(c=1;c<=T&&r[o-c]===f[g-c];c++);return ls=f.slice(s,1<c?1-c:void 0)}function Ci(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ni(){return!0}function Bl(){return!1}function Ht(s){function r(o,c,f,g,T){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(o=s[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ni:Bl,this.isPropagationStopped=Bl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),r}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=Ht(Je),oa=y({},Je,{view:0,detail:0}),eh=Ht(oa),ao,oo,Oi,la=y({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Oi&&(Oi&&s.type==="mousemove"?(ao=s.screenX-Oi.screenX,oo=s.screenY-Oi.screenY):oo=ao=0,Oi=s),ao)},movementY:function(s){return"movementY"in s?s.movementY:oo}}),Yn=Ht(la),th=y({},la,{dataTransfer:0}),dp=Ht(th),ca=y({},oa,{relatedTarget:0}),lo=Ht(ca),zl=y({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),co=Ht(zl),nh=y({},Je,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uo=Ht(nh),fp=y({},Je,{data:0}),Hl=Ht(fp),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=sh[s])?!!r[s]:!1}function ha(){return ql}var rh=y({},oa,{key:function(s){if(s.key){var r=ua[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ci(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ih[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(s){return s.type==="keypress"?Ci(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ci(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ho=Ht(rh),ah=y({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=Ht(ah),cs=y({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),oh=Ht(cs),lh=y({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),ch=Ht(lh),uh=y({},la,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=Ht(uh),Tn=y({},Je,{newState:0,oldState:0}),hh=Ht(Tn),dh=[9,13,27,32],xi=li&&"CompositionEvent"in window,h=null;li&&"documentMode"in document&&(h=document.documentMode);var _=li&&"TextEvent"in window&&!h,v=li&&(!xi||h&&8<h&&11>=h),I=" ",W=!1;function Z(s,r){switch(s){case"keyup":return dh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var je=!1;function Dt(s,r){switch(s){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(W=!0,I);case"textInput":return s=r.data,s===I&&W?null:s;default:return null}}function Be(s,r){if(je)return s==="compositionend"||!xi&&Z(s,r)?(s=jl(),ls=Js=Ai=null,je=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!qt[s.type]:r==="textarea"}function us(s,r,o,c){as?os?os.push(c):os=[c]:as=c,r=Kh(r,"onChange"),0<r.length&&(o=new ro("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var nn=null,ki=null;function Zl(s){YT(s,0)}function fh(s){var r=Si(s);if(Ul(r))return s}function mv(s,r){if(s==="change")return r}var gv=!1;if(li){var pp;if(li){var mp="oninput"in document;if(!mp){var _v=document.createElement("div");_v.setAttribute("oninput","return;"),mp=typeof _v.oninput=="function"}pp=mp}else pp=!1;gv=pp&&(!document.documentMode||9<document.documentMode)}function yv(){nn&&(nn.detachEvent("onpropertychange",vv),ki=nn=null)}function vv(s){if(s.propertyName==="value"&&fh(ki)){var r=[];us(r,ki,s,Gn(s)),$u(Zl,r)}}function $A(s,r,o){s==="focusin"?(yv(),nn=r,ki=o,nn.attachEvent("onpropertychange",vv)):s==="focusout"&&yv()}function eC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return fh(ki)}function tC(s,r){if(s==="click")return fh(r)}function nC(s,r){if(s==="input"||s==="change")return fh(r)}function iC(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Dn=typeof Object.is=="function"?Object.is:iC;function Yl(s,r){if(Dn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Hr.call(r,f)||!Dn(s[f],r[f]))return!1}return!0}function Tv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ev(s,r){var o=Tv(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tv(o)}}function bv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?bv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function wv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ta(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=ta(s.document)}return r}function gp(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var sC=li&&"documentMode"in document&&11>=document.documentMode,po=null,_p=null,Jl=null,yp=!1;function Sv(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;yp||po==null||po!==ta(c)||(c=po,"selectionStart"in c&&gp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Jl&&Yl(Jl,c)||(Jl=c,c=Kh(_p,"onSelect"),0<c.length&&(r=new ro("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=po)))}function da(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var mo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},vp={},Iv={};li&&(Iv=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function fa(s){if(vp[s])return vp[s];if(!mo[s])return s;var r=mo[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Iv)return vp[s]=r[o];return s}var Rv=fa("animationend"),Av=fa("animationiteration"),Cv=fa("animationstart"),rC=fa("transitionrun"),aC=fa("transitionstart"),oC=fa("transitioncancel"),Nv=fa("transitionend"),Ov=new Map,Tp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tp.push("scrollEnd");function ci(s,r){Ov.set(s,r),oi(r,[s])}var xv=new WeakMap;function Jn(s,r){if(typeof s=="object"&&s!==null){var o=xv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:no(r)},xv.set(s,r),r)}return{value:s,source:r,stack:no(r)}}var Qn=[],go=0,Ep=0;function ph(){for(var s=go,r=Ep=go=0;r<s;){var o=Qn[r];Qn[r++]=null;var c=Qn[r];Qn[r++]=null;var f=Qn[r];Qn[r++]=null;var g=Qn[r];if(Qn[r++]=null,c!==null&&f!==null){var T=c.pending;T===null?f.next=f:(f.next=T.next,T.next=f),c.pending=f}g!==0&&kv(o,f,g)}}function mh(s,r,o,c){Qn[go++]=s,Qn[go++]=r,Qn[go++]=o,Qn[go++]=c,Ep|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function bp(s,r,o,c){return mh(s,r,o,c),gh(s)}function _o(s,r){return mh(s,null,null,r),gh(s)}function kv(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var f=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(f=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,f&&r!==null&&(f=31-cn(o),s=g.hiddenUpdates,c=s[f],c===null?s[f]=[r]:c.push(r),r.lane=o|536870912),g):null}function gh(s){if(50<Tc)throw Tc=0,Cm=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var yo={};function lC(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,r,o,c){return new lC(s,r,o,c)}function wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,r){var o=s.alternate;return o===null?(o=Mn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Vv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function _h(s,r,o,c,f,g){var T=0;if(c=s,typeof s=="function")wp(s)&&(T=1);else if(typeof s=="string")T=u2(s,o,me.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Mn(31,o,r,f),s.elementType=C,s.lanes=g,s;case N:return pa(o.children,f,g,r);case z:T=8,f|=24;break;case H:return s=Mn(12,o,r,f|2),s.elementType=H,s.lanes=g,s;case ue:return s=Mn(13,o,r,f),s.elementType=ue,s.lanes=g,s;case ve:return s=Mn(19,o,r,f),s.elementType=ve,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:case ne:T=10;break e;case X:T=9;break e;case re:T=11;break e;case M:T=14;break e;case A:T=16,c=null;break e}T=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Mn(T,o,r,f),r.elementType=s,r.type=c,r.lanes=g,r}function pa(s,r,o,c){return s=Mn(7,s,c,r),s.lanes=o,s}function Sp(s,r,o){return s=Mn(6,s,null,r),s.lanes=o,s}function Ip(s,r,o){return r=Mn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var vo=[],To=0,yh=null,vh=0,Xn=[],Kn=0,ma=null,ds=1,fs="";function ga(s,r){vo[To++]=vh,vo[To++]=yh,yh=s,vh=r}function Dv(s,r,o){Xn[Kn++]=ds,Xn[Kn++]=fs,Xn[Kn++]=ma,ma=s;var c=ds;s=fs;var f=32-cn(c)-1;c&=~(1<<f),o+=1;var g=32-cn(r)+f;if(30<g){var T=f-f%5;g=(c&(1<<T)-1).toString(32),c>>=T,f-=T,ds=1<<32-cn(r)+f|o<<f|c,fs=g+s}else ds=1<<g|o<<f|c,fs=s}function Rp(s){s.return!==null&&(ga(s,1),Dv(s,1,0))}function Ap(s){for(;s===yh;)yh=vo[--To],vo[To]=null,vh=vo[--To],vo[To]=null;for(;s===ma;)ma=Xn[--Kn],Xn[Kn]=null,fs=Xn[--Kn],Xn[Kn]=null,ds=Xn[--Kn],Xn[Kn]=null}var En=null,_t=null,Ye=!1,_a=null,Vi=!1,Cp=Error(i(519));function ya(s){var r=Error(i(418,""));throw Kl(Jn(r,s)),Cp}function Mv(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[Vt]=s,r[At]=c,o){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<bc.length;o++)Pe(bc[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),na(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),io(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),ia(r,c.value,c.defaultValue,c.children),io(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||KT(r.textContent,o)?(c.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),c.onScroll!=null&&Pe("scroll",r),c.onScrollEnd!=null&&Pe("scrollend",r),c.onClick!=null&&(r.onclick=$h),r=!0):r=!1,r||ya(s)}function Pv(s){for(En=s.return;En;)switch(En.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:En=En.return}}function Ql(s){if(s!==En)return!1;if(!Ye)return Pv(s),Ye=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Hm(s.type,s.memoizedProps)),o=!o),o&&_t&&ya(s),Pv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(r===0){_t=hi(s.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;s=s.nextSibling}_t=null}}else r===27?(r=_t,hr(s.type)?(s=Ym,Ym=null,_t=s):_t=r):_t=En?hi(s.stateNode.nextSibling):null;return!0}function Xl(){_t=En=null,Ye=!1}function Uv(){var s=_a;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),_a=null),s}function Kl(s){_a===null?_a=[s]:_a.push(s)}var Np=te(null),va=null,ps=null;function Qs(s,r,o){se(Np,r._currentValue),r._currentValue=o}function ms(s){s._currentValue=Np.current,ce(Np)}function Op(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function xp(s,r,o,c){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var O=0;O<r.length;O++)if(S.context===r[O]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Op(g.return,o,s),c||(T=null);break e}g=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Op(T,o,s),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===s){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function $l(s,r,o,c){s=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=f.type;Dn(f.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(f===zt.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(Cc):s=[Cc])}f=f.return}s!==null&&xp(r,s,o,c),r.flags|=262144}function Th(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ta(s){va=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function un(s){return Lv(va,s)}function Eh(s,r){return va===null&&Ta(s),Lv(s,r)}function Lv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ps===null){if(s===null)throw Error(i(308));ps=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ps=ps.next=r;return o}var cC=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},uC=n.unstable_scheduleCallback,hC=n.unstable_NormalPriority,Pt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kp(){return{controller:new cC,data:new Map,refCount:0}}function ec(s){s.refCount--,s.refCount===0&&uC(hC,function(){s.controller.abort()})}var tc=null,Vp=0,Eo=0,bo=null;function dC(s,r){if(tc===null){var o=tc=[];Vp=0,Eo=Mm(),bo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Vp++,r.then(Wv,Wv),r}function Wv(){if(--Vp===0&&tc!==null){bo!==null&&(bo.status="fulfilled");var s=tc;tc=null,Eo=0,bo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function fC(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Fv=Y.S;Y.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&dC(s,r),Fv!==null&&Fv(s,r)};var Ea=te(null);function Dp(){var s=Ea.current;return s!==null?s:lt.pooledCache}function bh(s,r){r===null?se(Ea,Ea.current):se(Ea,r.pool)}function jv(){var s=Dp();return s===null?null:{parent:Pt._currentValue,pool:s}}var nc=Error(i(460)),Bv=Error(i(474)),wh=Error(i(542)),Mp={then:function(){}};function zv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Sh(){}function Hv(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Sh,Sh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Gv(s),s;default:if(typeof r.status=="string")r.then(Sh,Sh);else{if(s=lt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Gv(s),s}throw ic=r,nc}}var ic=null;function qv(){if(ic===null)throw Error(i(459));var s=ic;return ic=null,s}function Gv(s){if(s===nc||s===wh)throw Error(i(483))}var Xs=!1;function Pp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Up(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ks(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function $s(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=gh(s),kv(s,null,o),r}return mh(s,c,r,o),gh(s)}function sc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,kl(s,o)}}function Lp(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Wp=!1;function rc(){if(Wp){var s=bo;if(s!==null)throw s}}function ac(s,r,o,c){Wp=!1;var f=s.updateQueue;Xs=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,B=O.next;O.next=null,T===null?g=B:T.next=B,T=O;var J=s.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=B:S.next=B,J.lastBaseUpdate=O))}if(g!==null){var $=f.baseState;T=0,J=B=O=null,S=g;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(ze&q)===q:(c&q)===q){q!==0&&q===Eo&&(Wp=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=s,ge=S;q=r;var it=o;switch(ge.tag){case 1:if(we=ge.payload,typeof we=="function"){$=we.call(it,$,q);break e}$=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ge.payload,q=typeof we=="function"?we.call(it,$,q):we,q==null)break e;$=y({},$,q);break e;case 2:Xs=!0}}q=S.callback,q!==null&&(s.flags|=64,G&&(s.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(B=J=G,O=$):J=J.next=G,T|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);J===null&&(O=$),f.baseState=O,f.firstBaseUpdate=B,f.lastBaseUpdate=J,g===null&&(f.shared.lanes=0),or|=T,s.lanes=T,s.memoizedState=$}}function Zv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Yv(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Zv(o[s],r)}var wo=te(null),Ih=te(0);function Jv(s,r){s=bs,se(Ih,s),se(wo,r),bs=s|r.baseLanes}function Fp(){se(Ih,bs),se(wo,wo.current)}function jp(){bs=Ih.current,ce(wo),ce(Ih)}var er=0,Oe=null,tt=null,Nt=null,Rh=!1,So=!1,ba=!1,Ah=0,oc=0,Io=null,pC=0;function wt(){throw Error(i(321))}function Bp(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Dn(s[o],r[o]))return!1;return!0}function zp(s,r,o,c,f,g){return er=g,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=s===null||s.memoizedState===null?k0:V0,ba=!1,g=o(c,f),ba=!1,So&&(g=Xv(r,o,c,f)),Qv(s),g}function Qv(s){Y.H=Vh;var r=tt!==null&&tt.next!==null;if(er=0,Nt=tt=Oe=null,Rh=!1,oc=0,Io=null,r)throw Error(i(300));s===null||Gt||(s=s.dependencies,s!==null&&Th(s)&&(Gt=!0))}function Xv(s,r,o,c){Oe=s;var f=0;do{if(So&&(Io=null),oc=0,So=!1,25<=f)throw Error(i(301));if(f+=1,Nt=tt=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=EC,g=r(o,c)}while(So);return g}function mC(){var s=Y.H,r=s.useState()[0];return r=typeof r.then=="function"?lc(r):r,s=s.useState()[0],(tt!==null?tt.memoizedState:null)!==s&&(Oe.flags|=1024),r}function Hp(){var s=Ah!==0;return Ah=0,s}function qp(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Gp(s){if(Rh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Rh=!1}er=0,Nt=tt=Oe=null,So=!1,oc=Ah=0,Io=null}function Sn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Oe.memoizedState=Nt=s:Nt=Nt.next=s,Nt}function Ot(){if(tt===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var r=Nt===null?Oe.memoizedState:Nt.next;if(r!==null)Nt=r,tt=s;else{if(s===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Oe.memoizedState=Nt=s:Nt=Nt.next=s}return Nt}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lc(s){var r=oc;return oc+=1,Io===null&&(Io=[]),s=Hv(Io,s,r),r=Oe,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?k0:V0),s}function Ch(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return lc(s);if(s.$$typeof===ne)return un(s)}throw Error(i(438,String(s)))}function Yp(s){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Zp(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=V;return r.index++,o}function gs(s,r){return typeof r=="function"?r(s):r}function Nh(s){var r=Ot();return Jp(r,tt,s)}function Jp(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=s.baseQueue,g=c.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}r.baseQueue=f=g,c.pending=null}if(g=s.baseState,f===null)s.memoizedState=g;else{r=f.next;var S=T=null,O=null,B=r,J=!1;do{var $=B.lane&-536870913;if($!==B.lane?(ze&$)===$:(er&$)===$){var q=B.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Eo&&(J=!0);else if((er&q)===q){B=B.next,q===Eo&&(J=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(S=O=$,T=g):O=O.next=$,Oe.lanes|=q,or|=q;$=B.action,ba&&o(g,$),g=B.hasEagerState?B.eagerState:o(g,$)}else q={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(S=O=q,T=g):O=O.next=q,Oe.lanes|=$,or|=$;B=B.next}while(B!==null&&B!==r);if(O===null?T=g:O.next=S,!Dn(g,s.memoizedState)&&(Gt=!0,J&&(o=bo,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=O,c.lastRenderedState=g}return f===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Qp(s){var r=Ot(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do g=s(g,T.action),T=T.next;while(T!==f);Dn(g,r.memoizedState)||(Gt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Kv(s,r,o){var c=Oe,f=Ot(),g=Ye;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!Dn((tt||f).memoizedState,o);T&&(f.memoizedState=o,Gt=!0),f=f.queue;var S=t0.bind(null,c,f,s);if(cc(2048,8,S,[s]),f.getSnapshot!==r||T||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,Ro(9,Oh(),e0.bind(null,c,f,o,r),null),lt===null)throw Error(i(349));g||(er&124)!==0||$v(c,r,o)}return o}function $v(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Zp(),Oe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function e0(s,r,o,c){r.value=o,r.getSnapshot=c,n0(r)&&i0(s)}function t0(s,r,o){return o(function(){n0(r)&&i0(s)})}function n0(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Dn(s,o)}catch{return!0}}function i0(s){var r=_o(s,2);r!==null&&Fn(r,s,2)}function Xp(s){var r=Sn();if(typeof s=="function"){var o=s;if(s=o(),ba){kn(!0);try{o()}finally{kn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},r}function s0(s,r,o,c){return s.baseState=o,Jp(s,tt,typeof c=="function"?c:gs)}function gC(s,r,o,c,f){if(kh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Y.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,r0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function r0(s,r){var o=r.action,c=r.payload,f=s.state;if(r.isTransition){var g=Y.T,T={};Y.T=T;try{var S=o(f,c),O=Y.S;O!==null&&O(T,S),a0(s,r,S)}catch(B){Kp(s,r,B)}finally{Y.T=g}}else try{g=o(f,c),a0(s,r,g)}catch(B){Kp(s,r,B)}}function a0(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){o0(s,r,c)},function(c){return Kp(s,r,c)}):o0(s,r,o)}function o0(s,r,o){r.status="fulfilled",r.value=o,l0(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,r0(s,o)))}function Kp(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,l0(r),r=r.next;while(r!==c)}s.action=null}function l0(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function c0(s,r){return r}function u0(s,r){if(Ye){var o=lt.formState;if(o!==null){e:{var c=Oe;if(Ye){if(_t){t:{for(var f=_t,g=Vi;f.nodeType!==8;){if(!g){f=null;break t}if(f=hi(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){_t=hi(f.nextSibling),c=f.data==="F!";break e}}ya(c)}c=!1}c&&(r=o[0])}}return o=Sn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:r},o.queue=c,o=N0.bind(null,Oe,c),c.dispatch=o,c=Xp(!1),g=im.bind(null,Oe,!1,c.queue),c=Sn(),f={state:r,dispatch:null,action:s,pending:null},c.queue=f,o=gC.bind(null,Oe,f,g,o),f.dispatch=o,c.memoizedState=s,[r,o,!1]}function h0(s){var r=Ot();return d0(r,tt,s)}function d0(s,r,o){if(r=Jp(s,r,c0)[0],s=Nh(gs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=lc(r)}catch(T){throw T===nc?wh:T}else c=r;r=Ot();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,Ro(9,Oh(),_C.bind(null,f,o),null)),[c,g,s]}function _C(s,r){s.action=r}function f0(s){var r=Ot(),o=tt;if(o!==null)return d0(r,o,s);Ot(),r=r.memoizedState,o=Ot();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function Ro(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Zp(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function Oh(){return{destroy:void 0,resource:void 0}}function p0(){return Ot().memoizedState}function xh(s,r,o,c){var f=Sn();c=c===void 0?null:c,Oe.flags|=s,f.memoizedState=Ro(1|r,Oh(),o,c)}function cc(s,r,o,c){var f=Ot();c=c===void 0?null:c;var g=f.memoizedState.inst;tt!==null&&c!==null&&Bp(c,tt.memoizedState.deps)?f.memoizedState=Ro(r,g,o,c):(Oe.flags|=s,f.memoizedState=Ro(1|r,g,o,c))}function m0(s,r){xh(8390656,8,s,r)}function g0(s,r){cc(2048,8,s,r)}function _0(s,r){return cc(4,2,s,r)}function y0(s,r){return cc(4,4,s,r)}function v0(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function T0(s,r,o){o=o!=null?o.concat([s]):null,cc(4,4,v0.bind(null,r,s),o)}function $p(){}function E0(s,r){var o=Ot();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Bp(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function b0(s,r){var o=Ot();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Bp(r,c[1]))return c[0];if(c=s(),ba){kn(!0);try{s()}finally{kn(!1)}}return o.memoizedState=[c,r],c}function em(s,r,o){return o===void 0||(er&1073741824)!==0?s.memoizedState=r:(s.memoizedState=o,s=IT(),Oe.lanes|=s,or|=s,o)}function w0(s,r,o,c){return Dn(o,r)?o:wo.current!==null?(s=em(s,o,c),Dn(s,r)||(Gt=!0),s):(er&42)===0?(Gt=!0,s.memoizedState=o):(s=IT(),Oe.lanes|=s,or|=s,r)}function S0(s,r,o,c,f){var g=le.p;le.p=g!==0&&8>g?g:8;var T=Y.T,S={};Y.T=S,im(s,!1,r,o);try{var O=f(),B=Y.S;if(B!==null&&B(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=fC(O,c);uc(s,r,J,Wn(s))}else uc(s,r,c,Wn(s))}catch($){uc(s,r,{then:function(){},status:"rejected",reason:$},Wn())}finally{le.p=g,Y.T=T}}function yC(){}function tm(s,r,o,c){if(s.tag!==5)throw Error(i(476));var f=I0(s).queue;S0(s,f,r,pe,o===null?yC:function(){return R0(s),o(c)})}function I0(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:pe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function R0(s){var r=I0(s).next.queue;uc(s,r,{},Wn())}function nm(){return un(Cc)}function A0(){return Ot().memoizedState}function C0(){return Ot().memoizedState}function vC(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Wn();s=Ks(o);var c=$s(r,s,o);c!==null&&(Fn(c,r,o),sc(c,r,o)),r={cache:kp()},s.payload=r;return}r=r.return}}function TC(s,r,o){var c=Wn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},kh(s)?O0(r,o):(o=bp(s,r,o,c),o!==null&&(Fn(o,s,c),x0(o,r,c)))}function N0(s,r,o){var c=Wn();uc(s,r,o,c)}function uc(s,r,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(kh(s))O0(r,f);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,S=g(T,o);if(f.hasEagerState=!0,f.eagerState=S,Dn(S,T))return mh(s,r,f,0),lt===null&&ph(),!1}catch{}finally{}if(o=bp(s,r,f,c),o!==null)return Fn(o,s,c),x0(o,r,c),!0}return!1}function im(s,r,o,c){if(c={lane:2,revertLane:Mm(),action:c,hasEagerState:!1,eagerState:null,next:null},kh(s)){if(r)throw Error(i(479))}else r=bp(s,o,c,2),r!==null&&Fn(r,s,2)}function kh(s){var r=s.alternate;return s===Oe||r!==null&&r===Oe}function O0(s,r){So=Rh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function x0(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,kl(s,o)}}var Vh={readContext:un,use:Ch,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},k0={readContext:un,use:Ch,useCallback:function(s,r){return Sn().memoizedState=[s,r===void 0?null:r],s},useContext:un,useEffect:m0,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,xh(4194308,4,v0.bind(null,r,s),o)},useLayoutEffect:function(s,r){return xh(4194308,4,s,r)},useInsertionEffect:function(s,r){xh(4,2,s,r)},useMemo:function(s,r){var o=Sn();r=r===void 0?null:r;var c=s();if(ba){kn(!0);try{s()}finally{kn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=Sn();if(o!==void 0){var f=o(r);if(ba){kn(!0);try{o(r)}finally{kn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},c.queue=s,s=s.dispatch=TC.bind(null,Oe,s),[c.memoizedState,s]},useRef:function(s){var r=Sn();return s={current:s},r.memoizedState=s},useState:function(s){s=Xp(s);var r=s.queue,o=N0.bind(null,Oe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:$p,useDeferredValue:function(s,r){var o=Sn();return em(o,s,r)},useTransition:function(){var s=Xp(!1);return s=S0.bind(null,Oe,s.queue,!0,!1),Sn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=Oe,f=Sn();if(Ye){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),lt===null)throw Error(i(349));(ze&124)!==0||$v(c,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,m0(t0.bind(null,c,g,s),[s]),c.flags|=2048,Ro(9,Oh(),e0.bind(null,c,g,o,r),null),o},useId:function(){var s=Sn(),r=lt.identifierPrefix;if(Ye){var o=fs,c=ds;o=(c&~(1<<32-cn(c)-1)).toString(32)+o,r=""+r+"R"+o,o=Ah++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=pC++,r=""+r+"r"+o.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:nm,useFormState:u0,useActionState:u0,useOptimistic:function(s){var r=Sn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=im.bind(null,Oe,!0,o),o.dispatch=r,[s,r]},useMemoCache:Yp,useCacheRefresh:function(){return Sn().memoizedState=vC.bind(null,Oe)}},V0={readContext:un,use:Ch,useCallback:E0,useContext:un,useEffect:g0,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:y0,useMemo:b0,useReducer:Nh,useRef:p0,useState:function(){return Nh(gs)},useDebugValue:$p,useDeferredValue:function(s,r){var o=Ot();return w0(o,tt.memoizedState,s,r)},useTransition:function(){var s=Nh(gs)[0],r=Ot().memoizedState;return[typeof s=="boolean"?s:lc(s),r]},useSyncExternalStore:Kv,useId:A0,useHostTransitionStatus:nm,useFormState:h0,useActionState:h0,useOptimistic:function(s,r){var o=Ot();return s0(o,tt,s,r)},useMemoCache:Yp,useCacheRefresh:C0},EC={readContext:un,use:Ch,useCallback:E0,useContext:un,useEffect:g0,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:y0,useMemo:b0,useReducer:Qp,useRef:p0,useState:function(){return Qp(gs)},useDebugValue:$p,useDeferredValue:function(s,r){var o=Ot();return tt===null?em(o,s,r):w0(o,tt.memoizedState,s,r)},useTransition:function(){var s=Qp(gs)[0],r=Ot().memoizedState;return[typeof s=="boolean"?s:lc(s),r]},useSyncExternalStore:Kv,useId:A0,useHostTransitionStatus:nm,useFormState:f0,useActionState:f0,useOptimistic:function(s,r){var o=Ot();return tt!==null?s0(o,tt,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Yp,useCacheRefresh:C0},Ao=null,hc=0;function Dh(s){var r=hc;return hc+=1,Ao===null&&(Ao=[]),Hv(Ao,s,r)}function dc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Mh(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function D0(s){var r=s._init;return r(s._payload)}function M0(s){function r(U,D){if(s){var j=U.deletions;j===null?(U.deletions=[D],U.flags|=16):j.push(D)}}function o(U,D){if(!s)return null;for(;D!==null;)r(U,D),D=D.sibling;return null}function c(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function f(U,D){return U=hs(U,D),U.index=0,U.sibling=null,U}function g(U,D,j){return U.index=j,s?(j=U.alternate,j!==null?(j=j.index,j<D?(U.flags|=67108866,D):j):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function T(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function S(U,D,j,K){return D===null||D.tag!==6?(D=Sp(j,U.mode,K),D.return=U,D):(D=f(D,j),D.return=U,D)}function O(U,D,j,K){var de=j.type;return de===N?J(U,D,j.props.children,K,j.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&D0(de)===D.type)?(D=f(D,j.props),dc(D,j),D.return=U,D):(D=_h(j.type,j.key,j.props,null,U.mode,K),dc(D,j),D.return=U,D)}function B(U,D,j,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Ip(j,U.mode,K),D.return=U,D):(D=f(D,j.children||[]),D.return=U,D)}function J(U,D,j,K,de){return D===null||D.tag!==7?(D=pa(j,U.mode,K,de),D.return=U,D):(D=f(D,j),D.return=U,D)}function $(U,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Sp(""+D,U.mode,j),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return j=_h(D.type,D.key,D.props,null,U.mode,j),dc(j,D),j.return=U,j;case R:return D=Ip(D,U.mode,j),D.return=U,D;case A:var K=D._init;return D=K(D._payload),$(U,D,j)}if(mt(D)||L(D))return D=pa(D,U.mode,j,null),D.return=U,D;if(typeof D.then=="function")return $(U,Dh(D),j);if(D.$$typeof===ne)return $(U,Eh(U,D),j);Mh(U,D)}return null}function q(U,D,j,K){var de=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:S(U,D,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===de?O(U,D,j,K):null;case R:return j.key===de?B(U,D,j,K):null;case A:return de=j._init,j=de(j._payload),q(U,D,j,K)}if(mt(j)||L(j))return de!==null?null:J(U,D,j,K,null);if(typeof j.then=="function")return q(U,D,Dh(j),K);if(j.$$typeof===ne)return q(U,D,Eh(U,j),K);Mh(U,j)}return null}function G(U,D,j,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(j)||null,S(D,U,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return U=U.get(K.key===null?j:K.key)||null,O(D,U,K,de);case R:return U=U.get(K.key===null?j:K.key)||null,B(D,U,K,de);case A:var Ve=K._init;return K=Ve(K._payload),G(U,D,j,K,de)}if(mt(K)||L(K))return U=U.get(j)||null,J(D,U,K,de,null);if(typeof K.then=="function")return G(U,D,j,Dh(K),de);if(K.$$typeof===ne)return G(U,D,j,Eh(D,K),de);Mh(D,K)}return null}function we(U,D,j,K){for(var de=null,Ve=null,fe=D,Te=D=0,Yt=null;fe!==null&&Te<j.length;Te++){fe.index>Te?(Yt=fe,fe=null):Yt=fe.sibling;var qe=q(U,fe,j[Te],K);if(qe===null){fe===null&&(fe=Yt);break}s&&fe&&qe.alternate===null&&r(U,fe),D=g(qe,D,Te),Ve===null?de=qe:Ve.sibling=qe,Ve=qe,fe=Yt}if(Te===j.length)return o(U,fe),Ye&&ga(U,Te),de;if(fe===null){for(;Te<j.length;Te++)fe=$(U,j[Te],K),fe!==null&&(D=g(fe,D,Te),Ve===null?de=fe:Ve.sibling=fe,Ve=fe);return Ye&&ga(U,Te),de}for(fe=c(fe);Te<j.length;Te++)Yt=G(fe,U,Te,j[Te],K),Yt!==null&&(s&&Yt.alternate!==null&&fe.delete(Yt.key===null?Te:Yt.key),D=g(Yt,D,Te),Ve===null?de=Yt:Ve.sibling=Yt,Ve=Yt);return s&&fe.forEach(function(gr){return r(U,gr)}),Ye&&ga(U,Te),de}function ge(U,D,j,K){if(j==null)throw Error(i(151));for(var de=null,Ve=null,fe=D,Te=D=0,Yt=null,qe=j.next();fe!==null&&!qe.done;Te++,qe=j.next()){fe.index>Te?(Yt=fe,fe=null):Yt=fe.sibling;var gr=q(U,fe,qe.value,K);if(gr===null){fe===null&&(fe=Yt);break}s&&fe&&gr.alternate===null&&r(U,fe),D=g(gr,D,Te),Ve===null?de=gr:Ve.sibling=gr,Ve=gr,fe=Yt}if(qe.done)return o(U,fe),Ye&&ga(U,Te),de;if(fe===null){for(;!qe.done;Te++,qe=j.next())qe=$(U,qe.value,K),qe!==null&&(D=g(qe,D,Te),Ve===null?de=qe:Ve.sibling=qe,Ve=qe);return Ye&&ga(U,Te),de}for(fe=c(fe);!qe.done;Te++,qe=j.next())qe=G(fe,U,Te,qe.value,K),qe!==null&&(s&&qe.alternate!==null&&fe.delete(qe.key===null?Te:qe.key),D=g(qe,D,Te),Ve===null?de=qe:Ve.sibling=qe,Ve=qe);return s&&fe.forEach(function(b2){return r(U,b2)}),Ye&&ga(U,Te),de}function it(U,D,j,K){if(typeof j=="object"&&j!==null&&j.type===N&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:e:{for(var de=j.key;D!==null;){if(D.key===de){if(de=j.type,de===N){if(D.tag===7){o(U,D.sibling),K=f(D,j.props.children),K.return=U,U=K;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&D0(de)===D.type){o(U,D.sibling),K=f(D,j.props),dc(K,j),K.return=U,U=K;break e}o(U,D);break}else r(U,D);D=D.sibling}j.type===N?(K=pa(j.props.children,U.mode,K,j.key),K.return=U,U=K):(K=_h(j.type,j.key,j.props,null,U.mode,K),dc(K,j),K.return=U,U=K)}return T(U);case R:e:{for(de=j.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){o(U,D.sibling),K=f(D,j.children||[]),K.return=U,U=K;break e}else{o(U,D);break}else r(U,D);D=D.sibling}K=Ip(j,U.mode,K),K.return=U,U=K}return T(U);case A:return de=j._init,j=de(j._payload),it(U,D,j,K)}if(mt(j))return we(U,D,j,K);if(L(j)){if(de=L(j),typeof de!="function")throw Error(i(150));return j=de.call(j),ge(U,D,j,K)}if(typeof j.then=="function")return it(U,D,Dh(j),K);if(j.$$typeof===ne)return it(U,D,Eh(U,j),K);Mh(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(o(U,D.sibling),K=f(D,j),K.return=U,U=K):(o(U,D),K=Sp(j,U.mode,K),K.return=U,U=K),T(U)):o(U,D)}return function(U,D,j,K){try{hc=0;var de=it(U,D,j,K);return Ao=null,de}catch(fe){if(fe===nc||fe===wh)throw fe;var Ve=Mn(29,fe,null,U.mode);return Ve.lanes=K,Ve.return=U,Ve}finally{}}}var Co=M0(!0),P0=M0(!1),$n=te(null),Di=null;function tr(s){var r=s.alternate;se(Ut,Ut.current&1),se($n,s),Di===null&&(r===null||wo.current!==null||r.memoizedState!==null)&&(Di=s)}function U0(s){if(s.tag===22){if(se(Ut,Ut.current),se($n,s),Di===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Di=s)}}else nr()}function nr(){se(Ut,Ut.current),se($n,$n.current)}function _s(s){ce($n),Di===s&&(Di=null),ce(Ut)}var Ut=te(0);function Ph(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Zm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function sm(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:y({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var rm={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Wn(),f=Ks(c);f.payload=r,o!=null&&(f.callback=o),r=$s(s,f,c),r!==null&&(Fn(r,s,c),sc(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Wn(),f=Ks(c);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=$s(s,f,c),r!==null&&(Fn(r,s,c),sc(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Wn(),c=Ks(o);c.tag=2,r!=null&&(c.callback=r),r=$s(s,c,o),r!==null&&(Fn(r,s,o),sc(r,s,o))}};function L0(s,r,o,c,f,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,T):r.prototype&&r.prototype.isPureReactComponent?!Yl(o,c)||!Yl(f,g):!0}function W0(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&rm.enqueueReplaceState(r,r.state,null)}function wa(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=y({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}var Uh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function F0(s){Uh(s)}function j0(s){console.error(s)}function B0(s){Uh(s)}function Lh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function z0(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function am(s,r,o){return o=Ks(o),o.tag=3,o.payload={element:null},o.callback=function(){Lh(s,r)},o}function H0(s){return s=Ks(s),s.tag=3,s}function q0(s,r,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;s.payload=function(){return f(g)},s.callback=function(){z0(r,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){z0(r,o,c),typeof f!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function bC(s,r,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&$l(r,o,f,!0),o=$n.current,o!==null){switch(o.tag){case 13:return Di===null?Om():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Mp?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),km(s,c,f)),!1;case 22:return o.flags|=65536,c===Mp?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),km(s,c,f)),!1}throw Error(i(435,o.tag))}return km(s,c,f),Om(),!1}if(Ye)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==Cp&&(s=Error(i(422),{cause:c}),Kl(Jn(s,o)))):(c!==Cp&&(r=Error(i(423),{cause:c}),Kl(Jn(r,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,c=Jn(c,o),f=am(s.stateNode,c,f),Lp(s,f),yt!==4&&(yt=2)),!1;var g=Error(i(520),{cause:c});if(g=Jn(g,o),vc===null?vc=[g]:vc.push(g),yt!==4&&(yt=2),r===null)return!0;c=Jn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=am(o.stateNode,c,s),Lp(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(lr===null||!lr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=H0(f),q0(f,s,o,c),Lp(o,f),!1}o=o.return}while(o!==null);return!1}var G0=Error(i(461)),Gt=!1;function sn(s,r,o,c){r.child=s===null?P0(r,null,o,c):Co(r,s.child,o,c)}function Z0(s,r,o,c,f){o=o.render;var g=r.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Ta(r),c=zp(s,r,o,T,g,f),S=Hp(),s!==null&&!Gt?(qp(s,r,f),ys(s,r,f)):(Ye&&S&&Rp(r),r.flags|=1,sn(s,r,c,f),r.child)}function Y0(s,r,o,c,f){if(s===null){var g=o.type;return typeof g=="function"&&!wp(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,J0(s,r,g,c,f)):(s=_h(o.type,null,c,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!pm(s,f)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(T,c)&&s.ref===r.ref)return ys(s,r,f)}return r.flags|=1,s=hs(g,c),s.ref=r.ref,s.return=r,r.child=s}function J0(s,r,o,c,f){if(s!==null){var g=s.memoizedProps;if(Yl(g,c)&&s.ref===r.ref)if(Gt=!1,r.pendingProps=c=g,pm(s,f))(s.flags&131072)!==0&&(Gt=!0);else return r.lanes=s.lanes,ys(s,r,f)}return om(s,r,o,c,f)}function Q0(s,r,o){var c=r.pendingProps,f=c.children,g=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,s!==null){for(f=r.child=s.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~c}else r.childLanes=0,r.child=null;return X0(s,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&bh(r,g!==null?g.cachePool:null),g!==null?Jv(r,g):Fp(),U0(r);else return r.lanes=r.childLanes=536870912,X0(s,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(bh(r,g.cachePool),Jv(r,g),nr(),r.memoizedState=null):(s!==null&&bh(r,null),Fp(),nr());return sn(s,r,f,o),r.child}function X0(s,r,o,c){var f=Dp();return f=f===null?null:{parent:Pt._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},s!==null&&bh(r,null),Fp(),U0(r),s!==null&&$l(s,r,c,!0),null}function Wh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function om(s,r,o,c,f){return Ta(r),o=zp(s,r,o,c,void 0,f),c=Hp(),s!==null&&!Gt?(qp(s,r,f),ys(s,r,f)):(Ye&&c&&Rp(r),r.flags|=1,sn(s,r,o,f),r.child)}function K0(s,r,o,c,f,g){return Ta(r),r.updateQueue=null,o=Xv(r,c,o,f),Qv(s),c=Hp(),s!==null&&!Gt?(qp(s,r,g),ys(s,r,g)):(Ye&&c&&Rp(r),r.flags|=1,sn(s,r,o,g),r.child)}function $0(s,r,o,c,f){if(Ta(r),r.stateNode===null){var g=yo,T=o.contextType;typeof T=="object"&&T!==null&&(g=un(T)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Pp(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?un(T):yo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(sm(r,o,T,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&rm.enqueueReplaceState(g,g.state,null),ac(r,c,g,f),rc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var S=r.memoizedProps,O=wa(o,S);g.props=O;var B=g.context,J=o.contextType;T=yo,typeof J=="object"&&J!==null&&(T=un(J));var $=o.getDerivedStateFromProps;J=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||B!==T)&&W0(r,g,c,T),Xs=!1;var q=r.memoizedState;g.state=q,ac(r,c,g,f),rc(),B=r.memoizedState,S||q!==B||Xs?(typeof $=="function"&&(sm(r,o,$,c),B=r.memoizedState),(O=Xs||L0(r,o,O,c,q,B,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=B),g.props=c,g.state=B,g.context=T,c=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Up(s,r),T=r.memoizedProps,J=wa(o,T),g.props=J,$=r.pendingProps,q=g.context,B=o.contextType,O=yo,typeof B=="object"&&B!==null&&(O=un(B)),S=o.getDerivedStateFromProps,(B=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==$||q!==O)&&W0(r,g,c,O),Xs=!1,q=r.memoizedState,g.state=q,ac(r,c,g,f),rc();var G=r.memoizedState;T!==$||q!==G||Xs||s!==null&&s.dependencies!==null&&Th(s.dependencies)?(typeof S=="function"&&(sm(r,o,S,c),G=r.memoizedState),(J=Xs||L0(r,o,J,c,q,G,O)||s!==null&&s.dependencies!==null&&Th(s.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,G,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,G,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=G),g.props=c,g.state=G,g.context=O,c=J):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&q===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&q===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Wh(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=Co(r,s.child,null,f),r.child=Co(r,null,o,f)):sn(s,r,o,f),r.memoizedState=g.state,s=r.child):s=ys(s,r,f),s}function eT(s,r,o,c){return Xl(),r.flags|=256,sn(s,r,o,c),r.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cm(s){return{baseLanes:s,cachePool:jv()}}function um(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=ei),s}function tT(s,r,o){var c=r.pendingProps,f=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ye){if(f?tr(r):nr(),Ye){var S=_t,O;if(O=S){e:{for(O=S,S=Vi;O.nodeType!==8;){if(!S){S=null;break e}if(O=hi(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(r.memoizedState={dehydrated:S,treeContext:ma!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},O=Mn(18,null,null,0),O.stateNode=S,O.return=r,r.child=O,En=r,_t=null,O=!0):O=!1}O||ya(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Zm(S)?r.lanes=32:r.lanes=536870912,null;_s(r)}return S=c.children,c=c.fallback,f?(nr(),f=r.mode,S=Fh({mode:"hidden",children:S},f),c=pa(c,f,o,null),S.return=r,c.return=r,S.sibling=c,r.child=S,f=r.child,f.memoizedState=cm(o),f.childLanes=um(s,T,o),r.memoizedState=lm,c):(tr(r),hm(r,S))}if(O=s.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(g)r.flags&256?(tr(r),r.flags&=-257,r=dm(s,r,o)):r.memoizedState!==null?(nr(),r.child=s.child,r.flags|=128,r=null):(nr(),f=c.fallback,S=r.mode,c=Fh({mode:"visible",children:c.children},S),f=pa(f,S,o,null),f.flags|=2,c.return=r,f.return=r,c.sibling=f,r.child=c,Co(r,s.child,null,o),c=r.child,c.memoizedState=cm(o),c.childLanes=um(s,T,o),r.memoizedState=lm,r=f);else if(tr(r),Zm(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var B=T.dgst;T=B,c=Error(i(419)),c.stack="",c.digest=T,Kl({value:c,source:null,stack:null}),r=dm(s,r,o)}else if(Gt||$l(s,r,o,!1),T=(o&s.childLanes)!==0,Gt||T){if(T=lt,T!==null&&(c=o&-o,c=(c&42)!==0?1:zs(c),c=(c&(T.suspendedLanes|o))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,_o(s,c),Fn(T,s,c),G0;S.data==="$?"||Om(),r=dm(s,r,o)}else S.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=O.treeContext,_t=hi(S.nextSibling),En=r,Ye=!0,_a=null,Vi=!1,s!==null&&(Xn[Kn++]=ds,Xn[Kn++]=fs,Xn[Kn++]=ma,ds=s.id,fs=s.overflow,ma=r),r=hm(r,c.children),r.flags|=4096);return r}return f?(nr(),f=c.fallback,S=r.mode,O=s.child,B=O.sibling,c=hs(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,B!==null?f=hs(B,f):(f=pa(f,S,o,null),f.flags|=2),f.return=r,c.return=r,c.sibling=f,r.child=c,c=f,f=r.child,S=s.child.memoizedState,S===null?S=cm(o):(O=S.cachePool,O!==null?(B=Pt._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=jv(),S={baseLanes:S.baseLanes|o,cachePool:O}),f.memoizedState=S,f.childLanes=um(s,T,o),r.memoizedState=lm,c):(tr(r),o=s.child,s=o.sibling,o=hs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function hm(s,r){return r=Fh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Fh(s,r){return s=Mn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function dm(s,r,o){return Co(r,s.child,null,o),s=hm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function nT(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Op(s.return,r,o)}function fm(s,r,o,c,f){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=f)}function iT(s,r,o){var c=r.pendingProps,f=c.revealOrder,g=c.tail;if(sn(s,r,c.children,o),c=Ut.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&nT(s,o,r);else if(s.tag===19)nT(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(se(Ut,c),f){case"forwards":for(o=r.child,f=null;o!==null;)s=o.alternate,s!==null&&Ph(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),fm(r,!1,f,o,g);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&Ph(s)===null){r.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}fm(r,!0,o,null,g);break;case"together":fm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ys(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),or|=r.lanes,(o&r.childLanes)===0)if(s!==null){if($l(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=hs(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=hs(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function pm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Th(s)))}function wC(s,r,o){switch(r.tag){case 3:ot(r,r.stateNode.containerInfo),Qs(r,Pt,s.memoizedState.cache),Xl();break;case 27:case 5:Bs(r);break;case 4:ot(r,r.stateNode.containerInfo);break;case 10:Qs(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?tT(s,r,o):(tr(r),s=ys(s,r,o),s!==null?s.sibling:null);tr(r);break;case 19:var f=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||($l(s,r,o,!1),c=(o&r.childLanes)!==0),f){if(c)return iT(s,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ut,Ut.current),c)break;return null;case 22:case 23:return r.lanes=0,Q0(s,r,o);case 24:Qs(r,Pt,s.memoizedState.cache)}return ys(s,r,o)}function sT(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Gt=!0;else{if(!pm(s,o)&&(r.flags&128)===0)return Gt=!1,wC(s,r,o);Gt=(s.flags&131072)!==0}else Gt=!1,Ye&&(r.flags&1048576)!==0&&Dv(r,vh,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var c=r.elementType,f=c._init;if(c=f(c._payload),r.type=c,typeof c=="function")wp(c)?(s=wa(c,s),r.tag=1,r=$0(null,r,c,s,o)):(r.tag=0,r=om(null,r,c,s,o));else{if(c!=null){if(f=c.$$typeof,f===re){r.tag=11,r=Z0(null,r,c,s,o);break e}else if(f===M){r.tag=14,r=Y0(null,r,c,s,o);break e}}throw r=en(c)||c,Error(i(306,r,""))}}return r;case 0:return om(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,f=wa(c,r.pendingProps),$0(s,r,c,f,o);case 3:e:{if(ot(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;f=g.element,Up(s,r),ac(r,c,null,o);var T=r.memoizedState;if(c=T.cache,Qs(r,Pt,c),c!==g.cache&&xp(r,[Pt],o,!0),rc(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=eT(s,r,c,o);break e}else if(c!==f){f=Jn(Error(i(424)),r),Kl(f),r=eT(s,r,c,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_t=hi(s.firstChild),En=r,Ye=!0,_a=null,Vi=!0,o=P0(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Xl(),c===f){r=ys(s,r,o);break e}sn(s,r,c,o)}r=r.child}return r;case 26:return Wh(s,r),s===null?(o=lE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ye||(o=r.type,s=r.pendingProps,c=ed(Re.current).createElement(o),c[Vt]=r,c[At]=s,an(c,o,s),bt(c),r.stateNode=c):r.memoizedState=lE(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Bs(r),s===null&&Ye&&(c=r.stateNode=rE(r.type,r.pendingProps,Re.current),En=r,Vi=!0,f=_t,hr(r.type)?(Ym=f,_t=hi(c.firstChild)):_t=f),sn(s,r,r.pendingProps.children,o),Wh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ye&&((f=c=_t)&&(c=XC(c,r.type,r.pendingProps,Vi),c!==null?(r.stateNode=c,En=r,_t=hi(c.firstChild),Vi=!1,f=!0):f=!1),f||ya(r)),Bs(r),f=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,c=g.children,Hm(f,g)?c=null:T!==null&&Hm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=zp(s,r,mC,null,null,o),Cc._currentValue=f),Wh(s,r),sn(s,r,c,o),r.child;case 6:return s===null&&Ye&&((s=o=_t)&&(o=KC(o,r.pendingProps,Vi),o!==null?(r.stateNode=o,En=r,_t=null,s=!0):s=!1),s||ya(r)),null;case 13:return tT(s,r,o);case 4:return ot(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Co(r,null,c,o):sn(s,r,c,o),r.child;case 11:return Z0(s,r,r.type,r.pendingProps,o);case 7:return sn(s,r,r.pendingProps,o),r.child;case 8:return sn(s,r,r.pendingProps.children,o),r.child;case 12:return sn(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Qs(r,r.type,c.value),sn(s,r,c.children,o),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,Ta(r),f=un(f),c=c(f),r.flags|=1,sn(s,r,c,o),r.child;case 14:return Y0(s,r,r.type,r.pendingProps,o);case 15:return J0(s,r,r.type,r.pendingProps,o);case 19:return iT(s,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},s===null?(o=Fh(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=hs(s.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Q0(s,r,o);case 24:return Ta(r),c=un(Pt),s===null?(f=Dp(),f===null&&(f=lt,g=kp(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:c,cache:f},Pp(r),Qs(r,Pt,f)):((s.lanes&o)!==0&&(Up(s,r),ac(r,null,null,o),rc()),f=s.memoizedState,g=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Qs(r,Pt,c)):(c=g.cache,Qs(r,Pt,c),c!==f.cache&&xp(r,[Pt],o,!0))),sn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function vs(s){s.flags|=4}function rT(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!fE(r)){if(r=$n.current,r!==null&&((ze&4194048)===ze?Di!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==Di))throw ic=Mp,Bv;s.flags|=8192}}function jh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ol():536870912,s.lanes|=r,ko|=r)}function fc(s,r){if(!Ye)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function pt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function SC(s,r,o){var c=r.pendingProps;switch(Ap(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ms(Pt),Ei(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ql(r)?vs(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Uv())),pt(r),null;case 26:return o=r.memoizedState,s===null?(vs(r),o!==null?(pt(r),rT(r,o)):(pt(r),r.flags&=-16777217)):o?o!==s.memoizedState?(vs(r),pt(r),rT(r,o)):(pt(r),r.flags&=-16777217):(s.memoizedProps!==c&&vs(r),pt(r),r.flags&=-16777217),null;case 27:Ki(r),o=Re.current;var f=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==c&&vs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return pt(r),null}s=me.current,Ql(r)?Mv(r):(s=rE(f,c,o),r.stateNode=s,vs(r))}return pt(r),null;case 5:if(Ki(r),o=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&vs(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return pt(r),null}if(s=me.current,Ql(r))Mv(r);else{switch(f=ed(Re.current),s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}s[Vt]=r,s[At]=c;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=s;e:switch(an(s,o,c),o){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vs(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&vs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Re.current,Ql(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,f=En,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}s[Vt]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||KT(s.nodeValue,o)),s||ya(r)}else s=ed(s).createTextNode(c),s[Vt]=r,r.stateNode=s}return pt(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=Ql(r),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Vt]=r}else Xl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),f=!1}else f=Uv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(_s(r),r):(_s(r),null)}if(_s(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,s=s!==null&&s.memoizedState!==null,o){c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)}return o!==s&&o&&(r.child.flags|=8192),jh(r,r.updateQueue),pt(r),null;case 4:return Ei(),s===null&&Wm(r.stateNode.containerInfo),pt(r),null;case 10:return ms(r.type),pt(r),null;case 19:if(ce(Ut),f=r.memoizedState,f===null)return pt(r),null;if(c=(r.flags&128)!==0,g=f.rendering,g===null)if(c)fc(f,!1);else{if(yt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Ph(s),g!==null){for(r.flags|=128,fc(f,!1),s=g.updateQueue,r.updateQueue=s,jh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Vv(o,s),o=o.sibling;return se(Ut,Ut.current&1|2),r.child}s=s.sibling}f.tail!==null&&zn()>Hh&&(r.flags|=128,c=!0,fc(f,!1),r.lanes=4194304)}else{if(!c)if(s=Ph(g),s!==null){if(r.flags|=128,c=!0,s=s.updateQueue,r.updateQueue=s,jh(r,s),fc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ye)return pt(r),null}else 2*zn()-f.renderingStartTime>Hh&&o!==536870912&&(r.flags|=128,c=!0,fc(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(s=f.last,s!==null?s.sibling=g:r.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=zn(),r.sibling=null,s=Ut.current,se(Ut,c?s&1|2:s&1),r):(pt(r),null);case 22:case 23:return _s(r),jp(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),o=r.updateQueue,o!==null&&jh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&ce(Ea),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ms(Pt),pt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function IC(s,r){switch(Ap(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ms(Pt),Ei(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ki(r),null;case 13:if(_s(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Xl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ce(Ut),null;case 4:return Ei(),null;case 10:return ms(r.type),null;case 22:case 23:return _s(r),jp(),s!==null&&ce(Ea),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ms(Pt),null;case 25:return null;default:return null}}function aT(s,r){switch(Ap(r),r.tag){case 3:ms(Pt),Ei();break;case 26:case 27:case 5:Ki(r);break;case 4:Ei();break;case 13:_s(r);break;case 19:ce(Ut);break;case 10:ms(r.type);break;case 22:case 23:_s(r),jp(),s!==null&&ce(Ea);break;case 24:ms(Pt)}}function pc(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&s)===s){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==f)}}catch(S){rt(r,r.return,S)}}function ir(s,r,o){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&s)===s){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var O=o,B=S;try{B()}catch(J){rt(f,O,J)}}}c=c.next}while(c!==g)}}catch(J){rt(r,r.return,J)}}function oT(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Yv(r,o)}catch(c){rt(s,s.return,c)}}}function lT(s,r,o){o.props=wa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){rt(s,r,c)}}function mc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(f){rt(s,r,f)}}function Mi(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){rt(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){rt(s,r,f)}else o.current=null}function cT(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){rt(s,s.return,f)}}function mm(s,r,o){try{var c=s.stateNode;GC(c,s.type,o,r),c[At]=r}catch(f){rt(s,s.return,f)}}function uT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&hr(s.type)||s.tag===4}function gm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||uT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&hr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _m(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$h));else if(c!==4&&(c===27&&hr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(_m(s,r,o),s=s.sibling;s!==null;)_m(s,r,o),s=s.sibling}function Bh(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&hr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Bh(s,r,o),s=s.sibling;s!==null;)Bh(s,r,o),s=s.sibling}function hT(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,c,o),r[Vt]=s,r[At]=o}catch(g){rt(s,s.return,g)}}var Ts=!1,St=!1,ym=!1,dT=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function RC(s,r){if(s=s.containerInfo,Bm=ad,s=wv(s),gp(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,O=-1,B=0,J=0,$=s,q=null;t:for(;;){for(var G;$!==o||f!==0&&$.nodeType!==3||(S=T+f),$!==g||c!==0&&$.nodeType!==3||(O=T+c),$.nodeType===3&&(T+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===s)break t;if(q===o&&++B===f&&(S=T),q===g&&++J===c&&(O=T),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}o=S===-1||O===-1?null:{start:S,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(zm={focusedElem:s,selectionRange:o},ad=!1,Zt=r;Zt!==null;)if(r=Zt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Zt=s;else for(;Zt!==null;){switch(r=Zt,g=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var we=wa(o.type,f,o.elementType===o.type);s=c.getSnapshotBeforeUpdate(we,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(ge){rt(o,o.return,ge)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Gm(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Gm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Zt=s;break}Zt=r.return}}function fT(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:sr(s,o),c&4&&pc(5,o);break;case 1:if(sr(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){rt(o,o.return,T)}else{var f=wa(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){rt(o,o.return,T)}}c&64&&oT(o),c&512&&mc(o,o.return);break;case 3:if(sr(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Yv(s,r)}catch(T){rt(o,o.return,T)}}break;case 27:r===null&&c&4&&hT(o);case 26:case 5:sr(s,o),r===null&&c&4&&cT(o),c&512&&mc(o,o.return);break;case 12:sr(s,o);break;case 13:sr(s,o),c&4&&gT(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=MC.bind(null,o),$C(s,o))));break;case 22:if(c=o.memoizedState!==null||Ts,!c){r=r!==null&&r.memoizedState!==null||St,f=Ts;var g=St;Ts=c,(St=r)&&!g?rr(s,o,(o.subtreeFlags&8772)!==0):sr(s,o),Ts=f,St=g}break;case 30:break;default:sr(s,o)}}function pT(s){var r=s.alternate;r!==null&&(s.alternate=null,pT(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Gs(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var dt=null,In=!1;function Es(s,r,o){for(o=o.child;o!==null;)mT(s,r,o),o=o.sibling}function mT(s,r,o){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:St||Mi(o,r),Es(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Mi(o,r);var c=dt,f=In;hr(o.type)&&(dt=o.stateNode,In=!1),Es(s,r,o),Sc(o.stateNode),dt=c,In=f;break;case 5:St||Mi(o,r);case 6:if(c=dt,f=In,dt=null,Es(s,r,o),dt=c,In=f,dt!==null)if(In)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){rt(o,r,g)}else try{dt.removeChild(o.stateNode)}catch(g){rt(o,r,g)}break;case 18:dt!==null&&(In?(s=dt,iE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),kc(s)):iE(dt,o.stateNode));break;case 4:c=dt,f=In,dt=o.stateNode.containerInfo,In=!0,Es(s,r,o),dt=c,In=f;break;case 0:case 11:case 14:case 15:St||ir(2,o,r),St||ir(4,o,r),Es(s,r,o);break;case 1:St||(Mi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&lT(o,r,c)),Es(s,r,o);break;case 21:Es(s,r,o);break;case 22:St=(c=St)||o.memoizedState!==null,Es(s,r,o),St=c;break;default:Es(s,r,o)}}function gT(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kc(s)}catch(o){rt(r,r.return,o)}}function AC(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new dT),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new dT),r;default:throw Error(i(435,s.tag))}}function vm(s,r){var o=AC(s);r.forEach(function(c){var f=PC.bind(null,s,c);o.has(c)||(o.add(c),c.then(f,f))})}function Pn(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],g=s,T=r,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(hr(S.type)){dt=S.stateNode,In=!1;break e}break;case 5:dt=S.stateNode,In=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(dt===null)throw Error(i(160));mT(g,T,f),dt=null,In=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)_T(r,s),r=r.sibling}var ui=null;function _T(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Pn(r,s),Un(s),c&4&&(ir(3,s,s.return),pc(3,s),ir(5,s,s.return));break;case 1:Pn(r,s),Un(s),c&512&&(St||o===null||Mi(o,o.return)),c&64&&Ts&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=ui;if(Pn(r,s),Un(s),c&512&&(St||o===null||Mi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Kr]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),an(g,c,o),g[Vt]=s,bt(g),c=g;break e;case"link":var T=hE("link","href",f).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=f.createElement(c),an(g,c,o),f.head.appendChild(g);break;case"meta":if(T=hE("meta","content",f).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=f.createElement(c),an(g,c,o),f.head.appendChild(g);break;default:throw Error(i(468,c))}g[Vt]=s,bt(g),c=g}s.stateNode=c}else dE(f,s.type,s.stateNode);else s.stateNode=uE(f,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?dE(f,s.type,s.stateNode):uE(f,c,s.memoizedProps)):c===null&&s.stateNode!==null&&mm(s,s.memoizedProps,o.memoizedProps)}break;case 27:Pn(r,s),Un(s),c&512&&(St||o===null||Mi(o,o.return)),o!==null&&c&4&&mm(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Pn(r,s),Un(s),c&512&&(St||o===null||Mi(o,o.return)),s.flags&32){f=s.stateNode;try{qn(f,"")}catch(G){rt(s,s.return,G)}}c&4&&s.stateNode!=null&&(f=s.memoizedProps,mm(s,f,o!==null?o.memoizedProps:f)),c&1024&&(ym=!0);break;case 6:if(Pn(r,s),Un(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(G){rt(s,s.return,G)}}break;case 3:if(id=null,f=ui,ui=td(r.containerInfo),Pn(r,s),ui=f,Un(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{kc(r.containerInfo)}catch(G){rt(s,s.return,G)}ym&&(ym=!1,yT(s));break;case 4:c=ui,ui=td(s.stateNode.containerInfo),Pn(r,s),Un(s),ui=c;break;case 12:Pn(r,s),Un(s);break;case 13:Pn(r,s),Un(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Im=zn()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,vm(s,c)));break;case 22:f=s.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,B=Ts,J=St;if(Ts=B||f,St=J||O,Pn(r,s),St=J,Ts=B,Un(s),c&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||Ts||St||Sa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=O.stateNode;var $=O.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){rt(O,O.return,G)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(G){rt(O,O.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,vm(s,o))));break;case 19:Pn(r,s),Un(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,vm(s,c)));break;case 30:break;case 21:break;default:Pn(r,s),Un(s)}}function Un(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if(uT(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=gm(s);Bh(s,g,f);break;case 5:var T=o.stateNode;o.flags&32&&(qn(T,""),o.flags&=-33);var S=gm(s);Bh(s,S,T);break;case 3:case 4:var O=o.stateNode.containerInfo,B=gm(s);_m(s,B,O);break;default:throw Error(i(161))}}catch(J){rt(s,s.return,J)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function yT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;yT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function sr(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)fT(s,r.alternate,r),r=r.sibling}function Sa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ir(4,r,r.return),Sa(r);break;case 1:Mi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&lT(r,r.return,o),Sa(r);break;case 27:Sc(r.stateNode);case 26:case 5:Mi(r,r.return),Sa(r);break;case 22:r.memoizedState===null&&Sa(r);break;case 30:Sa(r);break;default:Sa(r)}s=s.sibling}}function rr(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:rr(f,g,o),pc(4,g);break;case 1:if(rr(f,g,o),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){rt(c,c.return,B)}if(c=g,f=c.updateQueue,f!==null){var S=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Zv(O[f],S)}catch(B){rt(c,c.return,B)}}o&&T&64&&oT(g),mc(g,g.return);break;case 27:hT(g);case 26:case 5:rr(f,g,o),o&&c===null&&T&4&&cT(g),mc(g,g.return);break;case 12:rr(f,g,o);break;case 13:rr(f,g,o),o&&T&4&&gT(f,g);break;case 22:g.memoizedState===null&&rr(f,g,o),mc(g,g.return);break;case 30:break;default:rr(f,g,o)}r=r.sibling}}function Tm(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&ec(o))}function Em(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ec(s))}function Pi(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vT(s,r,o,c),r=r.sibling}function vT(s,r,o,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(s,r,o,c),f&2048&&pc(9,r);break;case 1:Pi(s,r,o,c);break;case 3:Pi(s,r,o,c),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&ec(s)));break;case 12:if(f&2048){Pi(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){rt(r,r.return,O)}}else Pi(s,r,o,c);break;case 13:Pi(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Pi(s,r,o,c):gc(s,r):g._visibility&2?Pi(s,r,o,c):(g._visibility|=2,No(s,r,o,c,(r.subtreeFlags&10256)!==0)),f&2048&&Tm(T,r);break;case 24:Pi(s,r,o,c),f&2048&&Em(r.alternate,r);break;default:Pi(s,r,o,c)}}function No(s,r,o,c,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=s,T=r,S=o,O=c,B=T.flags;switch(T.tag){case 0:case 11:case 15:No(g,T,S,O,f),pc(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?No(g,T,S,O,f):gc(g,T):(J._visibility|=2,No(g,T,S,O,f)),f&&B&2048&&Tm(T.alternate,T);break;case 24:No(g,T,S,O,f),f&&B&2048&&Em(T.alternate,T);break;default:No(g,T,S,O,f)}r=r.sibling}}function gc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,f=c.flags;switch(c.tag){case 22:gc(o,c),f&2048&&Tm(c.alternate,c);break;case 24:gc(o,c),f&2048&&Em(c.alternate,c);break;default:gc(o,c)}r=r.sibling}}var _c=8192;function Oo(s){if(s.subtreeFlags&_c)for(s=s.child;s!==null;)TT(s),s=s.sibling}function TT(s){switch(s.tag){case 26:Oo(s),s.flags&_c&&s.memoizedState!==null&&d2(ui,s.memoizedState,s.memoizedProps);break;case 5:Oo(s);break;case 3:case 4:var r=ui;ui=td(s.stateNode.containerInfo),Oo(s),ui=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=_c,_c=16777216,Oo(s),_c=r):Oo(s));break;default:Oo(s)}}function ET(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function yc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Zt=c,wT(c,s)}ET(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bT(s),s=s.sibling}function bT(s){switch(s.tag){case 0:case 11:case 15:yc(s),s.flags&2048&&ir(9,s,s.return);break;case 3:yc(s);break;case 12:yc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,zh(s)):yc(s);break;default:yc(s)}}function zh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Zt=c,wT(c,s)}ET(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ir(8,r,r.return),zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,zh(r));break;default:zh(r)}s=s.sibling}}function wT(s,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:ir(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ec(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Zt=c;else e:for(o=s;Zt!==null;){c=Zt;var f=c.sibling,g=c.return;if(pT(c),c===o){Zt=null;break e}if(f!==null){f.return=g,Zt=f;break e}Zt=g}}}var CC={getCacheForType:function(s){var r=un(Pt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o}},NC=typeof WeakMap=="function"?WeakMap:Map,Ke=0,lt=null,Me=null,ze=0,$e=0,Ln=null,ar=!1,xo=!1,bm=!1,bs=0,yt=0,or=0,Ia=0,wm=0,ei=0,ko=0,vc=null,Rn=null,Sm=!1,Im=0,Hh=1/0,qh=null,lr=null,rn=0,cr=null,Vo=null,Do=0,Rm=0,Am=null,ST=null,Tc=0,Cm=null;function Wn(){if((Ke&2)!==0&&ze!==0)return ze&-ze;if(Y.T!==null){var s=Eo;return s!==0?s:Mm()}return Hs()}function IT(){ei===0&&(ei=(ze&536870912)===0||Ye?Nl():536870912);var s=$n.current;return s!==null&&(s.flags|=32),ei}function Fn(s,r,o){(s===lt&&($e===2||$e===9)||s.cancelPendingCommit!==null)&&(Mo(s,0),ur(s,ze,ei,!1)),es(s,o),((Ke&2)===0||s!==lt)&&(s===lt&&((Ke&2)===0&&(Ia|=o),yt===4&&ur(s,ze,ei,!1)),Ui(s))}function RT(s,r,o){if((Ke&6)!==0)throw Error(i(327));var c=!o&&(r&124)===0&&(r&s.expiredLanes)===0||Xr(s,r),f=c?kC(s,r):xm(s,r,!0),g=c;do{if(f===0){xo&&!c&&ur(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!OC(o)){f=xm(s,r,!1),g=!1;continue}if(f===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var S=s;f=vc;var O=S.current.memoizedState.isDehydrated;if(O&&(Mo(S,T).flags|=256),T=xm(S,T,!1),T!==2){if(bm&&!O){S.errorRecoveryDisabledLanes|=g,Ia|=g,f=4;break e}g=Rn,Rn=f,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){Mo(s,0),ur(s,r,0,!0);break}e:{switch(c=s,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ur(c,r,ei,!ar);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Im+300-zn(),10<f)){if(ur(c,r,ei,!ar),Xa(c,0,!0)!==0)break e;c.timeoutHandle=tE(AT.bind(null,c,o,Rn,qh,Sm,r,ei,Ia,ko,ar,g,2,-0,0),f);break e}AT(c,o,Rn,qh,Sm,r,ei,Ia,ko,ar,g,0,-0,0)}}break}while(!0);Ui(s)}function AT(s,r,o,c,f,g,T,S,O,B,J,$,q,G){if(s.timeoutHandle=-1,$=r.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ac={stylesheets:null,count:0,unsuspend:h2},TT(r),$=f2(),$!==null)){s.cancelPendingCommit=$(DT.bind(null,s,r,g,o,c,f,T,S,O,J,1,q,G)),ur(s,g,T,!B);return}DT(s,r,g,o,c,f,T,S,O)}function OC(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],g=f.getSnapshot;f=f.value;try{if(!Dn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ur(s,r,o,c){r&=~wm,r&=~Ia,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var f=r;0<f;){var g=31-cn(f),T=1<<g;c[g]=-1,f&=~T}o!==0&&bi(s,o,r)}function Gh(){return(Ke&6)===0?(Ec(0),!1):!0}function Nm(){if(Me!==null){if($e===0)var s=Me.return;else s=Me,ps=va=null,Gp(s),Ao=null,hc=0,s=Me;for(;s!==null;)aT(s.alternate,s),s=s.return;Me=null}}function Mo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,YC(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Nm(),lt=s,Me=o=hs(s.current,null),ze=r,$e=0,Ln=null,ar=!1,xo=Xr(s,r),bm=!1,ko=ei=wm=Ia=or=yt=0,Rn=vc=null,Sm=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var f=31-cn(c),g=1<<f;r|=s[f],c&=~g}return bs=r,ph(),o}function CT(s,r){Oe=null,Y.H=Vh,r===nc||r===wh?(r=qv(),$e=3):r===Bv?(r=qv(),$e=4):$e=r===G0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Me===null&&(yt=1,Lh(s,Jn(r,s.current)))}function NT(){var s=Y.H;return Y.H=Vh,s===null?Vh:s}function OT(){var s=Y.A;return Y.A=CC,s}function Om(){yt=4,ar||(ze&4194048)!==ze&&$n.current!==null||(xo=!0),(or&134217727)===0&&(Ia&134217727)===0||lt===null||ur(lt,ze,ei,!1)}function xm(s,r,o){var c=Ke;Ke|=2;var f=NT(),g=OT();(lt!==s||ze!==r)&&(qh=null,Mo(s,r)),r=!1;var T=yt;e:do try{if($e!==0&&Me!==null){var S=Me,O=Ln;switch($e){case 8:Nm(),T=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var B=$e;if($e=0,Ln=null,Po(s,S,O,B),o&&xo){T=0;break e}break;default:B=$e,$e=0,Ln=null,Po(s,S,O,B)}}xC(),T=yt;break}catch(J){CT(s,J)}while(!0);return r&&s.shellSuspendCounter++,ps=va=null,Ke=c,Y.H=f,Y.A=g,Me===null&&(lt=null,ze=0,ph()),T}function xC(){for(;Me!==null;)xT(Me)}function kC(s,r){var o=Ke;Ke|=2;var c=NT(),f=OT();lt!==s||ze!==r?(qh=null,Hh=zn()+500,Mo(s,r)):xo=Xr(s,r);e:do try{if($e!==0&&Me!==null){r=Me;var g=Ln;t:switch($e){case 1:$e=0,Ln=null,Po(s,r,g,1);break;case 2:case 9:if(zv(g)){$e=0,Ln=null,kT(r);break}r=function(){$e!==2&&$e!==9||lt!==s||($e=7),Ui(s)},g.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:zv(g)?($e=0,Ln=null,kT(r)):($e=0,Ln=null,Po(s,r,g,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var S=Me;if(!T||fE(T)){$e=0,Ln=null;var O=S.sibling;if(O!==null)Me=O;else{var B=S.return;B!==null?(Me=B,Zh(B)):Me=null}break t}}$e=0,Ln=null,Po(s,r,g,5);break;case 6:$e=0,Ln=null,Po(s,r,g,6);break;case 8:Nm(),yt=6;break e;default:throw Error(i(462))}}VC();break}catch(J){CT(s,J)}while(!0);return ps=va=null,Y.H=c,Y.A=f,Ke=o,Me!==null?0:(lt=null,ze=0,ph(),yt)}function VC(){for(;Me!==null&&!Il();)xT(Me)}function xT(s){var r=sT(s.alternate,s,bs);s.memoizedProps=s.pendingProps,r===null?Zh(s):Me=r}function kT(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=K0(o,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=K0(o,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Gp(r);default:aT(o,r),r=Me=Vv(r,bs),r=sT(o,r,bs)}s.memoizedProps=s.pendingProps,r===null?Zh(s):Me=r}function Po(s,r,o,c){ps=va=null,Gp(r),Ao=null,hc=0;var f=r.return;try{if(bC(s,f,r,o,ze)){yt=1,Lh(s,Jn(o,s.current)),Me=null;return}}catch(g){if(f!==null)throw Me=f,g;yt=1,Lh(s,Jn(o,s.current)),Me=null;return}r.flags&32768?(Ye||c===1?s=!0:xo||(ze&536870912)!==0?s=!1:(ar=s=!0,(c===2||c===9||c===3||c===6)&&(c=$n.current,c!==null&&c.tag===13&&(c.flags|=16384))),VT(r,s)):Zh(r)}function Zh(s){var r=s;do{if((r.flags&32768)!==0){VT(r,ar);return}s=r.return;var o=SC(r.alternate,r,bs);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=s}while(r!==null);yt===0&&(yt=5)}function VT(s,r){do{var o=IC(s.alternate,s);if(o!==null){o.flags&=32767,Me=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Me=s;return}Me=s=o}while(s!==null);yt=6,Me=null}function DT(s,r,o,c,f,g,T,S,O){s.cancelPendingCommit=null;do Yh();while(rn!==0);if((Ke&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Ep,xl(s,o,g,T,S,O),s===lt&&(Me=lt=null,ze=0),Vo=r,cr=s,Do=o,Rm=g,Am=f,ST=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,UC(Zr,function(){return WT(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,f=le.p,le.p=2,T=Ke,Ke|=4;try{RC(s,r,o)}finally{Ke=T,le.p=f,Y.T=c}}rn=1,MT(),PT(),UT()}}function MT(){if(rn===1){rn=0;var s=cr,r=Vo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=le.p;le.p=2;var f=Ke;Ke|=4;try{_T(r,s);var g=zm,T=wv(s.containerInfo),S=g.focusedElem,O=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&bv(S.ownerDocument.documentElement,S)){if(O!==null&&gp(S)){var B=O.start,J=O.end;if(J===void 0&&(J=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(J,S.value.length);else{var $=S.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),we=S.textContent.length,ge=Math.min(O.start,we),it=O.end===void 0?ge:Math.min(O.end,we);!G.extend&&ge>it&&(T=it,it=ge,ge=T);var U=Ev(S,ge),D=Ev(S,it);if(U&&D&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var j=$.createRange();j.setStart(U.node,U.offset),G.removeAllRanges(),ge>it?(G.addRange(j),G.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),G.addRange(j))}}}}for($=[],G=S;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var K=$[S];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}ad=!!Bm,zm=Bm=null}finally{Ke=f,le.p=c,Y.T=o}}s.current=r,rn=2}}function PT(){if(rn===2){rn=0;var s=cr,r=Vo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=le.p;le.p=2;var f=Ke;Ke|=4;try{fT(s,r.alternate,r)}finally{Ke=f,le.p=c,Y.T=o}}rn=3}}function UT(){if(rn===4||rn===3){rn=0,zu();var s=cr,r=Vo,o=Do,c=ST;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?rn=5:(rn=0,Vo=cr=null,LT(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(lr=null),Ka(o),r=r.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(gt,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Y.T,f=le.p,le.p=2,Y.T=null;try{for(var g=s.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{Y.T=r,le.p=f}}(Do&3)!==0&&Yh(),Ui(s),f=s.pendingLanes,(o&4194090)!==0&&(f&42)!==0?s===Cm?Tc++:(Tc=0,Cm=s):Tc=0,Ec(0)}}function LT(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,ec(r)))}function Yh(s){return MT(),PT(),UT(),WT()}function WT(){if(rn!==5)return!1;var s=cr,r=Rm;Rm=0;var o=Ka(Do),c=Y.T,f=le.p;try{le.p=32>o?32:o,Y.T=null,o=Am,Am=null;var g=cr,T=Do;if(rn=0,Vo=cr=null,Do=0,(Ke&6)!==0)throw Error(i(331));var S=Ke;if(Ke|=4,bT(g.current),vT(g,g.current,T,o),Ke=S,Ec(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(gt,g)}catch{}return!0}finally{le.p=f,Y.T=c,LT(s,r)}}function FT(s,r,o){r=Jn(o,r),r=am(s.stateNode,r,2),s=$s(s,r,2),s!==null&&(es(s,2),Ui(s))}function rt(s,r,o){if(s.tag===3)FT(s,s,o);else for(;r!==null;){if(r.tag===3){FT(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(lr===null||!lr.has(c))){s=Jn(o,s),o=H0(2),c=$s(r,o,2),c!==null&&(q0(o,c,r,s),es(c,2),Ui(c));break}}r=r.return}}function km(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new NC;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(o)||(bm=!0,f.add(o),s=DC.bind(null,s,r,o),r.then(s,s))}function DC(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,lt===s&&(ze&o)===o&&(yt===4||yt===3&&(ze&62914560)===ze&&300>zn()-Im?(Ke&2)===0&&Mo(s,0):wm|=o,ko===ze&&(ko=0)),Ui(s)}function jT(s,r){r===0&&(r=Ol()),s=_o(s,r),s!==null&&(es(s,r),Ui(s))}function MC(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),jT(s,o)}function PC(s,r){var o=0;switch(s.tag){case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),jT(s,o)}function UC(s,r){return qr(s,r)}var Jh=null,Uo=null,Vm=!1,Qh=!1,Dm=!1,Ra=0;function Ui(s){s!==Uo&&s.next===null&&(Uo===null?Jh=Uo=s:Uo=Uo.next=s),Qh=!0,Vm||(Vm=!0,WC())}function Ec(s,r){if(!Dm&&Qh){Dm=!0;do for(var o=!1,c=Jh;c!==null;){if(s!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-cn(42|s)+1)-1,g&=f&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,qT(c,g))}else g=ze,g=Xa(c,c===lt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Xr(c,g)||(o=!0,qT(c,g));c=c.next}while(o);Dm=!1}}function LC(){BT()}function BT(){Qh=Vm=!1;var s=0;Ra!==0&&(ZC()&&(s=Ra),Ra=0);for(var r=zn(),o=null,c=Jh;c!==null;){var f=c.next,g=zT(c,r);g===0?(c.next=null,o===null?Jh=f:o.next=f,f===null&&(Uo=o)):(o=c,(s!==0||(g&3)!==0)&&(Qh=!0)),c=f}Ec(s)}function zT(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-cn(g),S=1<<T,O=f[T];O===-1?((S&o)===0||(S&c)!==0)&&(f[T]=Cl(S,r)):O<=r&&(s.expiredLanes|=S),g&=~S}if(r=lt,o=ze,o=Xa(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&($e===2||$e===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Gr(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Xr(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Gr(c),Ka(o)){case 2:case 8:o=Ja;break;case 32:o=Zr;break;case 268435456:o=Qa;break;default:o=Zr}return c=HT.bind(null,s),o=qr(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Gr(c),s.callbackPriority=2,s.callbackNode=null,2}function HT(s,r){if(rn!==0&&rn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Yh()&&s.callbackNode!==o)return null;var c=ze;return c=Xa(s,s===lt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(RT(s,c,r),zT(s,zn()),s.callbackNode!=null&&s.callbackNode===o?HT.bind(null,s):null)}function qT(s,r){if(Yh())return null;RT(s,r,!0)}function WC(){JC(function(){(Ke&6)!==0?qr(Rl,LC):BT()})}function Mm(){return Ra===0&&(Ra=Nl()),Ra}function GT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:so(""+s)}function ZT(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function FC(s,r,o,c,f){if(r==="submit"&&o&&o.stateNode===f){var g=GT((f[At]||null).action),T=c.submitter;T&&(r=(r=T[At]||null)?GT(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var S=new ro("action","action",null,c,f);s.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ra!==0){var O=T?ZT(f,T):new FormData(f);tm(o,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(S.preventDefault(),O=T?ZT(f,T):new FormData(f),tm(o,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var Pm=0;Pm<Tp.length;Pm++){var Um=Tp[Pm],jC=Um.toLowerCase(),BC=Um[0].toUpperCase()+Um.slice(1);ci(jC,"on"+BC)}ci(Rv,"onAnimationEnd"),ci(Av,"onAnimationIteration"),ci(Cv,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(rC,"onTransitionRun"),ci(aC,"onTransitionStart"),ci(oC,"onTransitionCancel"),ci(Nv,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function YT(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],f=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var T=c.length-1;0<=T;T--){var S=c[T],O=S.instance,B=S.currentTarget;if(S=S.listener,O!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=B;try{g(f)}catch(J){Uh(J)}f.currentTarget=null,g=O}else for(T=0;T<c.length;T++){if(S=c[T],O=S.instance,B=S.currentTarget,S=S.listener,O!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=B;try{g(f)}catch(J){Uh(J)}f.currentTarget=null,g=O}}}}function Pe(s,r){var o=r[Vl];o===void 0&&(o=r[Vl]=new Set);var c=s+"__bubble";o.has(c)||(JT(r,s,2,!1),o.add(c))}function Lm(s,r,o){var c=0;r&&(c|=4),JT(o,s,c,r)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Wm(s){if(!s[Xh]){s[Xh]=!0,Dl.forEach(function(o){o!=="selectionchange"&&(zC.has(o)||Lm(o,!1,s),Lm(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Xh]||(r[Xh]=!0,Lm("selectionchange",!1,r))}}function JT(s,r,o,c){switch(vE(r)){case 2:var f=g2;break;case 8:f=_2;break;default:f=$m}o=f.bind(null,r,o,s),f=void 0,!Zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(r,o,{capture:!0,passive:f}):s.addEventListener(r,o,!0):f!==void 0?s.addEventListener(r,o,{passive:f}):s.addEventListener(r,o,!1)}function Fm(s,r,o,c,f){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=c.return;T!==null;){var O=T.tag;if((O===3||O===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=ts(S),T===null)return;if(O=T.tag,O===5||O===6||O===26||O===27){c=g=T;continue e}S=S.parentNode}}c=c.return}$u(function(){var B=g,J=Gn(o),$=[];e:{var q=Ov.get(s);if(q!==void 0){var G=ro,we=s;switch(s){case"keypress":if(Ci(o)===0)break e;case"keydown":case"keyup":G=ho;break;case"focusin":we="focus",G=lo;break;case"focusout":we="blur",G=lo;break;case"beforeblur":case"afterblur":G=lo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=oh;break;case Rv:case Av:case Cv:G=co;break;case Nv:G=ch;break;case"scroll":case"scrollend":G=eh;break;case"wheel":G=fo;break;case"copy":case"cut":case"paste":G=uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Gl;break;case"toggle":case"beforetoggle":G=hh}var ge=(r&4)!==0,it=!ge&&(s==="scroll"||s==="scrollend"),U=ge?q!==null?q+"Capture":null:q;ge=[];for(var D=B,j;D!==null;){var K=D;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||U===null||(K=ra(D,U),K!=null&&ge.push(wc(D,K,j))),it)break;D=D.return}0<ge.length&&(q=new G(q,we,null,o,J),$.push({event:q,listeners:ge}))}}if((r&7)===0){e:{if(q=s==="mouseover"||s==="pointerover",G=s==="mouseout"||s==="pointerout",q&&o!==rs&&(we=o.relatedTarget||o.fromElement)&&(ts(we)||we[Hn]))break e;if((G||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,G?(we=o.relatedTarget||o.toElement,G=B,we=we?ts(we):null,we!==null&&(it=l(we),ge=we.tag,we!==it||ge!==5&&ge!==27&&ge!==6)&&(we=null)):(G=null,we=B),G!==we)){if(ge=Yn,K="onMouseLeave",U="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(ge=Gl,K="onPointerLeave",U="onPointerEnter",D="pointer"),it=G==null?q:Si(G),j=we==null?q:Si(we),q=new ge(K,D+"leave",G,o,J),q.target=it,q.relatedTarget=j,K=null,ts(J)===B&&(ge=new ge(U,D+"enter",we,o,J),ge.target=j,ge.relatedTarget=it,K=ge),it=K,G&&we)t:{for(ge=G,U=we,D=0,j=ge;j;j=Lo(j))D++;for(j=0,K=U;K;K=Lo(K))j++;for(;0<D-j;)ge=Lo(ge),D--;for(;0<j-D;)U=Lo(U),j--;for(;D--;){if(ge===U||U!==null&&ge===U.alternate)break t;ge=Lo(ge),U=Lo(U)}ge=null}else ge=null;G!==null&&QT($,q,G,ge,!1),we!==null&&it!==null&&QT($,it,we,ge,!0)}}e:{if(q=B?Si(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var de=mv;else if(Mt(q))if(gv)de=nC;else{de=eC;var Ve=$A}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Wl(B.elementType)&&(de=mv):de=tC;if(de&&(de=de(s,B))){us($,de,o,J);break e}Ve&&Ve(s,q,B),s==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ys(q,"number",q.value)}switch(Ve=B?Si(B):window,s){case"focusin":(Mt(Ve)||Ve.contentEditable==="true")&&(po=Ve,_p=B,Jl=null);break;case"focusout":Jl=_p=po=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,Sv($,o,J);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":Sv($,o,J)}var fe;if(xi)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?Z(s,o)&&(Te="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(v&&o.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(fe=jl()):(Ai=J,Js="value"in Ai?Ai.value:Ai.textContent,je=!0)),Ve=Kh(B,Te),0<Ve.length&&(Te=new Hl(Te,s,null,o,J),$.push({event:Te,listeners:Ve}),fe?Te.data=fe:(fe=ae(o),fe!==null&&(Te.data=fe)))),(fe=_?Dt(s,o):Be(s,o))&&(Te=Kh(B,"onBeforeInput"),0<Te.length&&(Ve=new Hl("onBeforeInput","beforeinput",null,o,J),$.push({event:Ve,listeners:Te}),Ve.data=fe)),FC($,s,B,o,J)}YT($,r)})}function wc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Kh(s,r){for(var o=r+"Capture",c=[];s!==null;){var f=s,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ra(s,o),f!=null&&c.unshift(wc(s,f,g)),f=ra(s,r),f!=null&&c.push(wc(s,f,g))),s.tag===3)return c;s=s.return}return[]}function Lo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function QT(s,r,o,c,f){for(var g=r._reactName,T=[];o!==null&&o!==c;){var S=o,O=S.alternate,B=S.stateNode;if(S=S.tag,O!==null&&O===c)break;S!==5&&S!==26&&S!==27||B===null||(O=B,f?(B=ra(o,g),B!=null&&T.unshift(wc(o,B,O))):f||(B=ra(o,g),B!=null&&T.push(wc(o,B,O)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var HC=/\r\n?/g,qC=/\u0000|\uFFFD/g;function XT(s){return(typeof s=="string"?s:""+s).replace(HC,`
`).replace(qC,"")}function KT(s,r){return r=XT(r),XT(s)===r}function $h(){}function nt(s,r,o,c,f,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||qn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&qn(s,""+c);break;case"className":Ii(s,"class",c);break;case"tabIndex":Ii(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ii(s,o,c);break;case"style":Ll(s,c,g);break;case"data":if(r!=="object"){Ii(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=so(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&nt(s,r,"name",f.name,f,null),nt(s,r,"formEncType",f.formEncType,f,null),nt(s,r,"formMethod",f.formMethod,f,null),nt(s,r,"formTarget",f.formTarget,f,null)):(nt(s,r,"encType",f.encType,f,null),nt(s,r,"method",f.method,f,null),nt(s,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=so(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=$h);break;case"onScroll":c!=null&&Pe("scroll",s);break;case"onScrollEnd":c!=null&&Pe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=so(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":Pe("beforetoggle",s),Pe("toggle",s),Zs(s,"popover",c);break;case"xlinkActuate":tn(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":tn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":tn(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":tn(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":tn(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":tn(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":tn(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":tn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":tn(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Zs(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=up.get(o)||o,Zs(s,o,c))}}function jm(s,r,o,c,f,g){switch(o){case"style":Ll(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?qn(s,c):(typeof c=="number"||typeof c=="bigint")&&qn(s,""+c);break;case"onScroll":c!=null&&Pe("scroll",s);break;case"onScrollEnd":c!=null&&Pe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=$h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$a.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=s[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,f);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Zs(s,o,c)}}}function an(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",s),Pe("load",s);var c=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(s,r,g,T,o,null)}}f&&nt(s,r,"srcSet",o.srcSet,o,null),c&&nt(s,r,"src",o.src,o,null);return;case"input":Pe("invalid",s);var S=g=T=f=null,O=null,B=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":f=J;break;case"type":T=J;break;case"checked":O=J;break;case"defaultChecked":B=J;break;case"value":g=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:nt(s,r,c,J,o,null)}}na(s,g,S,O,B,T,f,!1),io(s);return;case"select":Pe("invalid",s),c=T=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:nt(s,r,f,S,o,null)}r=g,o=T,s.multiple=!!c,r!=null?ss(s,!!c,r,!1):o!=null&&ss(s,!!c,o,!0);return;case"textarea":Pe("invalid",s),g=f=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:nt(s,r,T,S,o,null)}ia(s,c,f,g),io(s);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(s,r,O,c,o,null)}return;case"dialog":Pe("beforetoggle",s),Pe("toggle",s),Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":Pe("load",s);break;case"video":case"audio":for(c=0;c<bc.length;c++)Pe(bc[c],s);break;case"image":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"embed":case"source":case"link":Pe("error",s),Pe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(s,r,B,c,o,null)}return;default:if(Wl(r)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&jm(s,r,J,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&nt(s,r,S,c,o,null))}function GC(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,S=null,O=null,B=null,J=null;for(G in o){var $=o[G];if(o.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=$;default:c.hasOwnProperty(G)||nt(s,r,G,null,c,$)}}for(var q in c){var G=c[q];if($=o[q],c.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":g=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":J=G;break;case"value":T=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:G!==$&&nt(s,r,q,G,c,$)}}Vn(s,T,S,O,B,J,g,f);return;case"select":G=T=S=q=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":G=O;default:c.hasOwnProperty(g)||nt(s,r,g,null,c,O)}for(f in c)if(g=c[f],O=o[f],c.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":q=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==O&&nt(s,r,f,g,c,O)}r=S,o=T,c=G,q!=null?ss(s,!!o,q,!1):!!c!=!!o&&(r!=null?ss(s,!!o,r,!0):ss(s,!!o,o?[]:"",!1));return;case"textarea":G=q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(s,r,S,null,c,f)}for(T in c)if(f=c[T],g=o[T],c.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&nt(s,r,T,f,c,g)}et(s,q,G);return;case"option":for(var we in o)if(q=o[we],o.hasOwnProperty(we)&&q!=null&&!c.hasOwnProperty(we))switch(we){case"selected":s.selected=!1;break;default:nt(s,r,we,null,c,q)}for(O in c)if(q=c[O],G=o[O],c.hasOwnProperty(O)&&q!==G&&(q!=null||G!=null))switch(O){case"selected":s.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:nt(s,r,O,q,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in o)q=o[ge],o.hasOwnProperty(ge)&&q!=null&&!c.hasOwnProperty(ge)&&nt(s,r,ge,null,c,q);for(B in c)if(q=c[B],G=o[B],c.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:nt(s,r,B,q,c,G)}return;default:if(Wl(r)){for(var it in o)q=o[it],o.hasOwnProperty(it)&&q!==void 0&&!c.hasOwnProperty(it)&&jm(s,r,it,void 0,c,q);for(J in c)q=c[J],G=o[J],!c.hasOwnProperty(J)||q===G||q===void 0&&G===void 0||jm(s,r,J,q,c,G);return}}for(var U in o)q=o[U],o.hasOwnProperty(U)&&q!=null&&!c.hasOwnProperty(U)&&nt(s,r,U,null,c,q);for($ in c)q=c[$],G=o[$],!c.hasOwnProperty($)||q===G||q==null&&G==null||nt(s,r,$,q,c,G)}var Bm=null,zm=null;function ed(s){return s.nodeType===9?s:s.ownerDocument}function $T(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eE(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Hm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qm=null;function ZC(){var s=window.event;return s&&s.type==="popstate"?s===qm?!1:(qm=s,!0):(qm=null,!1)}var tE=typeof setTimeout=="function"?setTimeout:void 0,YC=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(s){return nE.resolve(null).then(s).catch(QC)}:tE;function QC(s){setTimeout(function(){throw s})}function hr(s){return s==="head"}function iE(s,r){var o=r,c=0,f=0;do{var g=o.nextSibling;if(s.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var T=s.ownerDocument;if(o&1&&Sc(T.documentElement),o&2&&Sc(T.body),o&4)for(o=T.head,Sc(o),T=o.firstChild;T;){var S=T.nextSibling,O=T.nodeName;T[Kr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(f===0){s.removeChild(g),kc(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);kc(r)}function Gm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gm(o),Gs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function XC(s,r,o,c){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Kr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=hi(s.nextSibling),s===null)break}return null}function KC(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=hi(s.nextSibling),s===null))return null;return s}function Zm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function $C(s,r){var o=s.ownerDocument;if(s.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function hi(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Ym=null;function sE(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return s;r--}else o==="/$"&&r++}s=s.previousSibling}return null}function rE(s,r,o){switch(r=ed(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Sc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Gs(s)}var ti=new Map,aE=new Set;function td(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ws=le.d;le.d={f:e2,r:t2,D:n2,C:i2,L:s2,m:r2,X:o2,S:a2,M:l2};function e2(){var s=ws.f(),r=Gh();return s||r}function t2(s){var r=wi(s);r!==null&&r.tag===5&&r.type==="form"?R0(r):ws.r(s)}var Wo=typeof document>"u"?null:document;function oE(s,r,o){var c=Wo;if(c&&typeof r=="string"&&r){var f=Ct(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),aE.has(f)||(aE.add(f),s={rel:s,crossOrigin:o,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),an(r,"link",s),bt(r),c.head.appendChild(r)))}}function n2(s){ws.D(s),oE("dns-prefetch",s,null)}function i2(s,r){ws.C(s,r),oE("preconnect",s,r)}function s2(s,r,o){ws.L(s,r,o);var c=Wo;if(c&&s&&r){var f='link[rel="preload"][as="'+Ct(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ct(o.imageSizes)+'"]')):f+='[href="'+Ct(s)+'"]';var g=f;switch(r){case"style":g=Fo(s);break;case"script":g=jo(s)}ti.has(g)||(s=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ti.set(g,s),c.querySelector(f)!==null||r==="style"&&c.querySelector(Ic(g))||r==="script"&&c.querySelector(Rc(g))||(r=c.createElement("link"),an(r,"link",s),bt(r),c.head.appendChild(r)))}}function r2(s,r){ws.m(s,r);var o=Wo;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ct(c)+'"][href="'+Ct(s)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jo(s)}if(!ti.has(g)&&(s=y({rel:"modulepreload",href:s},r),ti.set(g,s),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Rc(g)))return}c=o.createElement("link"),an(c,"link",s),bt(c),o.head.appendChild(c)}}}function a2(s,r,o){ws.S(s,r,o);var c=Wo;if(c&&s){var f=yn(c).hoistableStyles,g=Fo(s);r=r||"default";var T=f.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Ic(g)))S.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ti.get(g))&&Jm(s,o);var O=T=c.createElement("link");bt(O),an(O,"link",s),O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,nd(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(g,T)}}}function o2(s,r){ws.X(s,r);var o=Wo;if(o&&s){var c=yn(o).hoistableScripts,f=jo(s),g=c.get(f);g||(g=o.querySelector(Rc(f)),g||(s=y({src:s,async:!0},r),(r=ti.get(f))&&Qm(s,r),g=o.createElement("script"),bt(g),an(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function l2(s,r){ws.M(s,r);var o=Wo;if(o&&s){var c=yn(o).hoistableScripts,f=jo(s),g=c.get(f);g||(g=o.querySelector(Rc(f)),g||(s=y({src:s,async:!0,type:"module"},r),(r=ti.get(f))&&Qm(s,r),g=o.createElement("script"),bt(g),an(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function lE(s,r,o,c){var f=(f=Re.current)?td(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Fo(o.href),o=yn(f).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Fo(o.href);var g=yn(f).hoistableStyles,T=g.get(s);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=f.querySelector(Ic(s)))&&!g._p&&(T.instance=g,T.state.loading=5),ti.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(s,o),g||c2(f,s,o,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jo(o),o=yn(f).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Fo(s){return'href="'+Ct(s)+'"'}function Ic(s){return'link[rel="stylesheet"]['+s+"]"}function cE(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function c2(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),an(r,"link",o),bt(r),s.head.appendChild(r))}function jo(s){return'[src="'+Ct(s)+'"]'}function Rc(s){return"script[async]"+s}function uE(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(c)return r.instance=c,bt(c),c;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),bt(c),an(c,"style",f),nd(c,o.precedence,s),r.instance=c;case"stylesheet":f=Fo(o.href);var g=s.querySelector(Ic(f));if(g)return r.state.loading|=4,r.instance=g,bt(g),g;c=cE(o),(f=ti.get(f))&&Jm(c,f),g=(s.ownerDocument||s).createElement("link"),bt(g);var T=g;return T._p=new Promise(function(S,O){T.onload=S,T.onerror=O}),an(g,"link",c),r.state.loading|=4,nd(g,o.precedence,s),r.instance=g;case"script":return g=jo(o.src),(f=s.querySelector(Rc(g)))?(r.instance=f,bt(f),f):(c=o,(f=ti.get(g))&&(c=y({},o),Qm(c,f)),s=s.ownerDocument||s,f=s.createElement("script"),bt(f),an(f,"link",c),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,nd(c,o.precedence,s));return r.instance}function nd(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===r)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Jm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Qm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var id=null;function hE(s,r,o){if(id===null){var c=new Map,f=id=new Map;f.set(o,c)}else f=id,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var g=o[f];if(!(g[Kr]||g[Vt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function dE(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function u2(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function fE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Ac=null;function h2(){}function d2(s,r,o){if(Ac===null)throw Error(i(475));var c=Ac;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Fo(o.href),g=s.querySelector(Ic(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=sd.bind(c),s.then(c,c)),r.state.loading|=4,r.instance=g,bt(g);return}g=s.ownerDocument||s,o=cE(o),(f=ti.get(f))&&Jm(o,f),g=g.createElement("link"),bt(g);var T=g;T._p=new Promise(function(S,O){T.onload=S,T.onerror=O}),an(g,"link",o),r.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=sd.bind(c),s.addEventListener("load",r),s.addEventListener("error",r))}}function f2(){if(Ac===null)throw Error(i(475));var s=Ac;return s.stylesheets&&s.count===0&&Xm(s,s.stylesheets),0<s.count?function(r){var o=setTimeout(function(){if(s.stylesheets&&Xm(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(o)}}:null}function sd(){if(this.count--,this.count===0){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rd=null;function Xm(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rd=new Map,r.forEach(p2,s),rd=null,sd.call(s))}function p2(s,r){if(!(r.state.loading&4)){var o=rd.get(s);if(o)var c=o.get(null);else{o=new Map,rd.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}f=r.instance,T=f.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,f),o.set(T,f),this.count++,c=sd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var Cc={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function m2(s,r,o,c,f,g,T,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function pE(s,r,o,c,f,g,T,S,O,B,J,$){return s=new m2(s,r,o,T,S,O,B,$),r=1,g===!0&&(r|=24),g=Mn(3,null,null,r),s.current=g,g.stateNode=s,r=kp(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Pp(g),s}function mE(s){return s?(s=yo,s):yo}function gE(s,r,o,c,f,g){f=mE(f),c.context===null?c.context=f:c.pendingContext=f,c=Ks(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=$s(s,c,r),o!==null&&(Fn(o,s,r),sc(o,s,r))}function _E(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Km(s,r){_E(s,r),(s=s.alternate)&&_E(s,r)}function yE(s){if(s.tag===13){var r=_o(s,67108864);r!==null&&Fn(r,s,67108864),Km(s,67108864)}}var ad=!0;function g2(s,r,o,c){var f=Y.T;Y.T=null;var g=le.p;try{le.p=2,$m(s,r,o,c)}finally{le.p=g,Y.T=f}}function _2(s,r,o,c){var f=Y.T;Y.T=null;var g=le.p;try{le.p=8,$m(s,r,o,c)}finally{le.p=g,Y.T=f}}function $m(s,r,o,c){if(ad){var f=eg(c);if(f===null)Fm(s,r,c,od,o),TE(s,c);else if(v2(f,s,r,o,c))c.stopPropagation();else if(TE(s,c),r&4&&-1<y2.indexOf(s)){for(;f!==null;){var g=wi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ai(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var O=1<<31-cn(T);S.entanglements[1]|=O,T&=~O}Ui(g),(Ke&6)===0&&(Hh=zn()+500,Ec(0))}}break;case 13:S=_o(g,2),S!==null&&Fn(S,g,2),Gh(),Km(g,2)}if(g=eg(c),g===null&&Fm(s,r,c,od,o),g===f)break;f=g}f!==null&&c.stopPropagation()}else Fm(s,r,c,null,o)}}function eg(s){return s=Gn(s),tg(s)}var od=null;function tg(s){if(od=null,s=ts(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return od=s,null}function vE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sp()){case Rl:return 2;case Ja:return 8;case Zr:case rp:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var ng=!1,dr=null,fr=null,pr=null,Nc=new Map,Oc=new Map,mr=[],y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TE(s,r){switch(s){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Nc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(r.pointerId)}}function xc(s,r,o,c,f,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},r!==null&&(r=wi(r),r!==null&&yE(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function v2(s,r,o,c,f){switch(r){case"focusin":return dr=xc(dr,s,r,o,c,f),!0;case"dragenter":return fr=xc(fr,s,r,o,c,f),!0;case"mouseover":return pr=xc(pr,s,r,o,c,f),!0;case"pointerover":var g=f.pointerId;return Nc.set(g,xc(Nc.get(g)||null,s,r,o,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Oc.set(g,xc(Oc.get(g)||null,s,r,o,c,f)),!0}return!1}function EE(s){var r=ts(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,Gu(s.priority,function(){if(o.tag===13){var c=Wn();c=zs(c);var f=_o(o,c);f!==null&&Fn(f,o,c),Km(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ld(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=eg(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);rs=c,o.target.dispatchEvent(c),rs=null}else return r=wi(o),r!==null&&yE(r),s.blockedOn=o,!1;r.shift()}return!0}function bE(s,r,o){ld(s)&&o.delete(r)}function T2(){ng=!1,dr!==null&&ld(dr)&&(dr=null),fr!==null&&ld(fr)&&(fr=null),pr!==null&&ld(pr)&&(pr=null),Nc.forEach(bE),Oc.forEach(bE)}function cd(s,r){s.blockedOn===r&&(s.blockedOn=null,ng||(ng=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,T2)))}var ud=null;function wE(s){ud!==s&&(ud=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ud===s&&(ud=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],f=s[r+2];if(typeof c!="function"){if(tg(c||o)===null)continue;break}var g=wi(o);g!==null&&(s.splice(r,3),r-=3,tm(g,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function kc(s){function r(O){return cd(O,s)}dr!==null&&cd(dr,s),fr!==null&&cd(fr,s),pr!==null&&cd(pr,s),Nc.forEach(r),Oc.forEach(r);for(var o=0;o<mr.length;o++){var c=mr[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<mr.length&&(o=mr[0],o.blockedOn===null);)EE(o),o.blockedOn===null&&mr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],T=f[At]||null;if(typeof g=="function")T||wE(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[At]||null)S=T.formAction;else if(tg(f)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),wE(o)}}}function ig(s){this._internalRoot=s}hd.prototype.render=ig.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Wn();gE(o,c,s,r,null,null)},hd.prototype.unmount=ig.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;gE(s.current,2,null,s,null,null),Gh(),r[Hn]=null}};function hd(s){this._internalRoot=s}hd.prototype.unstable_scheduleHydration=function(s){if(s){var r=Hs();s={blockedOn:null,target:s,priority:r};for(var o=0;o<mr.length&&r!==0&&r<mr[o].priority;o++);mr.splice(o,0,s),o===0&&EE(s)}};var SE=e.version;if(SE!=="19.1.0")throw Error(i(527,SE,"19.1.0"));le.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var E2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{gt=dd.inject(E2),Xe=dd}catch{}}return Dc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",f=F0,g=j0,T=B0,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=pE(s,1,!1,null,null,o,c,f,g,T,S,null),s[Hn]=r.current,Wm(s),new ig(r)},Dc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,f="",g=F0,T=j0,S=B0,O=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),r=pE(s,1,!0,r,o??null,c,f,g,T,S,O,B),r.context=mE(null),o=r.current,c=Wn(),c=zs(c),f=Ks(c),f.callback=null,$s(o,f,c),o=c,r.current.lanes=o,es(r,o),Ui(r),s[Hn]=r.current,Wm(s),new hd(r)},Dc.version="19.1.0",Dc}var DE;function V2(){if(DE)return ag.exports;DE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ag.exports=k2(),ag.exports}var D2=V2(),Mc={},ME;function M2(){if(ME)return Mc;ME=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.parse=u,Mc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,R){const N=new l,z=b.length;if(z<2)return N;const H=(R==null?void 0:R.decode)||y;let Q=0;do{const X=b.indexOf("=",Q);if(X===-1)break;const ne=b.indexOf(";",Q),re=ne===-1?z:ne;if(X>re){Q=b.lastIndexOf(";",X-1)+1;continue}const ue=d(b,Q,X),ve=p(b,X,ue),M=b.slice(ue,ve);if(N[M]===void 0){let A=d(b,X+1,re),C=p(b,re,A);const V=H(b.slice(A,C));N[M]=V}Q=re+1}while(Q<z);return N}function d(b,R,N){do{const z=b.charCodeAt(R);if(z!==32&&z!==9)return R}while(++R<N);return N}function p(b,R,N){for(;R>N;){const z=b.charCodeAt(--R);if(z!==32&&z!==9)return R+1}return N}function m(b,R,N){const z=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const H=z(R);if(!e.test(H))throw new TypeError(`argument val is invalid: ${R}`);let Q=b+"="+H;if(!N)return Q;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Q+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Q+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Q+="; Path="+N.path}if(N.expires){if(!E(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Q+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Q+="; HttpOnly"),N.secure&&(Q+="; Secure"),N.partitioned&&(Q+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Q}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function E(b){return a.call(b)==="[object Date]"}return Mc}M2();function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function h1(n,e,t="/"){return P2(n,e,t,!1)}function P2(n,e,t,i){let a=typeof e=="string"?wf(e):e,l=xr(a.pathname||"/",t);if(l==null)return null;let u=d1(n);U2(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let m=Y2(l);d=G2(u[p],m,i)}return d}function d1(n,e=[],t=[],i=""){let a=(l,u,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Cs([i,p.relativePath]),y=t.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),d1(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:H2(m,l.index),routesMeta:y})};return n.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let p of f1(l.path))a(l,u,p)}),e}function f1(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=f1(i.join("/")),d=[];return d.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function U2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:q2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var L2=/^:[\w-]+$/,W2=3,F2=2,j2=1,B2=10,z2=-2,PE=n=>n==="*";function H2(n,e){let t=n.split("/"),i=t.length;return t.some(PE)&&(i+=z2),e&&(i+=F2),t.filter(a=>!PE(a)).reduce((a,l)=>a+(L2.test(l)?W2:l===""?j2:B2),i)}function q2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function G2(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",u=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=Pd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),b=p.route;if(!E&&m&&t&&!i[i.length-1].route.index&&(E=Pd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:Cs([l,E.pathname]),pathnameBase:K2(Cs([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Cs([l,E.pathnameBase]))}return u}function Pd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Z2(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:E},b)=>{if(y==="*"){let N=d[b]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const R=d[b];return E&&!R?m[y]=void 0:m[y]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:n}}function Z2(n,e=!1,t=!0){Hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Y2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function xr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function J2(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?wf(n):n;return{pathname:t?t.startsWith("/")?t:Q2(t,e):e,search:$2(i),hash:eN(a)}}function Q2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function ug(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function V_(n){let e=X2(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function D_(n,e,t,i=!1){let a;typeof n=="string"?a=wf(n):(a={...n},Et(!a.pathname||!a.pathname.includes("?"),ug("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),ug("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),ug("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=t;else{let E=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}d=E>=0?e[E]:"/"}let p=J2(a,d),m=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Cs=n=>n.join("/").replace(/\/\/+/g,"/"),K2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function tN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var p1=["POST","PUT","PATCH","DELETE"];new Set(p1);var nN=["GET",...p1];new Set(nN);var fl=F.createContext(null);fl.displayName="DataRouter";var Sf=F.createContext(null);Sf.displayName="DataRouterState";var m1=F.createContext({isTransitioning:!1});m1.displayName="ViewTransition";var iN=F.createContext(new Map);iN.displayName="Fetchers";var sN=F.createContext(null);sN.displayName="Await";var Ji=F.createContext(null);Ji.displayName="Navigation";var If=F.createContext(null);If.displayName="Location";var Qi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var M_=F.createContext(null);M_.displayName="RouteError";function rN(n,{relative:e}={}){Et(Su(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(Ji),{hash:a,pathname:l,search:u}=Iu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Cs([t,l])),i.createHref({pathname:d,search:u,hash:a})}function Su(){return F.useContext(If)!=null}function jr(){return Et(Su(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(If).location}var g1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _1(n){F.useContext(Ji).static||F.useLayoutEffect(n)}function pl(){let{isDataRoute:n}=F.useContext(Qi);return n?yN():aN()}function aN(){Et(Su(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(fl),{basename:e,navigator:t}=F.useContext(Ji),{matches:i}=F.useContext(Qi),{pathname:a}=jr(),l=JSON.stringify(V_(i)),u=F.useRef(!1);return _1(()=>{u.current=!0}),F.useCallback((p,m={})=>{if(Hi(u.current,g1),!u.current)return;if(typeof p=="number"){t.go(p);return}let y=D_(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Cs([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}F.createContext(null);function Iu(n,{relative:e}={}){let{matches:t}=F.useContext(Qi),{pathname:i}=jr(),a=JSON.stringify(V_(t));return F.useMemo(()=>D_(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function oN(n,e){return y1(n,e)}function y1(n,e,t,i){var Q;Et(Su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(Ji),{matches:l}=F.useContext(Qi),u=l[l.length-1],d=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let X=y&&y.path||"";v1(p,!y||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let E=jr(),b;if(e){let X=typeof e=="string"?wf(e):e;Et(m==="/"||((Q=X.pathname)==null?void 0:Q.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${X.pathname}" was given in the \`location\` prop.`),b=X}else b=E;let R=b.pathname||"/",N=R;if(m!=="/"){let X=m.replace(/^\//,"").split("/");N="/"+R.replace(/^\//,"").split("/").slice(X.length).join("/")}let z=h1(n,{pathname:N});Hi(y||z!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Hi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=dN(z&&z.map(X=>Object.assign({},X,{params:Object.assign({},d,X.params),pathname:Cs([m,a.encodeLocation?a.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?m:Cs([m,a.encodeLocation?a.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),l,t,i);return e&&H?F.createElement(If.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},H):H}function lN(){let n=_N(),e=tN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,u)}var cN=F.createElement(lN,null),uN=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Qi.Provider,{value:this.props.routeContext},F.createElement(M_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hN({routeContext:n,match:e,children:t}){let i=F.useContext(fl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Qi.Provider,{value:n},t)}function dN(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:E}=t,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||b){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let E,b=!1,R=null,N=null;t&&(E=l&&m.route.id?l[m.route.id]:void 0,R=m.route.errorElement||cN,u&&(d<0&&y===0?(v1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):d===y&&(b=!0,N=m.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,y+1)),H=()=>{let Q;return E?Q=R:b?Q=N:m.route.Component?Q=F.createElement(m.route.Component,null):m.route.element?Q=m.route.element:Q=p,F.createElement(hN,{match:m,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:Q})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?F.createElement(uN,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:H(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):H()},null)}function P_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fN(n){let e=F.useContext(fl);return Et(e,P_(n)),e}function pN(n){let e=F.useContext(Sf);return Et(e,P_(n)),e}function mN(n){let e=F.useContext(Qi);return Et(e,P_(n)),e}function U_(n){let e=mN(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gN(){return U_("useRouteId")}function _N(){var i;let n=F.useContext(M_),e=pN("useRouteError"),t=U_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function yN(){let{router:n}=fN("useNavigate"),e=U_("useNavigate"),t=F.useRef(!1);return _1(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{Hi(t.current,g1),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var UE={};function v1(n,e,t){!e&&!UE[n]&&(UE[n]=!0,Hi(!1,t))}F.memo(vN);function vN({routes:n,future:e,state:t}){return y1(n,void 0,t,e)}function hg({to:n,replace:e,state:t,relative:i}){Et(Su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(Ji);Hi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(Qi),{pathname:u}=jr(),d=pl(),p=D_(n,V_(l),u,i==="path"),m=JSON.stringify(p);return F.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function Jt(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TN({children:n,location:e}){return oN(Wg(n),e)}function Wg(n,e=[]){let t=[];return F.Children.forEach(n,(i,a)=>{if(!F.isValidElement(i))return;let l=[...e,a];if(i.type===F.Fragment){t.push.apply(t,Wg(i.props.children,l));return}Et(i.type===Jt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Wg(i.props.children,l)),t.push(u)}),t}var Sd="get",Id="application/x-www-form-urlencoded";function Rf(n){return n!=null&&typeof n.tagName=="string"}function EN(n){return Rf(n)&&n.tagName.toLowerCase()==="button"}function bN(n){return Rf(n)&&n.tagName.toLowerCase()==="form"}function wN(n){return Rf(n)&&n.tagName.toLowerCase()==="input"}function SN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IN(n,e){return n.button===0&&(!e||e==="_self")&&!SN(n)}var fd=null;function RN(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var AN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(n){return n!=null&&!AN.has(n)?(Hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):n}function CN(n,e){let t,i,a,l,u;if(bN(n)){let d=n.getAttribute("action");i=d?xr(d,e):null,t=n.getAttribute("method")||Sd,a=dg(n.getAttribute("enctype"))||Id,l=new FormData(n)}else if(EN(n)||wN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?xr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Sd,a=dg(n.getAttribute("formenctype"))||dg(d.getAttribute("enctype"))||Id,l=new FormData(d,n),!RN()){let{name:m,type:y,value:E}=n;if(y==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,E)}}else{if(Rf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sd,i=null,a=Id,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}function L_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function NN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ON(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xN(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await NN(l,t);return u.links?u.links():[]}return[]}));return MN(i.flat(1).filter(ON).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function LE(n,e,t,i,a,l){let u=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>{var y;return t[m].pathname!==p.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>u(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{var E;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kN(n,e,{includeHydrateFallback:t}={}){return VN(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function VN(n){return[...new Set(n)]}function DN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function MN(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(DN(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PN=new Set([100,101,204,205]);function UN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&xr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function T1(){let n=F.useContext(fl);return L_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LN(){let n=F.useContext(Sf);return L_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var W_=F.createContext(void 0);W_.displayName="FrameworkContext";function E1(){let n=F.useContext(W_);return L_(n,"You must render this element inside a <HydratedRouter> element"),n}function WN(n,e){let t=F.useContext(W_),[i,a]=F.useState(!1),[l,u]=F.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:E}=e,b=F.useRef(null);F.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let z=Q=>{Q.forEach(X=>{u(X.isIntersecting)})},H=new IntersectionObserver(z,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[n]),F.useEffect(()=>{if(i){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[i]);let R=()=>{a(!0)},N=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Pc(d,R),onBlur:Pc(p,N),onMouseEnter:Pc(m,R),onMouseLeave:Pc(y,N),onTouchStart:Pc(E,R)}]:[!1,b,{}]}function Pc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FN({page:n,...e}){let{router:t}=T1(),i=F.useMemo(()=>h1(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(BN,{page:n,matches:i,...e}):null}function jN(n){let{manifest:e,routeModules:t}=E1(),[i,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return xN(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),i}function BN({page:n,matches:e,...t}){let i=jr(),{manifest:a,routeModules:l}=E1(),{basename:u}=T1(),{loaderData:d,matches:p}=LN(),m=F.useMemo(()=>LE(n,e,p,a,i,"data"),[n,e,p,a,i]),y=F.useMemo(()=>LE(n,e,p,a,i,"assets"),[n,e,p,a,i]),E=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,z=!1;if(e.forEach(Q=>{var ne;let X=a.routes[Q.route.id];!X||!X.hasLoader||(!m.some(re=>re.route.id===Q.route.id)&&Q.route.id in d&&((ne=l[Q.route.id])!=null&&ne.shouldRevalidate)||X.hasClientLoader?z=!0:N.add(Q.route.id))}),N.size===0)return[];let H=UN(n,u);return z&&N.size>0&&H.searchParams.set("_routes",e.filter(Q=>N.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[H.pathname+H.search]},[u,d,i,a,m,e,n,l]),b=F.useMemo(()=>kN(y,a),[y,a]),R=jN(y);return F.createElement(F.Fragment,null,E.map(N=>F.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>F.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),R.map(({key:N,link:z})=>F.createElement("link",{key:N,...z})))}function zN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b1&&(window.__reactRouterVersion="7.6.2")}catch{}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:d,target:p,to:m,preventScrollReset:y,viewTransition:E,...b},R){let{basename:N}=F.useContext(Ji),z=typeof m=="string"&&w1.test(m),H,Q=!1;if(typeof m=="string"&&z&&(H=m,b1))try{let C=new URL(window.location.href),V=m.startsWith("//")?new URL(C.protocol+m):new URL(m),P=xr(V.pathname,N);V.origin===C.origin&&P!=null?m=P+V.search+V.hash:Q=!0}catch{Hi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=rN(m,{relative:a}),[ne,re,ue]=WN(i,b),ve=ZN(m,{replace:u,state:d,target:p,preventScrollReset:y,relative:a,viewTransition:E});function M(C){e&&e(C),C.defaultPrevented||ve(C)}let A=F.createElement("a",{...b,...ue,href:H||X,onClick:Q||l?e:M,ref:zN(R,re),target:p,"data-discover":!z&&t==="render"?"true":void 0});return ne&&!z?F.createElement(F.Fragment,null,A,F.createElement(FN,{page:X})):A});It.displayName="Link";var HN=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:d,children:p,...m},y){let E=Iu(u,{relative:m.relative}),b=jr(),R=F.useContext(Sf),{navigator:N,basename:z}=F.useContext(Ji),H=R!=null&&KN(E)&&d===!0,Q=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,X=b.pathname,ne=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(X=X.toLowerCase(),ne=ne?ne.toLowerCase():null,Q=Q.toLowerCase()),ne&&z&&(ne=xr(ne,z)||ne);const re=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ue=X===Q||!a&&X.startsWith(Q)&&X.charAt(re)==="/",ve=ne!=null&&(ne===Q||!a&&ne.startsWith(Q)&&ne.charAt(Q.length)==="/"),M={isActive:ue,isPending:ve,isTransitioning:H},A=ue?e:void 0,C;typeof i=="function"?C=i(M):C=[i,ue?"active":null,ve?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(M):l;return F.createElement(It,{...m,"aria-current":A,className:C,ref:y,style:V,to:u,viewTransition:d},typeof p=="function"?p(M):p)});HN.displayName="NavLink";var qN=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=Sd,action:d,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:E,...b},R)=>{let N=QN(),z=XN(d,{relative:m}),H=u.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&w1.test(d),X=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let re=ne.nativeEvent.submitter,ue=(re==null?void 0:re.getAttribute("formmethod"))||u;N(re||ne.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:E})};return F.createElement("form",{ref:R,method:H,action:z,onSubmit:i?p:X,...b,"data-discover":!Q&&n==="render"?"true":void 0})});qN.displayName="Form";function GN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S1(n){let e=F.useContext(fl);return Et(e,GN(n)),e}function ZN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let d=pl(),p=jr(),m=Iu(n,{relative:l});return F.useCallback(y=>{if(IN(y,e)){y.preventDefault();let E=t!==void 0?t:Lg(p)===Lg(m);d(n,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,d,m,t,i,e,n,a,l,u])}var YN=0,JN=()=>`__${String(++YN)}__`;function QN(){let{router:n}=S1("useSubmit"),{basename:e}=F.useContext(Ji),t=gN();return F.useCallback(async(i,a={})=>{let{action:l,method:u,encType:d,formData:p,body:m}=CN(i,e);if(a.navigate===!1){let y=a.fetcherKey||JN();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function XN(n,{relative:e}={}){let{basename:t}=F.useContext(Ji),i=F.useContext(Qi);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Iu(n||".",{relative:e})},u=jr();if(n==null){l.search=u.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let y=d.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Cs([t,l.pathname])),Lg(l)}function KN(n,e={}){let t=F.useContext(m1);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=S1("useViewTransitionState"),a=Iu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=xr(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=xr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Pd(a.pathname,u)!=null||Pd(a.pathname,l)!=null}[...PN];const $N="/Xprime/assets/logo-g-kdmh2X.png";var fg={exports:{}},pg,WE;function eO(){if(WE)return pg;WE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pg=n,pg}var mg,FE;function tO(){if(FE)return mg;FE=1;var n=eO();function e(){}function t(){}return t.resetWarningCache=e,mg=function(){function i(u,d,p,m,y,E){if(E!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},mg}var jE;function nO(){return jE||(jE=1,fg.exports=tO()()),fg.exports}var iO=nO();const Se=u1(iO);var sO=["color","size","title","className"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fg.apply(null,arguments)}function rO(n,e){if(n==null)return{};var t,i,a=aO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function aO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var I1=F.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,u=n.title,d=u===void 0?null:u,p=n.className,m=p===void 0?"":p,y=rO(n,sO);return st.createElement("svg",Fg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-arrow-repeat",m].filter(Boolean).join(" ")},y),d?st.createElement("title",null,d):null,st.createElement("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"}),st.createElement("path",{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"}))});I1.propTypes={color:Se.string,size:Se.oneOfType([Se.string,Se.number]),title:Se.string,className:Se.string};var oO=["color","size","title","className"];function jg(){return jg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jg.apply(null,arguments)}function lO(n,e){if(n==null)return{};var t,i,a=cO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function cO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var R1=F.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,u=n.title,d=u===void 0?null:u,p=n.className,m=p===void 0?"":p,y=lO(n,oO);return st.createElement("svg",jg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-box-arrow-right",m].filter(Boolean).join(" ")},y),d?st.createElement("title",null,d):null,st.createElement("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"}),st.createElement("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"}))});R1.propTypes={color:Se.string,size:Se.oneOfType([Se.string,Se.number]),title:Se.string,className:Se.string};var uO=["color","size","title","className"];function Bg(){return Bg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bg.apply(null,arguments)}function hO(n,e){if(n==null)return{};var t,i,a=dO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function dO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var F_=F.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,u=n.title,d=u===void 0?null:u,p=n.className,m=p===void 0?"":p,y=hO(n,uO);return st.createElement("svg",Bg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-clipboard2",m].filter(Boolean).join(" ")},y),d?st.createElement("title",null,d):null,st.createElement("path",{d:"M3.5 2a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5H12a.5.5 0 0 1 0-1h.5A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1H4a.5.5 0 0 1 0 1z"}),st.createElement("path",{d:"M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5"}))});F_.propTypes={color:Se.string,size:Se.oneOfType([Se.string,Se.number]),title:Se.string,className:Se.string};var fO=["color","size","title","className"];function zg(){return zg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zg.apply(null,arguments)}function pO(n,e){if(n==null)return{};var t,i,a=mO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function mO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var A1=F.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,u=n.title,d=u===void 0?null:u,p=n.className,m=p===void 0?"":p,y=pO(n,fO);return st.createElement("svg",zg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-github",m].filter(Boolean).join(" ")},y),d?st.createElement("title",null,d):null,st.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"}))});A1.propTypes={color:Se.string,size:Se.oneOfType([Se.string,Se.number]),title:Se.string,className:Se.string};var gO=["color","size","title","className"];function Hg(){return Hg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hg.apply(null,arguments)}function _O(n,e){if(n==null)return{};var t,i,a=yO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function yO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var C1=F.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,u=n.title,d=u===void 0?null:u,p=n.className,m=p===void 0?"":p,y=_O(n,gO);return st.createElement("svg",Hg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-instagram",m].filter(Boolean).join(" ")},y),d?st.createElement("title",null,d):null,st.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"}))});C1.propTypes={color:Se.string,size:Se.oneOfType([Se.string,Se.number]),title:Se.string,className:Se.string};var vO=["color","size","title","className"];function qg(){return qg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qg.apply(null,arguments)}function TO(n,e){if(n==null)return{};var t,i,a=EO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function EO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var N1=F.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,u=n.title,d=u===void 0?null:u,p=n.className,m=p===void 0?"":p,y=TO(n,vO);return st.createElement("svg",qg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-person-circle",m].filter(Boolean).join(" ")},y),d?st.createElement("title",null,d):null,st.createElement("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"}),st.createElement("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"}))});N1.propTypes={color:Se.string,size:Se.oneOfType([Se.string,Se.number]),title:Se.string,className:Se.string};var bO=["color","size","title","className"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gg.apply(null,arguments)}function wO(n,e){if(n==null)return{};var t,i,a=SO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function SO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var O1=F.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,u=n.title,d=u===void 0?null:u,p=n.className,m=p===void 0?"":p,y=wO(n,bO);return st.createElement("svg",Gg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-twitter",m].filter(Boolean).join(" ")},y),d?st.createElement("title",null,d):null,st.createElement("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334q.002-.211-.006-.422A6.7 6.7 0 0 0 16 3.542a6.7 6.7 0 0 1-1.889.518 3.3 3.3 0 0 0 1.447-1.817 6.5 6.5 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.32 9.32 0 0 1-6.767-3.429 3.29 3.29 0 0 0 1.018 4.382A3.3 3.3 0 0 1 .64 6.575v.045a3.29 3.29 0 0 0 2.632 3.218 3.2 3.2 0 0 1-.865.115 3 3 0 0 1-.614-.057 3.28 3.28 0 0 0 3.067 2.277A6.6 6.6 0 0 1 .78 13.58a6 6 0 0 1-.78-.045A9.34 9.34 0 0 0 5.026 15"}))});O1.propTypes={color:Se.string,size:Se.oneOfType([Se.string,Se.number]),title:Se.string,className:Se.string};var IO=["color","size","title","className"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zg.apply(null,arguments)}function RO(n,e){if(n==null)return{};var t,i,a=AO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function AO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var x1=F.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,u=n.title,d=u===void 0?null:u,p=n.className,m=p===void 0?"":p,y=RO(n,IO);return st.createElement("svg",Zg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-youtube",m].filter(Boolean).join(" ")},y),d?st.createElement("title",null,d):null,st.createElement("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"}))});x1.propTypes={color:Se.string,size:Se.oneOfType([Se.string,Se.number]),title:Se.string,className:Se.string};const CO=({user:n,setUser:e,adminLoggedIn:t,setAdminLoggedIn:i})=>{const[a,l]=F.useState(!1),[u,d]=F.useState(!1),p=pl();F.useEffect(()=>{const E=()=>{l(window.scrollY>0)};return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const m=()=>{d(!u)},y=()=>{console.log("Logout clicked"),e(null),i(!1),localStorage.removeItem("user"),localStorage.removeItem("adminLoggedIn"),d(!1),alert("Logout successfully"),p("/")};return w.jsxs("header",{className:`menu-bar${a?" menu-bar--blur":""}`,children:[w.jsxs("div",{className:"menu-bar-logo",children:[w.jsx("img",{src:$N,alt:"Logo"}),w.jsx(It,{to:"/",children:"Prime"})]}),w.jsx("div",{className:"menu-bar-toggle",children:w.jsx("button",{className:"menu-toggle",onClick:m,"aria-label":"Toggle menu",children:""})}),w.jsx("nav",{className:`menu-bar-nav${u?" open":""}`,children:w.jsx("ul",{children:t?w.jsxs(w.Fragment,{children:[w.jsx("li",{children:w.jsx(It,{to:"/admin",onClick:()=>d(!1),className:"bg-color",children:"Admin Dashboard"})}),w.jsx("li",{children:w.jsx(It,{to:"/gallery",onClick:()=>d(!1),className:"bg-color",children:"Gallery"})}),w.jsx("li",{children:w.jsx(It,{to:"/trending",onClick:()=>d(!1),className:"bg-color",children:"Trending"})}),w.jsx("li",{children:w.jsx(It,{to:"/admin/profile",onClick:()=>d(!1),className:"bg-color",children:"Admin Profile"})}),w.jsx("li",{children:w.jsx(R1,{size:24,className:"user-logo user-logo-pointer logout-icon",onClick:y,title:"Logout",style:{cursor:"pointer",color:"white"}})})]}):w.jsxs(w.Fragment,{children:[w.jsx("li",{children:w.jsx(It,{to:"/",onClick:()=>d(!1),className:"bg-color",children:"Home"})}),w.jsx("li",{children:w.jsx(It,{to:"/gallery",onClick:()=>d(!1),className:"bg-color",children:"Gallery"})}),w.jsx("li",{children:w.jsx(It,{to:"/trending",onClick:()=>d(!1),className:"bg-color",children:"Trending"})}),w.jsx("li",{children:w.jsx(It,{to:"/about",onClick:()=>d(!1),className:"bg-color",children:"About"})}),w.jsx("li",{children:w.jsx(It,{to:"/contact",onClick:()=>d(!1),className:"bg-color",children:"Contact"})}),!n&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"ls",children:[w.jsx("li",{className:"menu-bar-login",children:w.jsx(It,{to:"/login",onClick:()=>d(!1),children:"Login"})}),w.jsx("li",{className:"menu-bar-signup",children:w.jsx(It,{to:"/signup",onClick:()=>d(!1),children:"Sign-Up"})})]})}),n&&w.jsxs(w.Fragment,{children:[w.jsx("li",{className:"menu-bar-profile-small-screen",children:w.jsx(It,{to:"/profile",onClick:()=>d(!1),children:"Profile"})}),w.jsx("li",{className:"menu-bar-logout-small-screen",children:w.jsx(It,{to:"/login",onClick:()=>{y(),d(!1)},children:"Logout"})}),w.jsxs("li",{className:"menu-bar-user-logo ",children:[w.jsx(N1,{size:24,className:"user-logo user-logo-pointer",onClick:()=>d(!u)}),u&&w.jsx("div",{className:"user-menu-dropdown",children:w.jsxs("div",{className:"user-menu-item",children:[w.jsx("li",{children:n&&w.jsx(It,{to:"/profile",onClick:()=>d(!1),className:"user-menu-link",children:"Profile"})}),w.jsxs("li",{children:[w.jsx(It,{to:"/login",onClick:y,className:"user-menu-link",children:"Logout"})," "]})]})})]})]})]})})})]})};let pd=20;class NO extends F.Component{render(){return w.jsx(w.Fragment,{children:w.jsx("footer",{children:w.jsxs("div",{className:"footer-content",children:[w.jsxs("div",{className:"footer-section-First",children:[w.jsx("h2",{children:"Contact Us"}),w.jsx("p",{children:"1234 Xprime St, Tech City, TX 12345"}),w.jsx("p",{children:"Email: Xprime@gmail.com"})]}),w.jsxs("div",{className:"footer-section-Middle",children:[w.jsx("h2",{children:"Xprime"}),w.jsx("p",{children:" 2025 Xprime. All rights reserved."})]}),w.jsx("div",{className:"footer-section-Left",children:w.jsx("ul",{children:w.jsxs("li",{children:[w.jsx("a",{href:"",children:w.jsx(C1,{size:pd})}),w.jsx("a",{href:"",children:w.jsx(O1,{size:pd})}),w.jsx("a",{href:"",children:w.jsx(A1,{size:pd})}),w.jsx("a",{href:"",children:w.jsx(x1,{size:pd})})]})})})]})})})}}const OO=JSON.parse(`[{"id":1,"title":"Background Image","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxoTXpkbU9XVm1OQzAzT1dWaUxUUTNNbUV0T1dReFppMHdNREV5T0daak1qQTJOelVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--7b8a1c3ee1b87b4d4c745002a416611e1dfe2315/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-292090eccda.jpg","prompt":"a  white-skinned short haired brunette rapper stands near the cadillac confidently on a vibrant urban street. The sun sets, casting a warm golden glow, while a crowd gathers, captivated by his powerful lyrics."},{"id":2,"title":"Victorian Royal","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt4T0dJd1pXUXpNUzAyTlRkaExUUmpZV010T1RnM01TMHdNbVZoTlRFeVptRTRZamtHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--1559e12a0eed7bb9b9df779e362d1c15cfdf9d06/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-50b8cd54682.png","prompt":"photography, snap shot, male model, front pose, full-body, surrounded by a blurred motion, wearing camouflage color loose fit hoody and denim cargo pants, Vans sneakers, Sony 9, minimalistic open space with soft, contrasting with the transient figures around him, plain wall background with a subtle texture to keep the attention on the motion effect, rich details --ar 9:16 --style raw --stylize 700 --v 6.1"},{"id":3,"title":"Gothic Elegance","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWsyTUdSa1kyTmhZeTA1TjJReExUUmpNV1l0WWpGak5pMWhZbU15WkdReU1UZGhaak1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--2972e232dcbf737a7d3762f7832f054b406812f9/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-86d658d77e6.png","prompt":"RAW photo, (detailed face)+, portrait of a beautiful lady, (freckles)-, (dark makeup)-, hyperdetailed photography, soft light, head and shoulders portrait, 80mm, f22, trending on ArtStation Pixiv, high detail, sharp focus, aesthetic, 8k uhd, DSLR, intricate details, soft lighting, high quality,"},{"id":4,"title":"Fantasy Warrior","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt3TW1ReU4yWTBaaTFtTUdGbExUUTROekl0WVRoaFl5MHlZelF6TUdSbFpqVTVZV0VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--ab41f0133e2e96fa21209ad7656bdbd70b5260c8/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-fbf8e952f1b.png","prompt":"three-quarter close-up portrait, stunningly handsome 30 y.o man, overweight figure, stunning face, (expressive and deep [symmetrical eyes]), curious and friendly expression, tidy goatee, (neatly short spiked hair with shaved sides [natural brown] hair)+++ | ([maximum detailed mechanic : firefly sci-fi TV series style | maximum detailed mechanic serenity style | (intricately detailed:1. 2) | (intricately detailed sci-fi millennium falcon interior [((intricately detailed starship lounge)) : oppressive and contrasting background:1. 3)+, (in semi-darkness)++, backlighting from inside, dramatic expressive background, gloomy horror crushing atmosphere | cinematic shot photographed from below with DSLR, aperture f/7, shutter speed 1/100 sec, ISO 150 | super detailed, hyper photorealistic, (8kK, UHD, super resolution, diffused lighting)+, textures of natural reflections, cinematic lighting"},{"id":5,"title":"Cybernetic Angel","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpTUdNM05UQmtOUzFpWkRRNUxUUXhOMll0T0RGaE5DMHlNMlkyTURjM01UZzFNallHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--b5c8d94650f637dcfa930be54918b618c00d6301/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-b72678492ea.png","prompt":"young girl with a red robot suit standing in the rain, in the style of detailed hyperrealism, skottie young, 32k uhd, daria endresen, close up, webcore, eve ventrue --ar 9:16 --stylize 750 --v 6"},{"id":6,"title":"Urban Street Style","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt5Tm1NM1pUaGlZUzFqTkRnNUxUUm1aR1l0T0RsaFpDMDRNRE15TXpjeVptRXpaVFVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--803e2372342b54439379f9350f9ad3533abe7c64/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-40027a6637d.png","prompt":"stunning sketch portrait by Michelangelo, charcoal drawing, face only, an absolutely gorgeous woman, side view, ultra-detailed, hint of a smile, no coloring, no color--quality 2 --s 750 --v 5.2"},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWs0WVdObU5EZ3paQzB3TmpBeUxUUTNOek10T0Raak5DMDNaamxqWkRBMk56QTFNMlFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--5e5150dfde7263e5a8848a0e89cd8e18e80cf89e/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-ed3f5fb81b5.png","title":"Man with Black dress","prompt":"A captivating portrait focusing on the character's face, now reimagined with a more serious, intense, but hot expression. His eyes exude raw emotion while his jet black hair frames his features powerfully. The pose is subtly adjustedhis shoulders are slightly broader, lending him an enhanced presence and a confident stance. The background remains a dark dance studio, featuring low ambient lighting, gentle reflections from mirrored surfaces, and the intimate expanse of a rehearsal space. The overall scene preserves the original art style, with painterly brushstrokes and a muted, atmospheric color palette that highlights the renewed expressiveness and strength of the characters visage.","id":7},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt3TlRWallUSTNZeTB5TXpZeUxUUTFOamt0WWpCaFl5MDBPV0V4TjJObE5UUmpZVElHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--f8ac62650ef0662635655a2cba4b9e18afef1041/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-276ea4fb893.png","title":"","prompt":"Image Type: Digital photograph, formal portrait.  Overall Photographic Style: Photorealistic, high-resolution, sharp focus on the subject's face, professional and classic portraiture. The style emphasizes clarity, detail, and a timeless quality.  Lighting: Soft, even, and diffused lighting. The main light source appears to be from the front-left, creating subtle highlights on the forehead, cheekbones, and the top of the hair. There are gentle, soft shadows on the right side of the face, defining contours without being harsh. The overall illumination is balanced and natural.  Depth of Field: Shallow to moderate depth of field. The subject's face and upper body are in sharp focus, while the background is subtly blurred, providing a soft, indistinct backdrop that keeps the focus entirely on the subject.  Color Palette: Monochromatic (black and white tones). The image exhibits a rich grayscale range, with deep blacks in the suit, bright whites in the hair and shirt collar, and a full spectrum of nuanced mid-grays","id":8},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6WkRneVlXTmpPUzA1WkRsa0xUUmhabVV0WWpReE15MDRZV00yTURsaE5tSTVPV0lHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--26c412019254bc27499fe427bfad33b990d32e74/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-c27f152cfe4.jpg","title":"","prompt":"Close-up photo of a worried girl, with messy hair, hands on forehead, looking far, vibrant colors, digital colors","id":9},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt4WWpSbE1HTmlNeTAxTVRGa0xUUmxOMkV0WWpFME9TMHlPRFE1WWpWak9USXdNRE1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--2556ddee9565cfde19b31a5544c09d7827ee6366/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-9f749cbcbd1.png","title":"","prompt":"modelshoot style, (extremely detailed CG unity 8k wallpaper), full shot body photo of the most beautiful artwork in the world, female medieval rugged thief, ruined coat, angry, night, dark dirty alley in the background, dirty, ugly environment, professional majestic oil painting by Ed Blinkey, Atey Ghailan, Studio Ghibli, by Jeremy Mann, Greg Manchess, Antonio Moro, trending on ArtStation, trending on CGSociety, Intricate, High Detail, Sharp focus, dramatic, photorealistic painting art by midjourney and greg rutkowski","id":10},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpWWpRNE5XTTVOaTB5TmpNeExUUXdaRFl0WWpBd09TMDNOelF5TmpBMFlXTTBNR1FHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--89c035c570f1cc70f69490b9fca6239fa04eb115/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-81c018b9647.png","title":"","prompt":"portrait of a young ranger man with a cold stare wearing a ((black cloak)) and armor (holding a sword), grizzled, bald, angry, grim, dark colors, forest background, sharp, highly detailed, concept art, realistic hands, dynamic pose, dynamic shotfantastic location, majestic cluttered environment)), full body 8k unity render, action shot, skin pores, very dark lighting, heavy shadows, detailed, detailed face, (vibrant, photorealistic, realistic, dramatic, dark, sharp focus, 8k), (weathered damaged old worn leather outfit:1.4), (intricate:1.4), decadent, (highly detailed:1.4), digital painting, octane render, artstation, concept art, smooth, sharp focus, illustration, art by artgerm, (loish:0.23), wlop ilya kuvshinov, and greg rutkowski and alphonse mucha gracias, (global illumination, studio light, volumetric light), heavy rain, particles floating, dim light, trim light, two-tone lighting, <lora:epiNoiseoffset_v2:2>","id":11},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWs1TnpBeU5qSXhNQzB6TjJNNExUUTNPVFV0T1dRMk55MWpOemt6WVdVMk5HWmhZbVVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--2992eb46e2766d52ec664605c71bd399318de0a2/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-2e5c681626c.png","title":"","prompt":"Ultrarealistic portrait photograph show full body triangulation from head to toe 28 years old israeli Caucasian male, hero pose, winner pose, ubermensch, Delta Force, militant, Wide field of view Long shot Full-length shows full body from head to toes triangulation of a 28 years old dominant alpha male, muscles, perfect male body, hairy chest, smaller head, shiny hair handsome, pale skin, sharp jawline, small nose, the background is nyc sunny day time, (high detailed skin:1.2), 8k uhd, dslr, soft lighting, Breeches and Leather Uniform, tall leather boots, driving boots, hairy chest, laceless shoes boots, eyes wide open, correct anatomy, Hasselblad X1D - 50c, Cinematic, Blur Effect, Long Exposure, 8K, Ultra-HD, Natural Lighting, Moody Lighting, Cinematic Lighting, hyper-realistic, vibrant, 8k, detailed, ultra detail, sci-fi, shiny hair, at the spaceport, against the background of a sci-fi ship taking off, overcast, plate leather armor, isolated leather armor, lots of fine detail in the style of 'pursuit' by gesaffelstein, photorealistic, cinematic lighting, light atmosphere, volumetric lighting, action pose, epic scene, lots of fine detail, movie style, photography, natural textures, natural light, natural blur, photorealism, cinematic rendering, ray tracing, highest quality, highest detail, Cinematic, Blur Effect, Long Exposure, 8K, Ultra-HD, Natural Lighting, Moody bright Lighting, Cinematic Lighting, hyper-realistic, vibrant, detailed, ultra detail, RAW photo","id":12},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWszTkdabU56Wm1OQzAzT0RFeExUUXhObVV0WWpOaVlTMDFZak01TmpabFl6Y3lOR1VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--a20de84ed6ad6cb3a46293673695a75101110c6c/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-7d1552a8afa.png","title":"","prompt":"full body shot, portrait of a young woman, wearing dark sunglasses, wearing chanel strappy high heels, wearing a beautiful multicolored dior dress, intricate artwork by Joaquin Sorolla, soft natural light, 85mm, sunshine on her face, cinematic lighting, lumen reflections, photography, stunning environment, Hyperrealism, cgi, octane render, raytracing --v 4 --style 4c --ar 4:7","id":13},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpTldSbU4yVXlNUzFqWWpsbExUUmlaR0V0WW1ZNVppMDJOalV6WVdJNVpXUmxZemNHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--c044840f0e236ba43fcf53e3aed34b13d48922ba/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-46041c0dbdf.png","title":"","prompt":"Mood: serenity; atmosphere peaceful; fashion photography; Mario Testino; Female Model full body; design dress; ultralight shapes; detailed skin; beautiful eyes; incredible body composition --ar 4:6 --chaos 7 --s 1000 --q 5  --q 2    --s 750 --v 5","id":14},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWs0TUdFNE1EY3daaTFsTTJReExUUTJaall0WW1Kall5MW1NV1prWlRNME1tSTNZek1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--53da0f273f2c59888c6b964c3b0b72f0dba82f7f/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-234d46b3a67.png","title":"","prompt":"Vogue style photo shoot of Dwayne Johnson as character therock from the movie The Royal Tenenbaums pastel colored background in Wes Anderson style, hyper - realistic photography, Wes Anderson style, full body, 8k, close - up shot, close - up photo","id":15},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWsxT0dNMk1EUm1OeTA1WlRnMExUUmlPVFl0T0dVMU5DMW1ZbVEzTm1VNU0yWmlOemdHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--52bad843d12ad2a2d51d817bce742c785af07063/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-f70199a2018.png","title":"","prompt":"the girl is wielding a sword in the background, in the style of xiaofei yue, ethereal images, light white and red, colorful costumes, movie still, weathercore, dynamic and action-packed --ar 1:2 --stylize 750 --v 6","id":16},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpWVRjNE5URTNNUzFpT0RGbExUUTJNMkl0T1dFMk1TMHhaRGszTWpCa1pqa3paamNHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--e29de2ce94a7d55a7cab1aa3f23041f4034b5aa4/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-21b19fb0e78.png","title":"","prompt":"A close-up shot of a wolf is made of neon rays, ultra detailed, fairy lighting, photorealistic, bright colors, volumetric rays of light, hdr. --ar 9:16","id":18},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt3T0dWbE5UVXdaaTA1WVdJMkxUUmhOVEl0T1RRMU55MDVNbVkyWlRkaU9XTXlORGdHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--e08029b8c1c1421a162396fdb2e5871dca2ba97e/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-3a8d3d3d502.png","title":"","prompt":"A professional photograph, 9:16 portrait aspect ratio, of Calamity Jane Monroe (around 21-25 years old), with her back partially to the camera, looking over her shoulder with a captivating smile. She is behind the bar, pouring a drink. Her red silk blouse has slightly rolled-up sleeves, and her leather pants are visible. Her hat is still on. The background shows the vibrant activity of the saloon, with her youthful energy evident","id":19},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6TkRSa1ptRXhZaTFqWTJKbUxUUTJNemN0WW1Rek1pMDNOR1l5WW1FM1pqRm1Nek1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--60d648277dd8ab2ddd9eef494b3acc28bee4bebc/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-66eb135e131.png","title":"","prompt":"Watercolor portrait of a woman, vibrant --chaos 75 --ar 1:2 --sref 1753425260 --profile oh3iyx5 --stylize 750","id":21},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrTnpJNVltTmpOeTAwWXpFeExUUXdOek10T1dNNU5TMHlZemhrWlRZd01HRTRNV1VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--23abb198aa073f59fdb3868bf7b36c279c3a0602/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-714df5f34e6.png","title":"","prompt":"A striking fashion runway scene featuring a tall, confident model walking down the catwalk. She wears a chic all-black ensemble: a deep V-neck black mini dress with a wrap-style skirt creating an asymmetrical hemline, paired with a loose, long black blazer that flows as she walks. The outfit is accessorized with a bold chunky gold chain necklace, a structured black handbag with gold hardware, and black lace-up combat boots. The model has long, sleek dark hair worn down, minimal natural makeup, and a fierce, focused expression. The background is a dimly lit runway with a blurred audience seated on either side, dramatic lighting casting soft shadows on the floor, capturing the high-fashion atmosphere. Hyper-realistic style, emphasis on fabric texture and metallic details, cinematic mood.","id":24}]`),xO=[{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrWVRkbU1XRTJZUzAxT1RSbUxUUmxaV1F0WWpZelppMWxZek15TURrME56STNaakFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--8f9c34fac05a95ae36047bee3cde3b88dd6cc6ba/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-b8b5880994e.png",title:"",prompt:"An image of a woman sitting down with her body slightly turned to her left. She is looking at the camera with a relaxed expression. Her right arm is resting by her side, and her left arm is bent with her hand on her thigh. She has light-colored wavy hair over her shoulders. She wears a patterned blouse with rolled-up sleeves and light-colored pants. The background is softly blurred with hints of an airplane and airport equipment, bathed in the warm glow of dawn or dusk.",id:1},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpWWpRNE5XTTVOaTB5TmpNeExUUXdaRFl0WWpBd09TMDNOelF5TmpBMFlXTTBNR1FHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--89c035c570f1cc70f69490b9fca6239fa04eb115/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-81c018b9647.png",title:"",prompt:"portrait of a young ranger man with a cold stare wearing a ((black cloak)) and armor (holding a sword), grizzled, bald, angry, grim, dark colors, forest background, sharp, highly detailed, concept art, realistic hands, dynamic pose, dynamic shotfantastic location, majestic cluttered environment)), full body 8k unity render, action shot, skin pores, very dark lighting, heavy shadows, detailed, detailed face, (vibrant, photorealistic, realistic, dramatic, dark, sharp focus, 8k), (weathered damaged old worn leather outfit:1.4), (intricate:1.4), decadent, (highly detailed:1.4), digital painting, octane render, artstation, concept art, smooth, sharp focus, illustration, art by artgerm, (loish:0.23), wlop ilya kuvshinov, and greg rutkowski and alphonse mucha gracias, (global illumination, studio light, volumetric light), heavy rain, particles floating, dim light, trim light, two-tone lighting, <lora:epiNoiseoffset_v2:2>",id:2},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrTnpJNVltTmpOeTAwWXpFeExUUXdOek10T1dNNU5TMHlZemhrWlRZd01HRTRNV1VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--23abb198aa073f59fdb3868bf7b36c279c3a0602/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-714df5f34e6.png",title:"",prompt:"A striking fashion runway scene featuring a tall, confident model walking down the catwalk. She wears a chic all-black ensemble: a deep V-neck black mini dress with a wrap-style skirt creating an asymmetrical hemline, paired with a loose, long black blazer that flows as she walks. The outfit is accessorized with a bold chunky gold chain necklace, a structured black handbag with gold hardware, and black lace-up combat boots. The model has long, sleek dark hair worn down, minimal natural makeup, and a fierce, focused expression. The background is a dimly lit runway with a blurred audience seated on either side, dramatic lighting casting soft shadows on the floor, capturing the high-fashion atmosphere. Hyper-realistic style, emphasis on fabric texture and metallic details, cinematic mood.",id:3},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpTldSbU4yVXlNUzFqWWpsbExUUmlaR0V0WW1ZNVppMDJOalV6WVdJNVpXUmxZemNHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--c044840f0e236ba43fcf53e3aed34b13d48922ba/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-46041c0dbdf.png",title:"",prompt:"Mood: serenity; atmosphere peaceful; fashion photography; Mario Testino; Female Model full body; design dress; ultralight shapes; detailed skin; beautiful eyes; incredible body composition --ar 4:6 --chaos 7 --s 1000 --q 5  --q 2    --s 750 --v 5",id:4},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt4WWpSbE1HTmlNeTAxTVRGa0xUUmxOMkV0WWpFME9TMHlPRFE1WWpWak9USXdNRE1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--2556ddee9565cfde19b31a5544c09d7827ee6366/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-9f749cbcbd1.png",title:"",prompt:"modelshoot style, (extremely detailed CG unity 8k wallpaper), full shot body photo of the most beautiful artwork in the world, female medieval rugged thief, ruined coat, angry, night, dark dirty alley in the background, dirty, ugly environment, professional majestic oil painting by Ed Blinkey, Atey Ghailan, Studio Ghibli, by Jeremy Mann, Greg Manchess, Antonio Moro, trending on ArtStation, trending on CGSociety, Intricate, High Detail, Sharp focus, dramatic, photorealistic painting art by midjourney and greg rutkowski",id:5},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt3TlRWallUSTNZeTB5TXpZeUxUUTFOamt0WWpCaFl5MDBPV0V4TjJObE5UUmpZVElHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--f8ac62650ef0662635655a2cba4b9e18afef1041/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-276ea4fb893.png",title:"",prompt:"Image Type: Digital photograph, formal portrait.  Overall Photographic Style: Photorealistic, high-resolution, sharp focus on the subject's face, professional and classic portraiture. The style emphasizes clarity, detail, and a timeless quality.  Lighting: Soft, even, and diffused lighting. The main light source appears to be from the front-left, creating subtle highlights on the forehead, cheekbones, and the top of the hair. There are gentle, soft shadows on the right side of the face, defining contours without being harsh. The overall illumination is balanced and natural.  Depth of Field: Shallow to moderate depth of field. The subject's face and upper body are in sharp focus, while the background is subtly blurred, providing a soft, indistinct backdrop that keeps the focus entirely on the subject.  Color Palette: Monochromatic (black and white tones). The image exhibits a rich grayscale range, with deep blacks in the suit, bright whites in the hair and shirt collar, and a full spectrum of nuanced mid-grays",id:6},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWs0WVdObU5EZ3paQzB3TmpBeUxUUTNOek10T0Raak5DMDNaamxqWkRBMk56QTFNMlFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--5e5150dfde7263e5a8848a0e89cd8e18e80cf89e/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-ed3f5fb81b5.png",title:"Man with Black dress",prompt:"A captivating portrait focusing on the character's face, now reimagined with a more serious, intense, but hot expression. His eyes exude raw emotion while his jet black hair frames his features powerfully. The pose is subtly adjustedhis shoulders are slightly broader, lending him an enhanced presence and a confident stance. The background remains a dark dance studio, featuring low ambient lighting, gentle reflections from mirrored surfaces, and the intimate expanse of a rehearsal space. The overall scene preserves the original art style, with painterly brushstrokes and a muted, atmospheric color palette that highlights the renewed expressiveness and strength of the characters visage.",id:7}];function kO(){const[n,e]=F.useState(0),t=xO.slice();return F.useEffect(()=>{const i=setInterval(()=>{e(a=>(a+1)%t.length)},3e3);return()=>clearInterval(i)},[t.length]),w.jsx(w.Fragment,{children:w.jsxs("div",{className:"main-content-Top",children:[w.jsxs("div",{className:"main-content-Top--conatiner",children:[w.jsxs("h1",{children:[w.jsx("b",{children:"X"})," prime"]}),w.jsxs("p",{children:[w.jsx("b",{children:" Xprime  A Prompt-to-Image Showcase "}),"Explore a visual gallery of AI-generated images, each paired with the prompt that created it. Get inspired, copy any prompt, and generate your own masterpiece using your favorite AI tool. Simple, creative, and ready to spark ideas."]}),w.jsx("div",{className:"main-content-Top--conatiner--icons",children:w.jsx("li",{children:w.jsx(It,{to:"/gallery",children:"Gallery"})})})]}),w.jsx("div",{className:"sidepanel",children:w.jsxs("div",{className:"sidepanel--container",children:[w.jsx("div",{className:"slider",children:w.jsxs("div",{className:"slider-image-container",children:[w.jsx("img",{src:t[n].image,alt:t[n].title,className:"slider-image"}),w.jsx("div",{className:"slider-overlay"})]})}),w.jsx("div",{className:"slider-dots",children:t.map((i,a)=>w.jsx("span",{className:`slider-dot${a===n?" active":""}`},a))})]})})]})})}const VO="/Xprime/assets/user-BrQhXqmf.png",DO=()=>{};var BE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=function(n,e){if(!n)throw ml(e)},ml=function(n){return new Error("Firebase Database ("+k1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},MO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},j_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,d=u?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,y=l>>2,E=(l&3)<<4|d>>4;let b=(d&15)<<2|m>>6,R=m&63;p||(R=64,u||(b=64)),i.push(t[y],t[E],t[b],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(V1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||m==null||E==null)throw new PO;const b=l<<2|d>>4;if(i.push(b),m!==64){const R=d<<4&240|m>>2;if(i.push(R),E!==64){const N=m<<6&192|E;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D1=function(n){const e=V1(n);return j_.encodeByteArray(e,!0)},Ud=function(n){return D1(n).replace(/\./g,"")},Ld=function(n){try{return j_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){return M1(void 0,n)}function M1(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!LO(t)||(n[t]=M1(n[t],e[t]));return n}function LO(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=()=>WO().__FIREBASE_DEFAULTS__,jO=()=>{if(typeof process>"u"||typeof BE>"u")return;const n=BE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ld(n[1]);return e&&JSON.parse(e)},Af=()=>{try{return DO()||FO()||jO()||BO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},P1=n=>{var e,t;return(t=(e=Af())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},B_=n=>{const e=P1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},U1=()=>{var n;return(n=Af())===null||n===void 0?void 0:n.config},L1=n=>{var e;return(e=Af())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(n){return n.endsWith(".cloudworkstations.dev")}async function Nf(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ud(JSON.stringify(t)),Ud(JSON.stringify(u)),""].join(".")}const Gc={};function zO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?n.emulator.push(e):n.prod.push(e);return n}function HO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let zE=!1;function Of(n,e){if(typeof window>"u"||typeof document>"u"||!Us(window.location.host)||Gc[n]===e||Gc[n]||zE)return;Gc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=zO().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{zE=!0,u()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=HO(i),R=t("text"),N=document.getElementById(R)||document.createElement("span"),z=t("learnmore"),H=document.getElementById(z)||document.createElement("a"),Q=t("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ne=b.element;d(ne),y(H,z);const re=m();p(X,Q),ne.append(X,N,H,re),document.body.appendChild(ne)}l?(N.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function qO(){var n;const e=(n=Af())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZO(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function YO(){return k1.NODE_ADMIN===!0}function JO(){return!qO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j1(){try{return typeof indexedDB=="object"}catch{return!1}}function B1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function QO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="FirebaseError";class ri extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=XO,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,za.prototype.create)}}class za{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?KO(l,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new ri(a,d,i)}}function KO(n,e){return n.replace($O,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const $O=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n){return JSON.parse(n)}function Lt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(n){let e={},t={},i={},a="";try{const l=n.split(".");e=su(Ld(l[0])||""),t=su(Ld(l[1])||""),a=l[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:a}},ex=function(n){const e=z1(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},tx=function(n){const e=z1(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function tl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Yg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wd(n,e,t){const i={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=e.call(t,n[a],a,n));return i}function xs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(HE(l)&&HE(u)){if(!xs(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function HE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Bc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)i[E]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let E=0;E<16;E++)i[E]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let E=16;E<80;E++){const b=i[E-3]^i[E-8]^i[E-14]^i[E-16];i[E]=(b<<1|b>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,y;for(let E=0;E<80;E++){E<40?E<20?(m=d^l&(u^d),y=1518500249):(m=l^u^d,y=1859775393):E<60?(m=l&u|d&(l|u),y=2400959708):(m=l^u^d,y=3395469782);const b=(a<<5|a>>>27)+m+p+y+i[E]&4294967295;p=d,d=u,u=(l<<30|l>>>2)&4294967295,l=a,a=b}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let a=0;const l=this.buf_;let u=this.inbuf_;for(;a<t;){if(u===0)for(;a<=i;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<t;)if(l[u]=e.charCodeAt(a),++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}else for(;a<t;)if(l[u]=e[a],++u,++a,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[a]>>l&255,++i;return e}}function ix(n,e){const t=new sx(n,e);return t.subscribe.bind(t)}class sx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");rx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=gg),a.error===void 0&&(a.error=gg),a.complete===void 0&&(a.complete=gg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gg(){}function q_(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);if(a>=55296&&a<=56319){const l=a-55296;i++,oe(i<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(i)-56320;a=65536+(l<<10)+u}a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):a<65536?(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},xf=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=1e3,lx=2,cx=4*60*60*1e3,ux=.5;function qE(n,e=ox,t=lx){const i=e*Math.pow(t,n),a=Math.round(ux*i*(Math.random()-.5)*2);return Math.min(cx,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(n){return n&&n._delegate?n._delegate:n}class Bn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Cf;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fx(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dx(n){return n===Aa?void 0:n}function fx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const mx={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},gx=Ue.INFO,_x={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},yx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=_x[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ru{constructor(e){this.name=e,this._logLevel=gx,this._logHandler=yx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const vx=(n,e)=>e.some(t=>n instanceof t);let GE,ZE;function Tx(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ex(){return ZE||(ZE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,Jg=new WeakMap,q1=new WeakMap,_g=new WeakMap,G_=new WeakMap;function bx(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Sr(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&H1.set(t,n)}).catch(()=>{}),G_.set(e,n),e}function wx(n){if(Jg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Jg.set(n,e)}let Qg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||q1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Sx(n){Qg=n(Qg)}function Ix(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(yg(this),e,...t);return q1.set(i,e.sort?e.sort():[e]),Sr(i)}:Ex().includes(n)?function(...e){return n.apply(yg(this),e),Sr(H1.get(this))}:function(...e){return Sr(n.apply(yg(this),e))}}function Rx(n){return typeof n=="function"?Ix(n):(n instanceof IDBTransaction&&wx(n),vx(n,Tx())?new Proxy(n,Qg):n)}function Sr(n){if(n instanceof IDBRequest)return bx(n);if(_g.has(n))return _g.get(n);const e=Rx(n);return e!==n&&(_g.set(n,e),G_.set(e,n)),e}const yg=n=>G_.get(n);function G1(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),d=Sr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Sr(u.result),p.oldVersion,p.newVersion,Sr(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Ax=["get","getKey","getAll","getAllKeys","count"],Cx=["put","add","delete","clear"],vg=new Map;function YE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vg.get(e))return vg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=Cx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Ax.includes(t)))return;const l=async function(u,...d){const p=this.transaction(u,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return vg.set(e,l),l}Sx(n=>({...n,get:(e,t,i)=>YE(e,t)||n.get(e,t,i),has:(e,t)=>!!YE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ox(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Ox(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xg="@firebase/app",JE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Ru("@firebase/app"),xx="@firebase/app-compat",kx="@firebase/analytics-compat",Vx="@firebase/analytics",Dx="@firebase/app-check-compat",Mx="@firebase/app-check",Px="@firebase/auth",Ux="@firebase/auth-compat",Lx="@firebase/database",Wx="@firebase/data-connect",Fx="@firebase/database-compat",jx="@firebase/functions",Bx="@firebase/functions-compat",zx="@firebase/installations",Hx="@firebase/installations-compat",qx="@firebase/messaging",Gx="@firebase/messaging-compat",Zx="@firebase/performance",Yx="@firebase/performance-compat",Jx="@firebase/remote-config",Qx="@firebase/remote-config-compat",Xx="@firebase/storage",Kx="@firebase/storage-compat",$x="@firebase/firestore",ek="@firebase/ai",tk="@firebase/firestore-compat",nk="firebase",ik="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="[DEFAULT]",sk={[Xg]:"fire-core",[xx]:"fire-core-compat",[Vx]:"fire-analytics",[kx]:"fire-analytics-compat",[Mx]:"fire-app-check",[Dx]:"fire-app-check-compat",[Px]:"fire-auth",[Ux]:"fire-auth-compat",[Lx]:"fire-rtdb",[Wx]:"fire-data-connect",[Fx]:"fire-rtdb-compat",[jx]:"fire-fn",[Bx]:"fire-fn-compat",[zx]:"fire-iid",[Hx]:"fire-iid-compat",[qx]:"fire-fcm",[Gx]:"fire-fcm-compat",[Zx]:"fire-perf",[Yx]:"fire-perf-compat",[Jx]:"fire-rc",[Qx]:"fire-rc-compat",[Xx]:"fire-gcs",[Kx]:"fire-gcs-compat",[$x]:"fire-fst",[tk]:"fire-fst-compat",[ek]:"fire-vertex","fire-js":"fire-js",[nk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Map,rk=new Map,$g=new Map;function QE(n,e){try{n.container.addComponent(e)}catch(t){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function si(n){const e=n.name;if($g.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,n);for(const t of Fd.values())QE(t,n);for(const t of rk.values())QE(t,n);return!0}function Ws(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new za("app","Firebase",ak);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=ik;function Z1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Kg,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Ir.create("bad-app-name",{appName:String(a)});if(t||(t=U1()),!t)throw Ir.create("no-options");const l=Fd.get(a);if(l){if(xs(t,l.options)&&xs(i,l.config))return l;throw Ir.create("duplicate-app",{appName:a})}const u=new px(a);for(const p of $g.values())u.addComponent(p);const d=new ok(t,i,u);return Fd.set(a,d),d}function Au(n=Kg){const e=Fd.get(n);if(!e&&n===Kg&&U1())return Z1();if(!e)throw Ir.create("no-app",{appName:n});return e}function gn(n,e,t){var i;let a=(i=sk[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(d.join(" "));return}si(new Bn(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="firebase-heartbeat-database",ck=1,ru="firebase-heartbeat-store";let Tg=null;function Y1(){return Tg||(Tg=G1(lk,ck,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ru)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),Tg}async function uk(n){try{const t=(await Y1()).transaction(ru),i=await t.objectStore(ru).get(J1(n));return await t.done,i}catch(e){if(e instanceof ri)ks.warn(e.message);else{const t=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(t.message)}}}async function XE(n,e){try{const i=(await Y1()).transaction(ru,"readwrite");await i.objectStore(ru).put(e,J1(n)),await i.done}catch(t){if(t instanceof ri)ks.warn(t.message);else{const i=Ir.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ks.warn(i.message)}}}function J1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=1024,dk=30;class fk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=KE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>dk){const u=gk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ks.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=KE(),{heartbeatsToSend:i,unsentEntries:a}=pk(this._heartbeatsCache.heartbeats),l=Ud(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ks.warn(t),""}}}function KE(){return new Date().toISOString().substring(0,10)}function pk(n,e=hk){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),$E(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),$E(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class mk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j1()?B1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return XE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return XE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $E(n){return Ud(JSON.stringify({version:2,heartbeats:n})).length}function gk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){si(new Bn("platform-logger",e=>new Nx(e),"PRIVATE")),si(new Bn("heartbeat",e=>new fk(e),"PRIVATE")),gn(Xg,JE,n),gn(Xg,JE,"esm2017"),gn("fire-js","")}_k("");var yk="firebase",vk="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn(yk,vk,"app");function Z_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function Q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tk=Q1,X1=new za("auth","Firebase",Q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Ru("@firebase/auth");function Ek(n,...e){jd.logLevel<=Ue.WARN&&jd.warn(`Auth (${Br}): ${n}`,...e)}function Rd(n,...e){jd.logLevel<=Ue.ERROR&&jd.error(`Auth (${Br}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(n,...e){throw Y_(n,...e)}function Wi(n,...e){return Y_(n,...e)}function K1(n,e,t){const i=Object.assign(Object.assign({},Tk()),{[e]:t});return new za("auth","Firebase",i).create(e,{appName:n.name})}function Fi(n){return K1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return X1.create(n,...e)}function Ee(n,e,...t){if(!n)throw Y_(e,...t)}function Is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Rd(e),new Error(e)}function Vs(n,e){n||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function bk(){return eb()==="http:"||eb()==="https:"}function eb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bk()||W1()||"connection"in navigator)?navigator.onLine:!0}function Sk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vs(t>e,"Short delay should be less than long delay!"),this.isMobile=H_()||F1()}get(){return wk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n,e){Vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ak=new Cu(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ti(n,e,t,i,a={}){return eS(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=gl(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return GO()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Us(n.emulatorConfig.host)&&(m.credentials="include"),$1.fetch()(await tS(n,n.config.apiHost,t,d),m)})}async function eS(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ik),e);try{const a=new Nk(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw md(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw md(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw md(n,"user-disabled",u);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw K1(n,y,m);vi(n,y)}}catch(a){if(a instanceof ri)throw a;vi(n,"network-request-failed",{message:String(a)})}}async function Nu(n,e,t,i,a={}){const l=await Ti(n,e,t,i,a);return"mfaPendingCredential"in l&&vi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function tS(n,e,t,i){const a=`${e}${t}?${i}`,l=n,u=l.config.emulator?J_(n.config,a):`${n.config.apiScheme}://${a}`;return Rk.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Ck(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wi(this.auth,"network-request-failed")),Ak.get())})}}function md(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Wi(n,e,i);return a.customData._tokenResponse=t,a}function tb(n){return n!==void 0&&n.enterprise!==void 0}class Ok{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ck(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xk(n,e){return Ti(n,"GET","/v2/recaptchaConfig",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(n,e){return Ti(n,"POST","/v1/accounts:delete",e)}async function Bd(n,e){return Ti(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vk(n,e=!1){const t=ft(n),i=await t.getIdToken(e),a=Q_(i);Ee(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Zc(Eg(a.auth_time)),issuedAtTime:Zc(Eg(a.iat)),expirationTime:Zc(Eg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Eg(n){return Number(n)*1e3}function Q_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Ld(t);return a?JSON.parse(a):(Rd("Failed to decode base64 JWT payload"),null)}catch(a){return Rd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function nb(n){const e=Q_(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ri&&Dk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Dk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Va(n,Bd(t,{idToken:i}));Ee(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?nS(l.providerUserInfo):[],d=Uk(n.providerData,u),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),y=p?m:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new t_(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,E)}async function Pk(n){const e=ft(n);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Uk(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function nS(n){return n.map(e=>{var{providerId:t}=e,i=Z_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(n,e){const t=await eS(n,{},async()=>{const i=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await tS(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Us(n.emulatorConfig.host)&&(p.credentials="include"),$1.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Wk(n,e){return Ti(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=nb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await Lk(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new Jo;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fi{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Z_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new t_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Va(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Vk(this,e)}reload(){return Pk(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await zd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await Va(this,kk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,u,d,p,m,y;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(u=t.photoURL)!==null&&u!==void 0?u:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,H=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(m=t.createdAt)!==null&&m!==void 0?m:void 0,X=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:ne,emailVerified:re,isAnonymous:ue,providerData:ve,stsTokenManager:M}=t;Ee(ne&&M,e,"internal-error");const A=Jo.fromJSON(this.name,M);Ee(typeof ne=="string",e,"internal-error"),yr(E,e.name),yr(b,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof ue=="boolean",e,"internal-error"),yr(R,e.name),yr(N,e.name),yr(z,e.name),yr(H,e.name),yr(Q,e.name),yr(X,e.name);const C=new fi({uid:ne,auth:e,email:b,emailVerified:re,displayName:E,isAnonymous:ue,photoURL:N,phoneNumber:R,tenantId:z,stsTokenManager:A,createdAt:Q,lastLoginAt:X});return ve&&Array.isArray(ve)&&(C.providerData=ve.map(V=>Object.assign({},V))),H&&(C._redirectEventId=H),C}static async _fromIdTokenResponse(e,t,i=!1){const a=new Jo;a.updateFromServerResponse(t);const l=new fi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await zd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?nS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Jo;d.updateFromIdToken(i);const p=new fi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new t_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function Rs(n){Vs(n instanceof Function,"Expected a class definition");let e=ib.get(n);return e?(Vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ib.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iS.type="NONE";const sb=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n,e,t){return`firebase:${n}:${e}:${t}`}class Qo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ad(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ad("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bd(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Qo(Rs(sb),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Rs(sb);const u=Ad(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const y=await m._get(u);if(y){let E;if(typeof y=="string"){const b=await Bd(e,{idToken:y}).catch(()=>{});if(!b)break;E=await fi._fromGetAccountInfoResponse(e,b,y)}else E=fi._fromJSON(e,y);m!==l&&(d=E),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Qo(l,e,i):(l=p[0],d&&await l._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Qo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cS(e))return"Blackberry";if(uS(e))return"Webos";if(rS(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(lS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function sS(n=_n()){return/firefox\//i.test(n)}function rS(n=_n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(n=_n()){return/crios\//i.test(n)}function oS(n=_n()){return/iemobile/i.test(n)}function lS(n=_n()){return/android/i.test(n)}function cS(n=_n()){return/blackberry/i.test(n)}function uS(n=_n()){return/webos/i.test(n)}function X_(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Fk(n=_n()){var e;return X_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jk(){return ZO()&&document.documentMode===10}function hS(n=_n()){return X_(n)||lS(n)||uS(n)||cS(n)||/windows phone/i.test(n)||oS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(n,e=[]){let t;switch(n){case"Browser":t=rb(_n());break;case"Worker":t=`${rb(_n())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Br}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,d)=>{try{const p=e(l);u(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e={}){return Ti(n,"GET","/v2/passwordPolicy",Fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=6;class qk{constructor(e){var t,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Hk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,u,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ab(this),this.idTokenSubscription=new ab(this),this.beforeStateQueue=new Bk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bd(this,{idToken:e}),i=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Fi(this));const t=e?ft(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zk(this),t=new qk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new za("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Wk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rs(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Ek(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function zr(n){return ft(n)}class ab{constructor(e){this.auth=e,this.observer=null,this.addObserver=ix(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zk(n){kf=n}function fS(n){return kf.loadJS(n)}function Yk(){return kf.recaptchaEnterpriseScript}function Jk(){return kf.gapiScript}function Qk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Xk{constructor(){this.enterprise=new Kk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Kk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $k="recaptcha-enterprise",pS="NO_RECAPTCHA";class eV{constructor(e){this.type=$k,this.auth=zr(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{xk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new Ok(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{d(p)})})}function a(l,u,d){const p=window.grecaptcha;tb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(pS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(d=>{if(!t&&tb(window.grecaptcha))a(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Yk();p.length!==0&&(p+=d),fS(p).then(()=>{a(d,l,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function ob(n,e,t,i=!1,a=!1){const l=new eV(n);let u;if(a)u=pS;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Hd(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ob(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ob(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(n,e){const t=Ws(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(xs(l,e??{}))return a;vi(a,"already-initialized")}return t.initialize({options:e})}function nV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Rs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function iV(n,e,t){const i=zr(n);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=mS(e),{host:u,port:d}=sV(e),p=d===null?"":`:${d}`,m={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(xs(m,i.config.emulator)&&xs(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Us(u)?(Nf(`${l}//${u}${p}`),Of("Auth",!0)):rV()}function mS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sV(n){const e=mS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:lb(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:lb(u)}}}function lb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function rV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,t){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function aV(n,e){return Ti(n,"POST","/v1/accounts:update",e)}async function oV(n,e){return Ti(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(n,e){return Nu(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}async function cV(n,e){return Ti(n,"POST","/v1/accounts:sendOobCode",Fs(n,e))}async function uV(n,e){return cV(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(n,e){return Nu(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function dV(n,e){return Nu(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends K_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new au(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new au(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(e,t,"signInWithPassword",lV);case"emailLink":return hV(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(e,i,"signUpPassword",oV);case"emailLink":return dV(e,{idToken:t,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n,e){return Nu(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="http://localhost";class Da extends K_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Z_(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Da(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Xo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Xo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xo(e,t)}buildRequest(){const e={requestUri:fV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mV(n){const e=jc(Bc(n)).link,t=e?jc(Bc(e)).deep_link_id:null,i=jc(Bc(n)).deep_link_id;return(i?jc(Bc(i)).link:null)||i||t||e||n}class $_{constructor(e){var t,i,a,l,u,d;const p=jc(Bc(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,y=(i=p.oobCode)!==null&&i!==void 0?i:null,E=pV((a=p.mode)!==null&&a!==void 0?a:null);Ee(m&&y&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=y,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=mV(e);try{return new $_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,t){return au._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=$_.parseLink(t);return Ee(i,"argument-error"),au._fromEmailAndCode(e,i.code,i.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ou{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Da._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Tr.credential(t,i)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Ou{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ou{constructor(){super("twitter.com")}static credential(e,t){return Da._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return br.credential(t,i)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(n,e){return Nu(n,"POST","/v1/accounts:signUp",Fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await fi._fromIdTokenResponse(e,i,a),u=cb(i);return new Ma({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=cb(i);return new Ma({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function cb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends ri{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,qd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new qd(e,t,i,a)}}function _S(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qd._fromErrorAndOperation(n,l,e,i):l})}async function _V(n,e,t=!1){const i=await Va(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ma._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(n,e,t=!1){const{auth:i}=n;if(bn(i.app))return Promise.reject(Fi(i));const a="reauthenticate";try{const l=await Va(n,_S(i,a,e,n),t);Ee(l.idToken,i,"internal-error");const u=Q_(l.idToken);Ee(u,i,"internal-error");const{sub:d}=u;return Ee(n.uid===d,i,"user-mismatch"),Ma._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&vi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(n,e,t=!1){if(bn(n.app))return Promise.reject(Fi(n));const i="signIn",a=await _S(n,i,e),l=await Ma._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function vV(n,e){return yS(zr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(n){const e=zr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TV(n,e,t){const i=zr(n);await Hd(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",uV)}async function TS(n,e,t){if(bn(n.app))return Promise.reject(Fi(n));const i=zr(n),u=await Hd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gV).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vS(n),p}),d=await Ma._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function EV(n,e,t){return bn(n.app)?Promise.reject(Fi(n)):vV(ft(n),_l.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vS(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(n,e){return Ti(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ft(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Va(i,bV(i.auth,l));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function SV(n,e){const t=ft(n);return bn(t.auth.app)?Promise.reject(Fi(t.auth)):IV(t,e)}async function IV(n,e,t){const{auth:i}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e);const u=await Va(n,aV(i,l));await n._updateTokensIfNecessary(u,!0)}function RV(n,e,t,i){return ft(n).onIdTokenChanged(e,t,i)}function AV(n,e,t){return ft(n).beforeAuthStateChanged(e,t)}function CV(n,e,t,i){return ft(n).onAuthStateChanged(e,t,i)}function NV(n){return ft(n).signOut()}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=1e3,xV=10;class bS extends ES{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);jk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,xV):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},OV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bS.type="LOCAL";const kV=bS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends ES{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wS.type="SESSION";const SS=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Vf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async m=>m(t.origin,l)),p=await VV(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((d,p)=>{const m=ey("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function MV(n){ji().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function PV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function LV(){return IS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebaseLocalStorageDb",WV=1,Zd="firebaseLocalStorage",AS="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Df(n,e){return n.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function FV(){const n=indexedDB.deleteDatabase(RS);return new xu(n).toPromise()}function n_(){const n=indexedDB.open(RS,WV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zd,{keyPath:AS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Zd)?e(i):(i.close(),await FV(),e(await n_()))})})}async function ub(n,e,t){const i=Df(n,!0).put({[AS]:e,value:t});return new xu(i).toPromise()}async function jV(n,e){const t=Df(n,!1).get(e),i=await new xu(t).toPromise();return i===void 0?null:i.value}function hb(n,e){const t=Df(n,!0).delete(e);return new xu(t).toPromise()}const BV=800,zV=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(LV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PV(),!this.activeServiceWorker)return;this.sender=new DV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await ub(e,Gd,"1"),await hb(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ub(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>jV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Df(a,!1).getAll();return new xu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const HV=CS;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(n,e){return e?Rs(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends K_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GV(n){return yS(n.auth,new ty(n),n.bypassAuthState)}function ZV(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),yV(t,new ty(n),n.bypassAuthState)}async function YV(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),_V(t,new ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GV;case"linkViaPopup":case"linkViaRedirect":return YV;case"reauthViaPopup":case"reauthViaRedirect":return ZV;default:vi(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new Cu(2e3,1e4);class Zo extends NS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JV.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="pendingRedirect",Cd=new Map;class XV extends NS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const i=await KV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KV(n,e){const t=tD(e),i=eD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function $V(n,e){Cd.set(n._key(),e)}function eD(n){return Rs(n._redirectPersistence)}function tD(n){return Ad(QV,n.config.apiKey,n.name)}async function nD(n,e,t=!1){if(bn(n.app))return Promise.reject(Fi(n));const i=zr(n),a=qV(i,e),u=await new XV(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=10*60*1e3;class sD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!OS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Wi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iD&&this.cachedEventUids.clear(),this.cachedEventUids.has(db(e))}saveEventToCache(e){this.cachedEventUids.add(db(e)),this.lastProcessedEventTime=Date.now()}}function db(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e={}){return Ti(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lD=/^https?/;async function cD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aD(n);for(const t of e)try{if(uD(t))return}catch{}vi(n,"unauthorized-domain")}function uD(n){const e=e_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!lD.test(t))return!1;if(oD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Cu(3e4,6e4);function fb(){const n=ji().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function dD(n){return new Promise((e,t)=>{var i,a,l;function u(){fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fb(),t(Wi(n,"network-request-failed"))},timeout:hD.get()})}if(!((a=(i=ji().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ji().gapi)===null||l===void 0)&&l.load)u();else{const d=Qk("iframefcb");return ji()[d]=()=>{gapi.load?u():t(Wi(n,"network-request-failed"))},fS(`${Jk()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function fD(n){return Nd=Nd||dD(n),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Cu(5e3,15e3),mD="__/auth/iframe",gD="emulator/auth/iframe",_D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vD(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?J_(e,gD):`https://${n.config.authDomain}/${mD}`,i={apiKey:e.apiKey,appName:n.name,v:Br},a=yD.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${gl(i).slice(1)}`}async function TD(n){const e=await fD(n),t=ji().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:vD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_D,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Wi(n,"network-request-failed"),d=ji().setTimeout(()=>{l(u)},pD.get());function p(){ji().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bD=500,wD=600,SD="_blank",ID="http://localhost";class pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RD(n,e,t,i=bD,a=wD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},ED),{width:i.toString(),height:a.toString(),top:l,left:u}),m=_n().toLowerCase();t&&(d=aS(m)?SD:t),sS(m)&&(e=e||ID,p.scrollbars="yes");const y=Object.entries(p).reduce((b,[R,N])=>`${b}${R}=${N},`,"");if(Fk(m)&&d!=="_self")return AD(e||"",d),new pb(null);const E=window.open(e||"",d,y);Ee(E,n,"popup-blocked");try{E.focus()}catch{}return new pb(E)}function AD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="__/auth/handler",ND="emulator/auth/handler",OD=encodeURIComponent("fac");async function mb(n,e,t,i,a,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Br,eventId:a};if(e instanceof gS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",Yg(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))u[y]=E}if(e instanceof Ou){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await n._getAppCheckToken(),m=p?`#${OD}=${encodeURIComponent(p)}`:"";return`${xD(n)}?${gl(d).slice(1)}${m}`}function xD({config:n}){return n.emulator?J_(n,ND):`https://${n.authDomain}/${CD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="webStorageSupport";class kD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SS,this._completeRedirectFn=nD,this._overrideRedirectResult=$V}async _openPopup(e,t,i,a){var l;Vs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await mb(e,t,i,e_(),a);return RD(e,u,ey())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await mb(e,t,i,e_(),a);return MV(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Vs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await TD(e),i=new sD(e);return t.register("authEvent",a=>(Ee(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bg,{type:bg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[bg];u!==void 0&&t(!!u),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hS()||rS()||X_()}}const VD=kD;var gb="@firebase/auth",_b="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PD(n){si(new Bn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dS(n)},m=new Gk(i,a,l,p);return nV(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),si(new Bn("auth-internal",e=>{const t=zr(e.getProvider("auth").getImmediate());return(i=>new DD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(gb,_b,MD(n)),gn(gb,_b,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=5*60,LD=L1("authIdTokenMaxAge")||UD;let yb=null;const WD=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>LD)return;const a=t==null?void 0:t.token;yb!==a&&(yb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ny(n=Au()){const e=Ws(n,"auth");if(e.isInitialized())return e.getImmediate();const t=tV(n,{popupRedirectResolver:VD,persistence:[HV,kV,SS]}),i=L1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=WD(l.toString());AV(t,u,()=>u(t.currentUser)),RV(t,d=>u(d))}}const a=P1("auth");return a&&iV(t,`http://${a}`),t}function FD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Zk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Wi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",FD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PD("Browser");var vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,xS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function C(){}C.prototype=A.prototype,M.D=A.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(V,P,L){for(var x=Array(arguments.length-2),en=2;en<arguments.length;en++)x[en-2]=arguments[en];return A.prototype[P].apply(V,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,A,C){C||(C=0);var V=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)V[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;16>P;++P)V[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=M.g[0],C=M.g[1],P=M.g[2];var L=M.g[3],x=A+(L^C&(P^L))+V[0]+3614090360&4294967295;A=C+(x<<7&4294967295|x>>>25),x=L+(P^A&(C^P))+V[1]+3905402710&4294967295,L=A+(x<<12&4294967295|x>>>20),x=P+(C^L&(A^C))+V[2]+606105819&4294967295,P=L+(x<<17&4294967295|x>>>15),x=C+(A^P&(L^A))+V[3]+3250441966&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(L^C&(P^L))+V[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=L+(P^A&(C^P))+V[5]+1200080426&4294967295,L=A+(x<<12&4294967295|x>>>20),x=P+(C^L&(A^C))+V[6]+2821735955&4294967295,P=L+(x<<17&4294967295|x>>>15),x=C+(A^P&(L^A))+V[7]+4249261313&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(L^C&(P^L))+V[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=L+(P^A&(C^P))+V[9]+2336552879&4294967295,L=A+(x<<12&4294967295|x>>>20),x=P+(C^L&(A^C))+V[10]+4294925233&4294967295,P=L+(x<<17&4294967295|x>>>15),x=C+(A^P&(L^A))+V[11]+2304563134&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(L^C&(P^L))+V[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=L+(P^A&(C^P))+V[13]+4254626195&4294967295,L=A+(x<<12&4294967295|x>>>20),x=P+(C^L&(A^C))+V[14]+2792965006&4294967295,P=L+(x<<17&4294967295|x>>>15),x=C+(A^P&(L^A))+V[15]+1236535329&4294967295,C=P+(x<<22&4294967295|x>>>10),x=A+(P^L&(C^P))+V[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=L+(C^P&(A^C))+V[6]+3225465664&4294967295,L=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(L^A))+V[11]+643717713&4294967295,P=L+(x<<14&4294967295|x>>>18),x=C+(L^A&(P^L))+V[0]+3921069994&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^L&(C^P))+V[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=L+(C^P&(A^C))+V[10]+38016083&4294967295,L=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(L^A))+V[15]+3634488961&4294967295,P=L+(x<<14&4294967295|x>>>18),x=C+(L^A&(P^L))+V[4]+3889429448&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^L&(C^P))+V[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=L+(C^P&(A^C))+V[14]+3275163606&4294967295,L=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(L^A))+V[3]+4107603335&4294967295,P=L+(x<<14&4294967295|x>>>18),x=C+(L^A&(P^L))+V[8]+1163531501&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(P^L&(C^P))+V[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=L+(C^P&(A^C))+V[2]+4243563512&4294967295,L=A+(x<<9&4294967295|x>>>23),x=P+(A^C&(L^A))+V[7]+1735328473&4294967295,P=L+(x<<14&4294967295|x>>>18),x=C+(L^A&(P^L))+V[12]+2368359562&4294967295,C=P+(x<<20&4294967295|x>>>12),x=A+(C^P^L)+V[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=L+(A^C^P)+V[8]+2272392833&4294967295,L=A+(x<<11&4294967295|x>>>21),x=P+(L^A^C)+V[11]+1839030562&4294967295,P=L+(x<<16&4294967295|x>>>16),x=C+(P^L^A)+V[14]+4259657740&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^L)+V[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=L+(A^C^P)+V[4]+1272893353&4294967295,L=A+(x<<11&4294967295|x>>>21),x=P+(L^A^C)+V[7]+4139469664&4294967295,P=L+(x<<16&4294967295|x>>>16),x=C+(P^L^A)+V[10]+3200236656&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^L)+V[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=L+(A^C^P)+V[0]+3936430074&4294967295,L=A+(x<<11&4294967295|x>>>21),x=P+(L^A^C)+V[3]+3572445317&4294967295,P=L+(x<<16&4294967295|x>>>16),x=C+(P^L^A)+V[6]+76029189&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(C^P^L)+V[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=L+(A^C^P)+V[12]+3873151461&4294967295,L=A+(x<<11&4294967295|x>>>21),x=P+(L^A^C)+V[15]+530742520&4294967295,P=L+(x<<16&4294967295|x>>>16),x=C+(P^L^A)+V[2]+3299628645&4294967295,C=P+(x<<23&4294967295|x>>>9),x=A+(P^(C|~L))+V[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=L+(C^(A|~P))+V[7]+1126891415&4294967295,L=A+(x<<10&4294967295|x>>>22),x=P+(A^(L|~C))+V[14]+2878612391&4294967295,P=L+(x<<15&4294967295|x>>>17),x=C+(L^(P|~A))+V[5]+4237533241&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~L))+V[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=L+(C^(A|~P))+V[3]+2399980690&4294967295,L=A+(x<<10&4294967295|x>>>22),x=P+(A^(L|~C))+V[10]+4293915773&4294967295,P=L+(x<<15&4294967295|x>>>17),x=C+(L^(P|~A))+V[1]+2240044497&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~L))+V[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=L+(C^(A|~P))+V[15]+4264355552&4294967295,L=A+(x<<10&4294967295|x>>>22),x=P+(A^(L|~C))+V[6]+2734768916&4294967295,P=L+(x<<15&4294967295|x>>>17),x=C+(L^(P|~A))+V[13]+1309151649&4294967295,C=P+(x<<21&4294967295|x>>>11),x=A+(P^(C|~L))+V[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=L+(C^(A|~P))+V[11]+3174756917&4294967295,L=A+(x<<10&4294967295|x>>>22),x=P+(A^(L|~C))+V[2]+718787259&4294967295,P=L+(x<<15&4294967295|x>>>17),x=C+(L^(P|~A))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+L&4294967295}i.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var C=A-this.blockSize,V=this.B,P=this.h,L=0;L<A;){if(P==0)for(;L<=C;)a(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<A;)if(V[P++]=M.charCodeAt(L++),P==this.blockSize){a(this,V),P=0;break}}else for(;L<A;)if(V[P++]=M[L++],P==this.blockSize){a(this,V),P=0;break}}this.h=P,this.o+=A},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var C=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=C&255,C/=256;for(this.u(M),M=Array(16),A=C=0;4>A;++A)for(var V=0;32>V;V+=8)M[C++]=this.g[A]>>>V&255;return M};function l(M,A){var C=d;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=A(M)}function u(M,A){this.h=A;for(var C=[],V=!0,P=M.length-1;0<=P;P--){var L=M[P]|0;V&&L==A||(C[P]=L,V=!1)}this.g=C}var d={};function p(M){return-128<=M&&128>M?l(M,function(A){return new u([A|0],0>A?-1:0)}):new u([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return H(m(-M));for(var A=[],C=1,V=0;M>=C;V++)A[V]=M/C|0,C*=4294967296;return new u(A,0)}function y(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return H(y(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(A,8)),V=E,P=0;P<M.length;P+=8){var L=Math.min(8,M.length-P),x=parseInt(M.substring(P,P+L),A);8>L?(L=m(Math.pow(A,L)),V=V.j(L).add(m(x))):(V=V.j(C),V=V.add(m(x)))}return V}var E=p(0),b=p(1),R=p(16777216);n=u.prototype,n.m=function(){if(z(this))return-H(this).m();for(var M=0,A=1,C=0;C<this.g.length;C++){var V=this.i(C);M+=(0<=V?V:4294967296+V)*A,A*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(z(this))return"-"+H(this).toString(M);for(var A=m(Math.pow(M,6)),C=this,V="";;){var P=re(C,A).g;C=Q(C,P.j(A));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=P,N(C))return L+V;for(;6>L.length;)L="0"+L;V=L+V}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function z(M){return M.h==-1}n.l=function(M){return M=Q(this,M),z(M)?-1:N(M)?0:1};function H(M){for(var A=M.g.length,C=[],V=0;V<A;V++)C[V]=~M.g[V];return new u(C,~M.h).add(b)}n.abs=function(){return z(this)?H(this):this},n.add=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],V=0,P=0;P<=A;P++){var L=V+(this.i(P)&65535)+(M.i(P)&65535),x=(L>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);V=x>>>16,L&=65535,x&=65535,C[P]=x<<16|L}return new u(C,C[C.length-1]&-2147483648?-1:0)};function Q(M,A){return M.add(H(A))}n.j=function(M){if(N(this)||N(M))return E;if(z(this))return z(M)?H(this).j(H(M)):H(H(this).j(M));if(z(M))return H(this.j(H(M)));if(0>this.l(R)&&0>M.l(R))return m(this.m()*M.m());for(var A=this.g.length+M.g.length,C=[],V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<M.g.length;P++){var L=this.i(V)>>>16,x=this.i(V)&65535,en=M.i(P)>>>16,mt=M.i(P)&65535;C[2*V+2*P]+=x*mt,X(C,2*V+2*P),C[2*V+2*P+1]+=L*mt,X(C,2*V+2*P+1),C[2*V+2*P+1]+=x*en,X(C,2*V+2*P+1),C[2*V+2*P+2]+=L*en,X(C,2*V+2*P+2)}for(V=0;V<A;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=A;V<2*A;V++)C[V]=0;return new u(C,0)};function X(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function ne(M,A){this.g=M,this.h=A}function re(M,A){if(N(A))throw Error("division by zero");if(N(M))return new ne(E,E);if(z(M))return A=re(H(M),A),new ne(H(A.g),H(A.h));if(z(A))return A=re(M,H(A)),new ne(H(A.g),A.h);if(30<M.g.length){if(z(M)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var C=b,V=A;0>=V.l(M);)C=ue(C),V=ue(V);var P=ve(C,1),L=ve(V,1);for(V=ve(V,2),C=ve(C,2);!N(V);){var x=L.add(V);0>=x.l(M)&&(P=P.add(C),L=x),V=ve(V,1),C=ve(C,1)}return A=Q(M,P.j(A)),new ne(P,A)}for(P=E;0<=M.l(A);){for(C=Math.max(1,Math.floor(M.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),L=m(C),x=L.j(A);z(x)||0<x.l(M);)C-=V,L=m(C),x=L.j(A);N(L)&&(L=b),P=P.add(L),M=Q(M,x)}return new ne(P,M)}n.A=function(M){return re(this,M).h},n.and=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)&M.i(V);return new u(C,this.h&M.h)},n.or=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)|M.i(V);return new u(C,this.h|M.h)},n.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)^M.i(V);return new u(C,this.h^M.h)};function ue(M){for(var A=M.g.length+1,C=[],V=0;V<A;V++)C[V]=M.i(V)<<1|M.i(V-1)>>>31;return new u(C,M.h)}function ve(M,A){var C=A>>5;A%=32;for(var V=M.g.length-C,P=[],L=0;L<V;L++)P[L]=0<A?M.i(L+C)>>>A|M.i(L+C+1)<<32-A:M.i(L+C);return new u(P,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Rr=u}).apply(typeof vb<"u"?vb:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kS,zc,VS,Od,i_,DS,MS,PS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,v){return h==Array.prototype||h==Object.prototype||(h[_]=v.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var _=0;_<h.length;++_){var v=h[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var v=i;h=h.split(".");for(var I=0;I<h.length-1;I++){var W=h[I];if(!(W in v))break e;v=v[W]}h=h[h.length-1],I=v[h],_=_(I),_!=I&&_!=null&&e(v,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var v=0,I=!1,W={next:function(){if(!I&&v<h.length){var Z=v++;return{value:_(Z,h[Z]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,v){return h.call.apply(h.bind,arguments)}function E(h,_,v){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),h.apply(_,W)}}return function(){return h.apply(_,arguments)}}function b(h,_,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,b.apply(null,arguments)}function R(h,_){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function N(h,_){function v(){}v.prototype=_.prototype,h.aa=_.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(I,W,Z){for(var ae=Array(arguments.length-2),je=2;je<arguments.length;je++)ae[je-2]=arguments[je];return _.prototype[W].apply(I,ae)}}function z(h){const _=h.length;if(0<_){const v=Array(_);for(let I=0;I<_;I++)v[I]=h[I];return v}return[]}function H(h,_){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const W=h.length||0,Z=I.length||0;h.length=W+Z;for(let ae=0;ae<Z;ae++)h[W+ae]=I[ae]}else h.push(I)}}class Q{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function X(h){return/^[\s\xa0]*$/.test(h)}function ne(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var ue=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ve(h,_,v){for(const I in h)_.call(v,h[I],I,h)}function M(h,_){for(const v in h)_.call(void 0,h[v],v,h)}function A(h){const _={};for(const v in h)_[v]=h[v];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,_){let v,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(v in I)h[v]=I[v];for(let Z=0;Z<C.length;Z++)v=C[Z],Object.prototype.hasOwnProperty.call(I,v)&&(h[v]=I[v])}}function P(h){var _=1;h=h.split(":");const v=[];for(;0<_&&h.length;)v.push(h.shift()),_--;return h.length&&v.push(h.join(":")),v}function L(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Ze;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class en{constructor(){this.h=this.g=null}add(_,v){const I=mt.get();I.set(_,v),this.h?this.h.next=I:this.g=I,this.h=I}}var mt=new Q(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,Ze=new en,k=()=>{const h=d.Promise.resolve(void 0);le=()=>{h.then(te)}};var te=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(v){L(v)}var _=mt;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}pe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,_),d.removeEventListener("test",v,_)}catch{}return h}();function ke(h,_){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(ue){e:{try{re(_.nodeName);var W=!0;break e}catch{}W=!1}W||(_=null)}}else v=="mouseover"?_=h.fromElement:v=="mouseout"&&(_=h.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ke.aa.h.call(this)}}N(ke,se);var Re={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),ot=0;function Ei(h,_,v,I,W){this.listener=h,this.proxy=null,this.src=_,this.type=v,this.capture=!!I,this.ha=W,this.key=++ot,this.da=this.fa=!1}function Bs(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ki(h){this.src=h,this.g={},this.h=0}Ki.prototype.add=function(h,_,v,I,W){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var ae=qr(h,_,I,W);return-1<ae?(_=h[ae],v||(_.fa=!1)):(_=new Ei(_,this.src,Z,!!I,W),_.fa=v,h.push(_)),_};function Hr(h,_){var v=_.type;if(v in h.g){var I=h.g[v],W=Array.prototype.indexOf.call(I,_,void 0),Z;(Z=0<=W)&&Array.prototype.splice.call(I,W,1),Z&&(Bs(_),h.g[v].length==0&&(delete h.g[v],h.h--))}}function qr(h,_,v,I){for(var W=0;W<h.length;++W){var Z=h[W];if(!Z.da&&Z.listener==_&&Z.capture==!!v&&Z.ha==I)return W}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Il={};function zu(h,_,v,I,W){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)zu(h,_[Z],v,I,W);return null}return v=Hu(v),h&&h[zt]?h.K(_,v,m(I)?!!I.capture:!1,W):zn(h,_,v,!1,I,W)}function zn(h,_,v,I,W,Z){if(!_)throw Error("Invalid event type");var ae=m(W)?!!W.capture:!!W,je=Qa(h);if(je||(h[Gr]=je=new Ki(h)),v=je.add(_,v,I,ae,Z),v.proxy)return v;if(I=sp(),v.proxy=I,I.src=h,I.listener=v,h.addEventListener)me||(W=ae),W===void 0&&(W=!1),h.addEventListener(_.toString(),I,W);else if(h.attachEvent)h.attachEvent(Zr(_.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sp(){function h(v){return _.call(h.src,h.listener,v)}const _=rp;return h}function Rl(h,_,v,I,W){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Rl(h,_[Z],v,I,W);else I=m(I)?!!I.capture:!!I,v=Hu(v),h&&h[zt]?(h=h.i,_=String(_).toString(),_ in h.g&&(Z=h.g[_],v=qr(Z,v,I,W),-1<v&&(Bs(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete h.g[_],h.h--)))):h&&(h=Qa(h))&&(_=h.g[_.toString()],h=-1,_&&(h=qr(_,v,I,W)),(v=-1<h?_[h]:null)&&Ja(v))}function Ja(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[zt])Hr(_.i,h);else{var v=h.type,I=h.proxy;_.removeEventListener?_.removeEventListener(v,I,h.capture):_.detachEvent?_.detachEvent(Zr(v),I):_.addListener&&_.removeListener&&_.removeListener(I),(v=Qa(_))?(Hr(v,h),v.h==0&&(v.src=null,_[Gr]=null)):Bs(h)}}}function Zr(h){return h in Il?Il[h]:Il[h]="on"+h}function rp(h,_){if(h.da)h=!0;else{_=new ke(_,this);var v=h.listener,I=h.ha||h.src;h.fa&&Ja(h),h=v.call(I,_)}return h}function Qa(h){return h=h[Gr],h instanceof Ki?h:null}var Al="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hu(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(_){return h.handleEvent(_)}),h[Al])}function gt(){ce.call(this),this.i=new Ki(this),this.M=this,this.F=null}N(gt,ce),gt.prototype[zt]=!0,gt.prototype.removeEventListener=function(h,_,v,I){Rl(this,h,_,v,I)};function Xe(h,_){var v,I=h.F;if(I)for(v=[];I;I=I.F)v.push(I);if(h=h.M,I=_.type||_,typeof _=="string")_=new se(_,h);else if(_ instanceof se)_.target=_.target||h;else{var W=_;_=new se(I,h),V(_,W)}if(W=!0,v)for(var Z=v.length-1;0<=Z;Z--){var ae=_.g=v[Z];W=kn(ae,I,!0,_)&&W}if(ae=_.g=h,W=kn(ae,I,!0,_)&&W,W=kn(ae,I,!1,_)&&W,v)for(Z=0;Z<v.length;Z++)ae=_.g=v[Z],W=kn(ae,I,!1,_)&&W}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var v=h.g[_],I=0;I<v.length;I++)Bs(v[I]);delete h.g[_],h.h--}}this.F=null},gt.prototype.K=function(h,_,v,I){return this.i.add(String(h),_,!1,v,I)},gt.prototype.L=function(h,_,v,I){return this.i.add(String(h),_,!0,v,I)};function kn(h,_,v,I){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,Z=0;Z<_.length;++Z){var ae=_[Z];if(ae&&!ae.da&&ae.capture==v){var je=ae.listener,Dt=ae.ha||ae.src;ae.fa&&Hr(h.i,ae),W=je.call(Dt,I)!==!1&&W}}return W&&!I.defaultPrevented}function cn(h,_,v){if(typeof h=="function")v&&(h=b(h,v));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(h,_||0)}function qu(h){h.g=cn(()=>{h.g=null,h.i&&(h.i=!1,qu(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class ap extends ce{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(h){ce.call(this),this.h=h,this.g={}}N(Yr,ce);var Jr=[];function Qr(h){ve(h.g,function(_,v){this.g.hasOwnProperty(v)&&Ja(_)},h),h.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Qr(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=d.JSON.stringify,Xa=d.JSON.parse,Xr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Cl(){}Cl.prototype.h=null;function Nl(h){return h.h||(h.h=h.i())}function Ol(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){se.call(this,"d")}N(es,se);function xl(){se.call(this,"c")}N(xl,se);var bi={},kl=null;function zs(){return kl=kl||new gt}bi.La="serverreachability";function Ka(h){se.call(this,bi.La,h)}N(Ka,se);function Hs(h){const _=zs();Xe(_,new Ka(_))}bi.STAT_EVENT="statevent";function Gu(h,_){se.call(this,bi.STAT_EVENT,h),this.stat=_}N(Gu,se);function ht(h){const _=zs();Xe(_,new Gu(_,h))}bi.Ma="timingevent";function Vt(h,_){se.call(this,bi.Ma,h),this.size=_}N(Vt,se);function At(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},_)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Vl(h,_,v,I,W,Z){h.info(function(){if(h.g)if(Z)for(var ae="",je=Z.split("&"),Dt=0;Dt<je.length;Dt++){var Be=je[Dt].split("=");if(1<Be.length){var qt=Be[0];Be=Be[1];var Mt=qt.split("_");ae=2<=Mt.length&&Mt[1]=="type"?ae+(qt+"="+Be+"&"):ae+(qt+"=redacted&")}}else ae=null;else ae=Z;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+_+`
`+v+`
`+ae})}function op(h,_,v,I,W,Z,ae){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+_+`
`+v+`
`+Z+" "+ae})}function qs(h,_,v,I){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Kr(h,v)+(I?" "+I:"")})}function Zu(h,_){h.info(function(){return"TIMEOUT: "+_})}Hn.prototype.info=function(){};function Kr(h,_){if(!h.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var I=v[h];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var Z=W[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return ai(v)}catch{return _}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wi;function Si(){}N(Si,Cl),Si.prototype.g=function(){return new XMLHttpRequest},Si.prototype.i=function(){return{}},wi=new Si;function yn(h,_,v,I){this.j=h,this.i=_,this.l=v,this.R=I||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var Dl={},$a={};function oi(h,_,v){h.L=1,h.v=ia(Vn(_)),h.m=v,h.P=!0,ns(h,null)}function ns(h,_){h.F=Date.now(),$r(h),h.A=Vn(h.v);var v=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),Fl(v.i,"t",I),h.C=0,v=h.j.J,h.h=new bt,h.g=ch(h.j,v?_:null,!h.m),0<h.O&&(h.M=new ap(b(h.Y,h,h.g),h.O)),_=h.U,v=h.g,I=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Jr[0]=W.toString()),W=Jr);for(var Z=0;Z<W.length;Z++){var ae=zu(v,W[Z],I||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Hs(),Vl(h.i,h.u,h.A,h.l,h.R,h.m)}yn.prototype.ca=function(h){h=h.target;const _=this.M;_&&Yn(h)==3?_.j():this.Y(h)},yn.prototype.Y=function(h){try{if(h==this.g)e:{const Mt=Yn(this.g);var _=this.g.Ba();const us=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||th(this.g)))){this.J||Mt!=4||_==7||(_==8||0>=us?Hs(3):Hs(2)),Zs(this);var v=this.g.Z();this.X=v;t:if(Yu(this)){var I=th(this.g);h="";var W=I.length,Z=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Ii(this);var ae="";break t}this.h.i=new d.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,h+=this.h.i.decode(I[_],{stream:!(Z&&_==W-1)});I.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,op(this.i,this.u,this.A,this.l,this.R,Mt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Dt=this.g;if((je=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var Be=je;break t}}Be=null}if(v=Be)qs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ea(this,v);else{this.o=!1,this.s=3,ht(12),tn(this),Ii(this);break e}}if(this.P){v=!0;let nn;for(;!this.J&&this.C<ae.length;)if(nn=Ju(this,ae),nn==$a){Mt==4&&(this.s=4,ht(14),v=!1),qs(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Dl){this.s=4,ht(15),qs(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else qs(this.i,this.l,nn,null),ea(this,nn);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ae.length!=0||this.h.h||(this.s=1,ht(16),v=!1),this.o=this.o&&v,!v)qs(this.i,this.l,ae,"[Invalid Chunked Response]"),tn(this),Ii(this);else if(0<ae.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ha(qt),qt.M=!0,ht(11))}}else qs(this.i,this.l,ae,null),ea(this,ae);Mt==4&&tn(this),this.o&&!this.J&&(Mt==4?ah(this.j,this):(this.o=!1,$r(this)))}else dp(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),tn(this),Ii(this)}}}catch{}finally{}};function Yu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ju(h,_){var v=h.C,I=_.indexOf(`
`,v);return I==-1?$a:(v=Number(_.substring(v,I)),isNaN(v)?Dl:(I+=1,I+v>_.length?$a:(_=_.slice(I,I+v),h.C=I+v,_)))}yn.prototype.cancel=function(){this.J=!0,tn(this)};function $r(h){h.S=Date.now()+h.I,Qu(h,h.I)}function Qu(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=At(b(h.ba,h),_)}function Zs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Zu(this.i,this.A),this.L!=2&&(Hs(),ht(17)),tn(this),this.s=2,Ii(this)):Qu(this,this.S-h)};function Ii(h){h.j.G==0||h.J||ah(h.j,h)}function tn(h){Zs(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Qr(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function ea(h,_){try{var v=h.j;if(v.G!=0&&(v.g==h||Ml(v.h,h))){if(!h.K&&Ml(v.h,h)&&v.G==3){try{var I=v.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)ho(v),co(v);else break e;ql(v),ht(18)}}else v.za=W[1],0<v.za-v.T&&37500>W[2]&&v.F&&v.v==0&&!v.C&&(v.C=At(b(v.Za,v),6e3));if(1>=to(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else cs(v,11)}else if((h.K||v.g==h)&&ho(v),!X(_))for(W=v.Da.g.parse(_),_=0;_<W.length;_++){let Be=W[_];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const qt=Be[3];qt!=null&&(v.la=qt,v.j.info("VER="+v.la));const Mt=Be[4];Mt!=null&&(v.Aa=Mt,v.j.info("SVER="+v.Aa));const us=Be[5];us!=null&&typeof us=="number"&&0<us&&(I=1.5*us,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const nn=h.g;if(nn){const ki=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var Z=I.h;Z.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(no(Z,Z.h),Z.h=null))}if(I.D){const Zl=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(I.ya=Zl,et(I.I,I.D,Zl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ae=h;if(I.qa=lh(I,I.J?I.ia:null,I.W),ae.K){vn(I.h,ae);var je=ae,Dt=I.L;Dt&&(je.I=Dt),je.B&&(Zs(je),$r(je)),I.g=ae}else sh(I);0<v.i.length&&uo(v)}else Be[0]!="stop"&&Be[0]!="close"||cs(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?cs(v,7):zl(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Hs(4)}catch{}}var Xu=class{constructor(h,_){this.g=h,this.map=_}};function is(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function to(h){return h.h?1:h.g?h.g.size:0}function Ml(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function no(h,_){h.g?h.g.add(_):h.h=_}function vn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}is.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const v of h.g.values())_=_.concat(v.D);return _}return z(h.i)}function lp(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var _=[],v=h.length,I=0;I<v;I++)_.push(h[I]);return _}_=[],v=0;for(I in h)_[v++]=h[I];return _}function io(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var _=[];h=h.length;for(var v=0;v<h;v++)_.push(v);return _}_=[],v=0;for(const I in h)_[v++]=I;return _}}}function Ul(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var v=io(h),I=lp(h),W=I.length,Z=0;Z<W;Z++)_.call(void 0,I[Z],v&&v[Z],h)}var ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cp(h,_){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var I=h[v].indexOf("="),W=null;if(0<=I){var Z=h[v].substring(0,I);W=h[v].substring(I+1)}else Z=h[v];_(Z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ct(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ct){this.h=h.h,na(this,h.j),this.o=h.o,this.g=h.g,Ys(this,h.s),this.l=h.l;var _=h.i,v=new rs;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),ss(this,v),this.m=h.m}else h&&(_=String(h).match(ta))?(this.h=!1,na(this,_[1]||"",!0),this.o=qn(_[2]||""),this.g=qn(_[3]||"",!0),Ys(this,_[4]),this.l=qn(_[5]||"",!0),ss(this,_[6]||"",!0),this.m=qn(_[7]||"")):(this.h=!1,this.i=new rs(null,this.h))}Ct.prototype.toString=function(){var h=[],_=this.j;_&&h.push(sa(_,Ll,!0),":");var v=this.g;return(v||_=="file")&&(h.push("//"),(_=this.o)&&h.push(sa(_,Ll,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(sa(v,v.charAt(0)=="/"?up:Wl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",sa(v,so)),h.join("")};function Vn(h){return new Ct(h)}function na(h,_,v){h.j=v?qn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ys(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function ss(h,_,v){_ instanceof rs?(h.i=_,$u(h.i,h.h)):(v||(_=sa(_,hp)),h.i=new rs(_,h.h))}function et(h,_,v){h.i.set(_,v)}function ia(h){return et(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sa(h,_,v){return typeof h=="string"?(h=encodeURI(h).replace(_,Ku),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ku(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ll=/[#\/\?@]/g,Wl=/[#\?:]/g,up=/[#\?]/g,hp=/[#\?@]/g,so=/#/g;function rs(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Gn(h){h.g||(h.g=new Map,h.h=0,h.i&&cp(h.i,function(_,v){h.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}n=rs.prototype,n.add=function(h,_){Gn(this),this.i=null,h=Ri(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(_),this.h+=1,this};function as(h,_){Gn(h),_=Ri(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function os(h,_){return Gn(h),_=Ri(h,_),h.g.has(_)}n.forEach=function(h,_){Gn(this),this.g.forEach(function(v,I){v.forEach(function(W){h.call(_,W,I,this)},this)},this)},n.na=function(){Gn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let I=0;I<_.length;I++){const W=h[I];for(let Z=0;Z<W.length;Z++)v.push(_[I])}return v},n.V=function(h){Gn(this);let _=[];if(typeof h=="string")os(this,h)&&(_=_.concat(this.g.get(Ri(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)_=_.concat(h[v])}return _},n.set=function(h,_){return Gn(this),this.i=null,h=Ri(this,h),os(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Fl(h,_,v){as(h,_),0<v.length&&(h.i=null,h.g.set(Ri(h,_),z(v)),h.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var I=_[v];const Z=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var W=Z;ae[I]!==""&&(W+="="+encodeURIComponent(String(ae[I]))),h.push(W)}}return this.i=h.join("&")};function Ri(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function $u(h,_){_&&!h.j&&(Gn(h),h.i=null,h.g.forEach(function(v,I){var W=I.toLowerCase();I!=W&&(as(this,I),Fl(this,W,v))},h)),h.j=_}function ra(h,_){const v=new Hn;if(d.Image){const I=new Image;I.onload=R(Zn,v,"TestLoadImage: loaded",!0,_,I),I.onerror=R(Zn,v,"TestLoadImage: error",!1,_,I),I.onabort=R(Zn,v,"TestLoadImage: abort",!1,_,I),I.ontimeout=R(Zn,v,"TestLoadImage: timeout",!1,_,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else _(!1)}function li(h,_){const v=new Hn,I=new AbortController,W=setTimeout(()=>{I.abort(),Zn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:I.signal}).then(Z=>{clearTimeout(W),Z.ok?Zn(v,"TestPingServer: ok",!0,_):Zn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),Zn(v,"TestPingServer: error",!1,_)})}function Zn(h,_,v,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(v)}catch{}}function aa(){this.g=new Xr}function Ai(h,_,v){const I=v||"";try{Ul(h,function(W,Z){let ae=W;m(W)&&(ae=ai(W)),_.push(I+Z+"="+encodeURIComponent(ae))})}catch(W){throw _.push(I+"type="+encodeURIComponent("_badmap")),W}}function Js(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Js,Cl),Js.prototype.g=function(){return new ls(this.l,this.j)},Js.prototype.i=function(h){return function(){return h}}({});function ls(h,_){gt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ls,gt),n=ls.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,Ni(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ci(this):Ni(this),this.readyState==3&&jl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ci(this))},n.Qa=function(h){this.g&&(this.response=h,Ci(this))},n.ga=function(){this.g&&Ci(this)};function Ci(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ni(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=_.next();return h.join(`\r
`)};function Ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bl(h){let _="";return ve(h,function(v,I){_+=I,_+=":",_+=v,_+=`\r
`}),_}function Ht(h,_,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Bl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):et(h,_,v))}function Je(h){gt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Je,gt);var ro=/^https?$/i,oa=["POST","PUT"];n=Je.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wi.g(),this.v=this.o?Nl(this.o):Nl(wi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Z){eh(this,Z);return}if(h=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)v.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())v.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),W=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(oa,_,void 0))||I||W||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ae]of v)this.g.setRequestHeader(Z,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){eh(this,Z)}};function eh(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,ao(h),Oi(h)}function ao(h){h.A||(h.A=!0,Xe(h,"complete"),Xe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Xe(this,"complete"),Xe(this,"abort"),Oi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oo(this):this.bb())},n.bb=function(){oo(this)};function oo(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Yn(h)!=4||h.Z()!=2)){if(h.u&&Yn(h)==4)cn(h.Ea,0,h);else if(Xe(h,"readystatechange"),Yn(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var I;if(I=ae===0){var W=String(h.D).match(ta)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),I=!ro.test(W?W.toLowerCase():"")}v=I}if(v)Xe(h,"complete"),Xe(h,"success");else{h.m=6;try{var Z=2<Yn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",ao(h)}}finally{Oi(h)}}}}function Oi(h,_){if(h.g){la(h);const v=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Xe(h,"ready");try{v.onreadystatechange=I}catch{}}}function la(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Yn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Xa(_)}};function th(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function dp(h){const _={};h=(h.g&&2<=Yn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(X(h[I]))continue;var v=P(h[I]);const W=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=_[W]||[];_[W]=Z,Z.push(v)}M(_,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(h,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||_}function lo(h){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,h),this.cb=ca("retryDelaySeedMs",1e4,h),this.Wa=ca("forwardChannelMaxRetries",2,h),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new is(h&&h.concurrentRequestLimit),this.Da=new aa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lo.prototype,n.la=8,n.G=1,n.connect=function(h,_,v,I){ht(0),this.W=h,this.H=_||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=lh(this,null,this.W),uo(this)};function zl(h){if(nh(h),h.G==3){var _=h.U++,v=Vn(h.I);if(et(v,"SID",h.K),et(v,"RID",_),et(v,"TYPE","terminate"),ua(h,v),_=new yn(h,h.j,_),_.L=2,_.v=ia(Vn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=_.v,v=!0),v||(_.g=ch(_.j,null),_.g.ea(_.v)),_.F=Date.now(),$r(_)}oh(h)}function co(h){h.g&&(ha(h),h.g.cancel(),h.g=null)}function nh(h){co(h),h.u&&(d.clearTimeout(h.u),h.u=null),ho(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function uo(h){if(!eo(h.h)&&!h.s){h.s=!0;var _=h.Ga;le||k(),pe||(le(),pe=!0),Ze.add(_,h),h.B=0}}function fp(h,_){return to(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=At(b(h.Ga,h,_),Gl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new yn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=A(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(W.H=Z,Z=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=ih(this,W,_),v=Vn(this.I),et(v,"RID",h),et(v,"CVER",22),this.D&&et(v,"X-HTTP-Session-Id",this.D),ua(this,v),Z&&(this.O?_="headers="+encodeURIComponent(String(Bl(Z)))+"&"+_:this.m&&Ht(v,this.m,Z)),no(this.h,W),this.Ua&&et(v,"TYPE","init"),this.P?(et(v,"$req",_),et(v,"SID","null"),W.T=!0,oi(W,v,null)):oi(W,v,_),this.G=2}}else this.G==3&&(h?Hl(this,h):this.i.length==0||eo(this.h)||Hl(this))};function Hl(h,_){var v;_?v=_.l:v=h.U++;const I=Vn(h.I);et(I,"SID",h.K),et(I,"RID",v),et(I,"AID",h.T),ua(h,I),h.m&&h.o&&Ht(I,h.m,h.o),v=new yn(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),_&&(h.i=_.D.concat(h.i)),_=ih(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),no(h.h,v),oi(v,I,_)}function ua(h,_){h.H&&ve(h.H,function(v,I){et(_,I,v)}),h.l&&Ul({},function(v,I){et(_,I,v)})}function ih(h,_,v){v=Math.min(h.i.length,v);var I=h.l?b(h.l.Na,h.l,h):null;e:{var W=h.i;let Z=-1;for(;;){const ae=["count="+v];Z==-1?0<v?(Z=W[0].g,ae.push("ofs="+Z)):Z=0:ae.push("ofs="+Z);let je=!0;for(let Dt=0;Dt<v;Dt++){let Be=W[Dt].g;const qt=W[Dt].map;if(Be-=Z,0>Be)Z=Math.max(0,W[Dt].g-100),je=!1;else try{Ai(qt,ae,"req"+Be+"_")}catch{I&&I(qt)}}if(je){I=ae.join("&");break e}}}return h=h.i.splice(0,v),_.D=h,I}function sh(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;le||k(),pe||(le(),pe=!0),Ze.add(_,h),h.v=0}}function ql(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=At(b(h.Fa,h),Gl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,rh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=At(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),co(this),rh(this))};function ha(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function rh(h){h.g=new yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Vn(h.qa);et(_,"RID","rpc"),et(_,"SID",h.K),et(_,"AID",h.T),et(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&et(_,"TO",h.ja),et(_,"TYPE","xmlhttp"),ua(h,_),h.m&&h.o&&Ht(_,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=ia(Vn(_)),v.m=null,v.P=!0,ns(v,h)}n.Za=function(){this.C!=null&&(this.C=null,co(this),ql(this),ht(19))};function ho(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function ah(h,_){var v=null;if(h.g==_){ho(h),ha(h),h.g=null;var I=2}else if(Ml(h.h,_))v=_.D,vn(h.h,_),I=1;else return;if(h.G!=0){if(_.o)if(I==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var W=h.B;I=zs(),Xe(I,new Vt(I,v)),uo(h)}else sh(h);else if(W=_.s,W==3||W==0&&0<_.X||!(I==1&&fp(h,_)||I==2&&ql(h)))switch(v&&0<v.length&&(_=h.h,_.i=_.i.concat(v)),W){case 1:cs(h,5);break;case 4:cs(h,10);break;case 3:cs(h,6);break;default:cs(h,2)}}}function Gl(h,_){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*_}function cs(h,_){if(h.j.info("Error code "+_),_==2){var v=b(h.fb,h),I=h.Xa;const W=!I;I=new Ct(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||na(I,"https"),ia(I),W?ra(I.toString(),v):li(I.toString(),v)}else ht(2);h.G=0,h.l&&h.l.sa(_),oh(h),nh(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function oh(h){if(h.G=0,h.ka=[],h.l){const _=Pl(h.h);(_.length!=0||h.i.length!=0)&&(H(h.ka,_),H(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function lh(h,_,v){var I=v instanceof Ct?Vn(v):new Ct(v);if(I.g!="")_&&(I.g=_+"."+I.g),Ys(I,I.s);else{var W=d.location;I=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var Z=new Ct(null);I&&na(Z,I),_&&(Z.g=_),W&&Ys(Z,W),v&&(Z.l=v),I=Z}return v=h.D,_=h.ya,v&&_&&et(I,v,_),et(I,"VER",h.la),ua(h,I),I}function ch(h,_,v){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Je(new Js({eb:v})):new Je(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}n=uh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fo(){}fo.prototype.g=function(h,_){return new Tn(h,_)};function Tn(h,_){gt.call(this),this.g=new lo(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!X(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!X(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new xi(this)}N(Tn,gt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){zl(this.g)},Tn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=ai(h),h=v);_.i.push(new Xu(_.Ya++,h)),_.G==3&&uo(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,Tn.aa.N.call(this)};function hh(h){es.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const v in _){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}N(hh,es);function dh(){xl.call(this),this.status=1}N(dh,xl);function xi(h){this.g=h}N(xi,uh),xi.prototype.ua=function(){Xe(this.g,"a")},xi.prototype.ta=function(h){Xe(this.g,new hh(h))},xi.prototype.sa=function(h){Xe(this.g,new dh)},xi.prototype.ra=function(){Xe(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,PS=function(){return new fo},MS=function(){return zs()},DS=bi,i_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,Od=Gs,ts.COMPLETE="complete",VS=ts,Ol.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",gt.prototype.listen=gt.prototype.K,zc=Ol,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,kS=Je}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const Tb="@firebase/firestore",Eb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Ru("@firebase/firestore");function zo(){return Pa.logLevel}function he(n,...e){if(Pa.logLevel<=Ue.DEBUG){const t=e.map(iy);Pa.debug(`Firestore (${yl}): ${n}`,...t)}}function Ds(n,...e){if(Pa.logLevel<=Ue.ERROR){const t=e.map(iy);Pa.error(`Firestore (${yl}): ${n}`,...t)}}function nl(n,...e){if(Pa.logLevel<=Ue.WARN){const t=e.map(iy);Pa.warn(`Firestore (${yl}): ${n}`,...t)}}function iy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,US(n,i,t)}function US(n,e,t){let i=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ds(i),new Error(i)}function Qe(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||US(e,a,i)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class BD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zD{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ar,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ar)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string",31837,{l:i}),new LS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class HD{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qD{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new HD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const i=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=ZD(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function xe(n,e){return n<e?-1:n>e?1:0}function s_(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return xe(i,a);{const l=WS(),u=YD(l.encode(wb(n,t)),l.encode(wb(e,t)));return u!==0?u:xe(i,a)}}t+=i>65535?2:1}return xe(n.length,e.length)}function wb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function YD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function il(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=-62135596800,Ib=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Ib);return new jt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sb)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ib}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Sb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new jt(0,0))}static max(){return new Ae(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="__name__";class Li{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ie(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Li.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return xe(e.length,t.length)}static compareSegments(e,t){const i=Li.isNumericId(e),a=Li.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Li.extractNumericId(e).compare(Li.extractNumericId(t)):s_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class vt extends Li{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Li{construct(e,t,i){return new on(e,t,i)}static isValidIdentifier(e){return JD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rb}static keyField(){return new on([Rb])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(l(),a++)}if(l(),u)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(vt.fromString(e))}static fromName(e){return new ye(vt.fromString(e).popFirst(5))}static empty(){return new ye(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function QD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(i===1e9?new jt(t+1,0):new jt(t,i));return new kr(a,ye.empty(),e)}function XD(n){return new kr(n.readTime,n.key,ou)}class kr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new kr(Ae.min(),ye.empty(),ou)}static max(){return new kr(Ae.max(),ye.empty(),ou)}}function KD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==$D)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,i)=>{t(e)})}static reject(e){return new ee((t,i)=>{i(e)})}static waitFor(e){return new ee((t,i)=>{let a=0,l=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++l,u&&l===a&&t()},p=>i(p))}),u=!0,l===a&&t()})}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next(a=>a?ee.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ee((i,a)=>{const l=e.length,u=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(y=>{u[m]=y,++d,d===l&&i(u)},y=>a(y))}})}static doWhile(e,t){return new ee((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function tM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Mf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=-1;function Pf(n){return n==null}function Yd(n){return n===0&&1/n==-1/0}function nM(n){return typeof n=="number"&&Number.isInteger(n)&&!Yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="";function iM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ab(e)),e=sM(n.get(t),e);return Ab(e)}function sM(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case jS:t+="";break;default:t+=l}}return t}function Ab(n){return n+jS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kt=class r_{constructor(e,t){this.comparator=e,this.root=t||Cr.EMPTY}insert(e,t){return new r_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new r_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}},_d=class{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cr=class Ss{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Ss.RED,this.left=a??Ss.EMPTY,this.right=l??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Ss(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ss.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}};Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(e){return new Nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class Nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new pi([])}unionWith(e){let t=new Bt(on.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new pi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new zS("Invalid base64 string: "+l):l}}(e);return new ln(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const rM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=rM.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Dr(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="server_timestamp",qS="__type__",GS="__previous_value__",ZS="__local_write_time__";function ry(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qS])===null||t===void 0?void 0:t.stringValue)===HS}function Uf(n){const e=n.mapValue.fields[GS];return ry(e)?Uf(e):e}function lu(n){const e=Vr(n.mapValue.fields[ZS].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t,i,a,l,u,d,p,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Jd="(default)";class cu{constructor(e,t){this.projectId=e,this.database=t||Jd}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__type__",oM="__max__",yd={mapValue:{}},JS="__vector__",Qd="value";function Mr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ry(n)?4:cM(n)?9007199254740991:lM(n)?10:11:Ie(28295,{value:n})}function qi(n,e){if(n===e)return!0;const t=Mr(n);if(t!==Mr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lu(n).isEqual(lu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Vr(a.timestampValue),d=Vr(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Dr(a.bytesValue).isEqual(Dr(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Rt(a.doubleValue),d=Rt(l.doubleValue);return u===d?Yd(u)===Yd(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return il(n.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Cb(u)!==Cb(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!qi(u[p],d[p])))return!1;return!0}(n,e);default:return Ie(52216,{left:n})}}function uu(n,e){return(n.values||[]).find(t=>qi(t,e))!==void 0}function sl(n,e){if(n===e)return 0;const t=Mr(n),i=Mr(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(l,u){const d=Rt(l.integerValue||l.doubleValue),p=Rt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Ob(n.timestampValue,e.timestampValue);case 4:return Ob(lu(n),lu(e));case 5:return s_(n.stringValue,e.stringValue);case 6:return function(l,u){const d=Dr(l),p=Dr(u);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),p=u.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=xe(d[m],p[m]);if(y!==0)return y}return xe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const d=xe(Rt(l.latitude),Rt(u.latitude));return d!==0?d:xe(Rt(l.longitude),Rt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xb(n.arrayValue,e.arrayValue);case 10:return function(l,u){var d,p,m,y;const E=l.fields||{},b=u.fields||{},R=(d=E[Qd])===null||d===void 0?void 0:d.arrayValue,N=(p=b[Qd])===null||p===void 0?void 0:p.arrayValue,z=xe(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0);return z!==0?z:xb(R,N)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===yd.mapValue&&u===yd.mapValue)return 0;if(l===yd.mapValue)return 1;if(u===yd.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let E=0;E<p.length&&E<y.length;++E){const b=s_(p[E],y[E]);if(b!==0)return b;const R=sl(d[p[E]],m[y[E]]);if(R!==0)return R}return xe(p.length,y.length)}(n.mapValue,e.mapValue);default:throw Ie(23264,{Pe:t})}}function Ob(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=Vr(n),i=Vr(e),a=xe(t.seconds,i.seconds);return a!==0?a:xe(t.nanos,i.nanos)}function xb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=sl(t[a],i[a]);if(l)return l}return xe(t.length,i.length)}function rl(n){return a_(n)}function a_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Vr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Dr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=a_(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${a_(t.fields[u])}`;return a+"}"}(n.mapValue):Ie(61005,{value:n})}function xd(n){switch(Mr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uf(n);return e?16+xd(e):16;case 5:return 2*n.stringValue.length;case 6:return Dr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+xd(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ha(i.fields,(l,u)=>{a+=l.length+xd(u)}),a}(n.mapValue);default:throw Ie(13486,{value:n})}}function o_(n){return!!n&&"integerValue"in n}function ay(n){return!!n&&"arrayValue"in n}function kb(n){return!!n&&"nullValue"in n}function Vb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kd(n){return!!n&&"mapValue"in n}function lM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[YS])===null||t===void 0?void 0:t.stringValue)===JS}function Yc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Yc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!kd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(t)}setAll(e){let t=on.emptyPath(),i={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}u?i[d.lastSegment()]=Yc(u):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());kd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];kd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ha(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new ni(Yc(this.value))}}function QS(n){const e=[];return Ha(n.fields,(t,i)=>{const a=new on([t]);if(kd(i)){const l=QS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,i,a,l,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,Ae.min(),Ae.min(),Ae.min(),ni.empty(),0)}static newFoundDocument(e,t,i,a){return new pn(e,1,t,Ae.min(),i,a,0)}static newNoDocument(e,t){return new pn(e,2,t,Ae.min(),Ae.min(),ni.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Ae.min(),Ae.min(),ni.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t){this.position=e,this.inclusive=t}}function Db(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(u.referenceValue),t.key):i=sl(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Mb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t="asc"){this.field=e,this.dir=t}}function uM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{}class Wt extends XS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new dM(e,t,i):t==="array-contains"?new mM(e,i):t==="in"?new gM(e,i):t==="not-in"?new _M(e,i):t==="array-contains-any"?new yM(e,i):new Wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new fM(e,i):new pM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sl(t,this.value)):t!==null&&Mr(this.value)===Mr(t)&&this.matchesComparison(sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends XS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Gi(e,t)}matches(e){return KS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function KS(n){return n.op==="and"}function $S(n){return hM(n)&&KS(n)}function hM(n){for(const e of n.filters)if(e instanceof Gi)return!1;return!0}function l_(n){if(n instanceof Wt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if($S(n))return n.filters.map(e=>l_(e)).join(",");{const e=n.filters.map(t=>l_(t)).join(",");return`${n.op}(${e})`}}function eI(n,e){return n instanceof Wt?function(i,a){return a instanceof Wt&&i.op===a.op&&i.field.isEqual(a.field)&&qi(i.value,a.value)}(n,e):n instanceof Gi?function(i,a){return a instanceof Gi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,d)=>l&&eI(u,a.filters[d]),!0):!1}(n,e):void Ie(19439)}function tI(n){return n instanceof Wt?function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`}(n):n instanceof Gi?function(t){return t.op.toString()+" {"+t.getFilters().map(tI).join(" ,")+"}"}(n):"Filter"}class dM extends Wt{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class fM extends Wt{constructor(e,t){super(e,"in",t),this.keys=nI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pM extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=nI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class mM extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ay(t)&&uu(t.arrayValue,this.value)}}class gM extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uu(this.value.arrayValue,t)}}class _M extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uu(this.value.arrayValue,t)}}class yM extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>uu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t=null,i=[],a=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=d,this.Ie=null}}function Pb(n,e=null,t=[],i=[],a=null,l=null,u=null){return new vM(n,e,t,i,a,l,u)}function oy(n){const e=Ce(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>l_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rl(i)).join(",")),e.Ie=t}return e.Ie}function ly(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mb(n.startAt,e.startAt)&&Mb(n.endAt,e.endAt)}function c_(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t=null,i=[],a=[],l=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function TM(n,e,t,i,a,l,u,d){return new Lf(n,e,t,i,a,l,u,d)}function cy(n){return new Lf(n)}function Ub(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function EM(n){return n.collectionGroup!==null}function Jc(n){const e=Ce(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Bt(on.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Kd(l,i))}),t.has(on.keyField().canonicalString())||e.Ee.push(new Kd(on.keyField(),i))}return e.Ee}function Bi(n){const e=Ce(n);return e.de||(e.de=bM(e,Jc(n))),e.de}function bM(n,e){if(n.limitType==="F")return Pb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Kd(a.field,l)});const t=n.endAt?new Xd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xd(n.startAt.position,n.startAt.inclusive):null;return Pb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function u_(n,e,t){return new Lf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wf(n,e){return ly(Bi(n),Bi(e))&&n.limitType===e.limitType}function iI(n){return`${oy(Bi(n))}|lt:${n.limitType}`}function Ho(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>tI(a)).join(", ")}]`),Pf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>rl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>rl(a)).join(",")),`Target(${i})`}(Bi(n))}; limitType=${n.limitType})`}function Ff(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Jc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,d,p){const m=Db(u,d,p);return u.inclusive?m<=0:m<0}(i.startAt,Jc(i),a)||i.endAt&&!function(u,d,p){const m=Db(u,d,p);return u.inclusive?m>=0:m>0}(i.endAt,Jc(i),a))}(n,e)}function wM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sI(n){return(e,t)=>{let i=!1;for(const a of Jc(n)){const l=SM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function SM(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,d){const p=u.data.field(l),m=d.data.field(l);return p!==null&&m!==null?sl(p,m):Ie(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return BS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new kt(ye.comparator);function Ms(){return IM}const rI=new kt(ye.comparator);function Hc(...n){let e=rI;for(const t of n)e=e.insert(t.key,t);return e}function aI(n){let e=rI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Na(){return Qc()}function oI(){return Qc()}function Qc(){return new qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const RM=new kt(ye.comparator),AM=new Bt(ye.comparator);function Fe(...n){let e=AM;for(const t of n)e=e.add(t);return e}const CM=new Bt(xe);function NM(){return CM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function lI(n){return{integerValue:""+n}}function OM(n,e){return nM(e)?lI(e):uy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this._=void 0}}function xM(n,e,t){return n instanceof $d?function(a,l){const u={fields:{[qS]:{stringValue:HS},[ZS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ry(l)&&(l=Uf(l)),l&&(u.fields[GS]=l),{mapValue:u}}(t,e):n instanceof hu?uI(n,e):n instanceof du?hI(n,e):function(a,l){const u=cI(a,l),d=Lb(u)+Lb(a.Re);return o_(u)&&o_(a.Re)?lI(d):uy(a.serializer,d)}(n,e)}function kM(n,e,t){return n instanceof hu?uI(n,e):n instanceof du?hI(n,e):t}function cI(n,e){return n instanceof ef?function(i){return o_(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class $d extends jf{}class hu extends jf{constructor(e){super(),this.elements=e}}function uI(n,e){const t=dI(e);for(const i of n.elements)t.some(a=>qi(a,i))||t.push(i);return{arrayValue:{values:t}}}class du extends jf{constructor(e){super(),this.elements=e}}function hI(n,e){let t=dI(e);for(const i of n.elements)t=t.filter(a=>!qi(a,i));return{arrayValue:{values:t}}}class ef extends jf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Lb(n){return Rt(n.integerValue||n.doubleValue)}function dI(n){return ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VM(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof hu&&a instanceof hu||i instanceof du&&a instanceof du?il(i.elements,a.elements,qi):i instanceof ef&&a instanceof ef?qi(i.Re,a.Re):i instanceof $d&&a instanceof $d}(n.transform,e.transform)}class DM{constructor(e,t){this.version=e,this.transformResults=t}}class Ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ns}static exists(e){return new Ns(void 0,e)}static updateTime(e){return new Ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bf{}function fI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new mI(n.key,Ns.none()):new ku(n.key,n.data,Ns.none());{const t=n.data,i=ni.empty();let a=new Bt(on.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Ga(n.key,i,new pi(a.toArray()),Ns.none())}}function MM(n,e,t){n instanceof ku?function(a,l,u){const d=a.value.clone(),p=Fb(a.fieldTransforms,l,u.transformResults);d.setAll(p),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ga?function(a,l,u){if(!Vd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const d=Fb(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(pI(a)),p.setAll(d),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Xc(n,e,t,i){return n instanceof ku?function(l,u,d,p){if(!Vd(l.precondition,u))return d;const m=l.value.clone(),y=jb(l.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ga?function(l,u,d,p){if(!Vd(l.precondition,u))return d;const m=jb(l.fieldTransforms,p,u),y=u.data;return y.setAll(pI(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,u,d){return Vd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function PM(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=cI(i.transform,a||null);l!=null&&(t===null&&(t=ni.empty()),t.set(i.field,l))}return t||null}function Wb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&il(i,a,(l,u)=>VM(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ku extends Bf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ga extends Bf{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function pI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Fb(n,e,t){const i=new Map;Qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,d=e.data.field(l.field);i.set(l.field,kM(u,d,t[a]))}return i}function jb(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,xM(l,u,e))}return i}class mI extends Bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UM extends Bf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&MM(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Xc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Xc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=oI();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(a.key)?null:d;const p=fI(u,d);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(t,i)=>Wb(t,i))&&il(this.baseMutations,e.baseMutations,(t,i)=>Wb(t,i))}}class hy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Qe(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return RM}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new hy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,He;function jM(n){switch(n){case ie.OK:return Ie(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function gI(n){if(n===void 0)return Ds("GRPC error has no .code"),ie.UNKNOWN;switch(n){case xt.OK:return ie.OK;case xt.CANCELLED:return ie.CANCELLED;case xt.UNKNOWN:return ie.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ie.INTERNAL;case xt.UNAVAILABLE:return ie.UNAVAILABLE;case xt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case xt.NOT_FOUND:return ie.NOT_FOUND;case xt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case xt.ABORTED:return ie.ABORTED;case xt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case xt.DATA_LOSS:return ie.DATA_LOSS;default:return Ie(39323,{code:n})}}(He=xt||(xt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new Rr([4294967295,4294967295],0);function Bb(n){const e=WS().encode(n),t=new xS;return t.update(e),new Uint8Array(t.digest())}function zb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rr([t,i],0),new Rr([a,l],0)]}class dy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new qc(`Invalid padding: ${t}`);if(i<0)throw new qc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new qc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new qc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Rr.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Rr.fromNumber(i)));return a.compare(BM)===1&&(a=new Rr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Bb(e),[i,a]=zb(t);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);if(!this.be(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new dy(l,a,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=Bb(e),[i,a]=zb(t);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new zf(Ae.min(),a,new kt(xe),Ms(),Fe())}}class Vu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vu(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class _I{constructor(e,t){this.targetId=e,this.Ce=t}}class yI{constructor(e,t,i=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Hb{constructor(){this.Fe=0,this.Me=qb(),this.xe=ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),t=Fe(),i=Fe();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ie(38017,{changeType:l})}}),new Vu(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=qb()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class zM{constructor(e){this.ze=e,this.je=new Map,this.He=Ms(),this.Je=vd(),this.Ye=vd(),this.Ze=new kt(xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(c_(l))if(i===0){const u=new ye(l.path);this.tt(t,u,pn.newNoDocument(u,Ae.min()))}else Qe(i===1,20013,{expectedCount:i});else{const u=this.ut(t);if(u!==i){const d=this.ct(e),p=d?this.lt(d,e,u):1;if(p!==0){this.st(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,d;try{u=Dr(i).toUint8Array()}catch(p){if(p instanceof zS)return nl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new dy(u,a,l)}catch(p){return nl(p instanceof qc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,u)=>{const d=this._t(u);if(d){if(l.current&&c_(d.target)){const p=new ye(d.target.path);this.Et(p).has(u)||this.dt(u,p)||this.tt(u,p,pn.newNoDocument(p,e))}l.Le&&(t.set(u,l.qe()),l.Qe())}});let i=Fe();this.Ye.forEach((l,u)=>{let d=!0;u.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new zf(e,t,this.Ze,this.He,i);return this.He=Ms(),this.Je=vd(),this.Ye=vd(),this.Ze=new kt(xe),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Hb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Bt(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Bt(xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Hb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function vd(){return new kt(ye.comparator)}function qb(){return new kt(ye.comparator)}const HM={asc:"ASCENDING",desc:"DESCENDING"},qM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GM={and:"AND",or:"OR"};class ZM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h_(n,e){return n.useProto3Json||Pf(e)?e:{value:e}}function tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YM(n,e){return tf(n,e.toTimestamp())}function zi(n){return Qe(!!n,49232),Ae.fromTimestamp(function(t){const i=Vr(t);return new jt(i.seconds,i.nanos)}(n))}function fy(n,e){return d_(n,e).canonicalString()}function d_(n,e){const t=function(a){return new vt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TI(n){const e=vt.fromString(n);return Qe(II(e),10190,{key:e.toString()}),e}function f_(n,e){return fy(n.databaseId,e.path)}function wg(n,e){const t=TI(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(bI(t))}function EI(n,e){return fy(n.databaseId,e)}function JM(n){const e=TI(n);return e.length===4?vt.emptyPath():bI(e)}function p_(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bI(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Gb(n,e,t){return{name:f_(n,e),fields:t.value.mapValue.fields}}function QM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ie(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),ln.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ln.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const y=m.code===void 0?ie.UNKNOWN:gI(m.code);return new _e(y,m.message||"")}(u);t=new yI(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=wg(n,i.document.name),l=zi(i.document.updateTime),u=i.document.createTime?zi(i.document.createTime):Ae.min(),d=new ni({mapValue:{fields:i.document.fields}}),p=pn.newFoundDocument(a,l,u,d),m=i.targetIds||[],y=i.removedTargetIds||[];t=new Dd(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=wg(n,i.document),l=i.readTime?zi(i.readTime):Ae.min(),u=pn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Dd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=wg(n,i.document),l=i.removedTargetIds||[];t=new Dd([],l,a,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new FM(a,l),d=i.targetId;t=new _I(d,u)}}return t}function XM(n,e){let t;if(e instanceof ku)t={update:Gb(n,e.key,e.value)};else if(e instanceof mI)t={delete:f_(n,e.key)};else if(e instanceof Ga)t={update:Gb(n,e.key,e.data),updateMask:aP(e.fieldMask)};else{if(!(e instanceof UM))return Ie(16599,{ft:e.type});t={verify:f_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const d=u.transform;if(d instanceof $d)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof du)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ef)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Ie(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:YM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)}(n,e.precondition)),t}function KM(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map(t=>function(a,l){let u=a.updateTime?zi(a.updateTime):zi(l);return u.isEqual(Ae.min())&&(u=zi(l)),new DM(u,a.transformResults||[])}(t,e))):[]}function $M(n,e){return{documents:[EI(n,e.path)]}}function eP(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=EI(n,a);const l=function(m){if(m.length!==0)return SI(Gi.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:qo(b.field),direction:iP(b.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=h_(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:a}}function tP(n){let e=JM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Qe(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(E){const b=wI(E);return b instanceof Gi&&$S(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(b=>function(N){return new Kd(Go(N.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(E){let b;return b=typeof E=="object"?E.value:E,Pf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(E){const b=!!E.before,R=E.values||[];return new Xd(R,b)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const b=!E.before,R=E.values||[];return new Xd(R,b)}(t.endAt)),TM(e,a,u,l,d,"F",p,m)}function nP(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Go(t.unaryFilter.field);return Wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Go(t.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Go(t.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Go(t.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(n):n.fieldFilter!==void 0?function(t){return Wt.create(Go(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gi.create(t.compositeFilter.filters.map(i=>wI(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(n):Ie(30097,{filter:n})}function iP(n){return HM[n]}function sP(n){return qM[n]}function rP(n){return GM[n]}function qo(n){return{fieldPath:n.canonicalString()}}function Go(n){return on.fromServerFormat(n.fieldPath)}function SI(n){return n instanceof Wt?function(t){if(t.op==="=="){if(Vb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NAN"}};if(kb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NAN"}};if(kb(t.value))return{unaryFilter:{field:qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(t.field),op:sP(t.op),value:t.value}}}(n):n instanceof Gi?function(t){const i=t.getFilters().map(a=>SI(a));return i.length===1?i[0]:{compositeFilter:{op:rP(t.op),filters:i}}}(n):Ie(54877,{filter:n})}function aP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function II(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,i,a,l=Ae.min(),u=Ae.min(),d=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.wt=e}}function lP(n){const e=tP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.Cn=new uP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(kr.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class uP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Bt(vt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Bt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RI=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(RI,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new al(0)}static lr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="LruGarbageCollector",hP=1048576;function Jb([n,e],[t,i]){const a=xe(n,t);return a===0?xe(e,i):a}class dP{constructor(e){this.Er=e,this.buffer=new Bt(Jb),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Jb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(Yb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Tl(t)?he(Yb,"Ignoring IndexedDB error during garbage collection: ",t):await vl(t)}await this.mr(3e5)})}}class pP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Mf.le);const i=new dP(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Zb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,u,d,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),zo()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function mP(n,e){return new pP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.changes=new qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Xc(i.mutation,a,pi.empty(),jt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Fe()){const a=Na();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let u=Hc();return l.forEach((d,p)=>{u=u.insert(d,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Fe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,a){let l=Ms();const u=Qc(),d=function(){return Qc()}();return t.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Ga)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Xc(y.mutation,m,y.mutation.getFieldMask(),jt.now())):u.set(m.key,pi.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var E;return d.set(m,new _P(y,(E=u.get(m))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Qc();let a=new kt((u,d)=>u-d),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=i.get(p)||pi.empty();y=d.applyToLocalView(m,y),i.set(p,y);const E=(a.get(d.batchId)||Fe()).add(p);a=a.insert(d.batchId,E)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,E=oI();y.forEach(b=>{if(!l.has(b)){const R=fI(t.get(b),i.get(b));R!==null&&E.set(b,R),l=l.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return ee.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):EM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ee.resolve(Na());let d=ou,p=l;return u.next(m=>ee.forEach(m,(y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{p=p.insert(y,b)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Fe())).next(y=>({batchId:d,changes:aI(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let a=Hc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=Hc();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const m=function(E,b){return new Lf(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((E,b)=>{u=u.insert(E,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(u=>{l.forEach((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,pn.newInvalidDocument(y)))});let d=Hc();return u.forEach((p,m)=>{const y=l.get(p);y!==void 0&&Xc(y.mutation,m,pi.empty(),jt.now()),Ff(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ee.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:zi(a.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:lP(a.bundledQuery),readTime:zi(a.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.overlays=new kt(ye.comparator),this.Qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Na();return ee.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const a=Na(),l=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ee.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new kt((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Na(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Na(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=a)););return ee.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new WM(t,i));let l=this.Qr.get(t);l===void 0&&(l=Fe(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.$r=new Bt(Xt.Ur),this.Kr=new Bt(Xt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Xt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ye(new vt([])),i=new Xt(t,e),a=new Xt(t,e+1),l=[];return this.Kr.forEachInRange([i,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ye(new vt([])),i=new Xt(t,e),a=new Xt(t,e+1);let l=Fe();return this.Kr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Xt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ye.comparator(e.key,t.key)||xe(e.Zr,t.Zr)}static Wr(e,t){return xe(e.Zr,t.Zr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Bt(Xt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new LM(l,t,i,a);this.mutationQueue.push(u);for(const d of a)this.Xr=this.Xr.add(new Xt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?sy:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],u=>{const d=this.ei(u.Zr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(xe);return t.forEach(a=>{const l=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],d=>{i=i.add(d.Zr)})}),ee.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new ye(l),0);let d=new Bt(xe);return this.Xr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Zr)),!0)},u),ee.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Qe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ee.forEach(t.mutations,a=>{const l=new Xt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Xt(t,0),a=this.Xr.firstAfterOrEqual(i);return ee.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.ii=e,this.docs=function(){return new kt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let i=Ms();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))}),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Ms();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||KD(XD(y),i)<=0||(a.has(y.key)||Ff(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ie(9500)}si(e,t){return ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new SP(this)}getSize(e){return ee.resolve(this.size)}}class SP extends gP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),ee.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.persistence=e,this.oi=new qa(t=>oy(t),ly),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new py,this.targetCount=0,this.ui=al.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),ee.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new al(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Tr(t),ee.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ee.waitFor(l).next(()=>a)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t){this.ci={},this.overlays={},this.li=new Mf(0),this.hi=!1,this.hi=!0,this.Pi=new EP,this.referenceDelegate=e(this),this.Ti=new IP(this),this.indexManager=new cP,this.remoteDocumentCache=function(a){return new wP(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new oP(t),this.Ei=new vP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new bP(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const a=new RP(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return ee.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class RP extends eM{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Vi=new py,this.mi=null}static fi(e){return new my(e)}get gi(){if(this.mi)return this.mi;throw Ie(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,i=>{const a=ye.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Ae.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ee.or([()=>ee.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class nf{constructor(e,t){this.persistence=e,this.yi=new qa(i=>iM(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=mP(this,t)}static fi(e,t){return new nf(e,t)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return ee.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?ee.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,t).next(d=>{d||(i++,l.removeEntry(u,Ae.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xd(e.data.value)),t}Dr(e,t,i){return ee.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return ee.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new gy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return JO()?8:tM(_n())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new AP;return this.Ss(e,t,u).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,u,d.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(zo()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(zo()<=Ue.DEBUG&&he("QueryEngine","Query:",Ho(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(zo()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(t))):ee.resolve())}ws(e,t){if(Ub(t))return ee.resolve(null);let i=Bi(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=u_(t,null,"F"),i=Bi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=Fe(...l);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.vs(t,d);return this.Cs(t,m,u,p.readTime)?this.ws(e,u_(t,null,"F")):this.Fs(e,m,t,p)}))})))}bs(e,t,i,a){return Ub(t)||a.isEqual(Ae.min())?ee.resolve(null):this.ys.getDocuments(e,i).next(l=>{const u=this.vs(t,l);return this.Cs(t,u,i,a)?ee.resolve(null):(zo()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ho(t)),this.Fs(e,u,t,QD(a,ou)).next(d=>d))})}vs(e,t){let i=new Bt(sI(e));return t.forEach((a,l)=>{Ff(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return zo()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ho(t)),this.ys.getDocumentsMatchingQuery(e,t,kr.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",NP=3e8;class OP{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new kt(xe),this.Os=new qa(l=>oy(l),ly),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function xP(n,e,t,i){return new OP(n,e,t,i)}async function CI(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],d=[];let p=Fe();for(const m of a){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(i,p).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:d}))})})}function kP(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,m,y){const E=m.batch,b=E.keys();let R=ee.resolve();return b.forEach(N=>{R=R.next(()=>y.getEntry(p,N)).next(z=>{const H=m.docVersions.get(N);Qe(H!==null,48541),z.version.compareTo(H)<0&&(E.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),y.addEntry(z)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Fe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function NI(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function VP(n,e){const t=Ce(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((y,E)=>{const b=a.get(E);if(!b)return;d.push(t.Ti.removeMatchingKeys(l,y.removedDocuments,E).next(()=>t.Ti.addMatchingKeys(l,y.addedDocuments,E)));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(ln.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,i)),a=a.insert(E,R),function(z,H,Q){return z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=NP?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(b,R,y)&&d.push(t.Ti.updateTargetData(l,R))});let p=Ms(),m=Fe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(DP(l,u,e.documentUpdates).next(y=>{p=y.qs,m=y.Qs})),!i.isEqual(Ae.min())){const y=t.Ti.getLastRemoteSnapshotVersion(l).next(E=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(y)}return ee.waitFor(d).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.xs=a,l))}function DP(n,e,t){let i=Fe(),a=Fe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=Ms();return t.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):he(_y,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{qs:u,Qs:a}})}function MP(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=sy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function PP(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,ee.resolve(a)):t.Ti.allocateTargetId(i).next(u=>(a=new wr(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function m_(n,e,t){const i=Ce(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Tl(u))throw u;he(_y,`Failed to update sequence numbers for target ${e}: ${u}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function Qb(n,e,t){const i=Ce(n);let a=Ae.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,m,y){const E=Ce(p),b=E.Os.get(y);return b!==void 0?ee.resolve(E.xs.get(b)):E.Ti.getTargetData(m,y)}(i,u,Bi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(u,d.targetId).next(p=>{l=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(u,e,t?a:Ae.min(),t?l:Fe())).next(d=>(UP(i,wM(e),d),{documents:d,$s:l})))}function UP(n,e,t){let i=n.Ns.get(e)||Ae.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class Xb{constructor(){this.activeTargetIds=NM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LP{constructor(){this.xo=new Xb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Xb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="ConnectivityMonitor";class $b{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function g_(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="RestConnection",FP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===Jd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const u=g_(),d=this.jo(e,t.toUriEncodedString());he(Sg,`Sending RPC '${e}' ${u}:`,d,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,l);const{host:m}=new URL(d),y=Us(m);return this.Jo(e,d,p,i,y).then(E=>(he(Sg,`Received RPC '${e}' ${u}: `,E),E),E=>{throw nl(Sg,`RPC '${e}' ${u} failed with error: `,E,"url: ",d,"request:",i),E})}Yo(e,t,i,a,l,u){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=FP[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class zP extends jP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=g_();return new Promise((d,p)=>{const m=new kS;m.setWithCredentials(!0),m.listenOnce(VS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Od.NO_ERROR:const E=m.getResponseJson();he(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case Od.TIMEOUT:he(dn,`RPC '${e}' ${u} timed out`),p(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const b=m.getStatus();if(he(dn,`RPC '${e}' ${u} failed with status:`,b,"response text:",m.getResponseText()),b>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R==null?void 0:R.error;if(N&&N.status&&N.message){const z=function(Q){const X=Q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(X)>=0?X:ie.UNKNOWN}(N.status);p(new _e(z,N.message))}else p(new _e(ie.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{h_:e,streamId:u,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{he(dn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);he(dn,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",y,i,15)})}I_(e,t,i){const a=g_(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=PS(),d=MS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=l.join("");he(dn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const E=u.createWebChannel(y,p);this.E_(E);let b=!1,R=!1;const N=new BP({Zo:H=>{R?he(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(b||(he(dn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),b=!0),he(dn,`RPC '${e}' stream ${a} sending:`,H),E.send(H))},Xo:()=>E.close()}),z=(H,Q,X)=>{H.listen(Q,ne=>{try{X(ne)}catch(re){setTimeout(()=>{throw re},0)}})};return z(E,zc.EventType.OPEN,()=>{R||(he(dn,`RPC '${e}' stream ${a} transport opened.`),N.__())}),z(E,zc.EventType.CLOSE,()=>{R||(R=!0,he(dn,`RPC '${e}' stream ${a} transport closed`),N.u_(),this.d_(E))}),z(E,zc.EventType.ERROR,H=>{R||(R=!0,nl(dn,`RPC '${e}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),N.u_(new _e(ie.UNAVAILABLE,"The operation could not be completed")))}),z(E,zc.EventType.MESSAGE,H=>{var Q;if(!R){const X=H.data[0];Qe(!!X,16349);const ne=X,re=(ne==null?void 0:ne.error)||((Q=ne[0])===null||Q===void 0?void 0:Q.error);if(re){he(dn,`RPC '${e}' stream ${a} received error:`,re);const ue=re.status;let ve=function(C){const V=xt[C];if(V!==void 0)return gI(V)}(ue),M=re.message;ve===void 0&&(ve=ie.INTERNAL,M="Unknown error status: "+ue+" with message "+re.message),R=!0,N.u_(new _e(ve,M)),E.close()}else he(dn,`RPC '${e}' stream ${a} received:`,X),N.c_(X)}}),z(d,DS.STAT_EVENT,H=>{H.stat===i_.PROXY?he(dn,`RPC '${e}' stream ${a} detected buffering proxy`):H.stat===i_.NOPROXY&&he(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.a_()},0),N}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n){return new ZM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="PersistentStream";class xI{constructor(e,t,i,a,l,u,d,p){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new OI(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ds(t.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new _e(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return he(ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(he(ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HP extends xI{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=QM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?zi(u.readTime):Ae.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=p_(this.serializer),t.addTarget=function(l,u){let d;const p=u.target;if(d=c_(p)?{documents:$M(l,p)}:{query:eP(l,p).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=vI(l,u.resumeToken);const m=h_(l,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){d.readTime=tf(l,u.snapshotVersion.toTimestamp());const m=h_(l,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=nP(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=p_(this.serializer),t.removeTarget=e,this.Q_(t)}}class qP extends xI{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=KM(e.writeResults,e.commitTime),i=zi(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=p_(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>XM(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{}class ZP extends GP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,d_(t,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ie.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,d_(t,i),a,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ie.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class YP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ds(t),this.ua=!1):he("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class JP{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{i.enqueueAndForget(async()=>{Za(this)&&(he(Ua,"Restarting streams for network reachability change."),await async function(p){const m=Ce(p);m.da.add(4),await Du(m),m.Va.set("Unknown"),m.da.delete(4),await qf(m)}(this))})}),this.Va=new YP(i,a)}}async function qf(n){if(Za(n))for(const e of n.Aa)await e(!0)}async function Du(n){for(const e of n.Aa)await e(!1)}function kI(n,e){const t=Ce(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Ey(t)?Ty(t):El(t).N_()&&vy(t,e))}function yy(n,e){const t=Ce(n),i=El(t);t.Ea.delete(e),i.N_()&&VI(t,e),t.Ea.size===0&&(i.N_()?i.k_():Za(t)&&t.Va.set("Unknown"))}function vy(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(n).Z_(e)}function VI(n,e){n.ma.Ke(e),El(n).X_(e)}function Ty(n){n.ma=new zM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),El(n).start(),n.Va.ca()}function Ey(n){return Za(n)&&!El(n).O_()&&n.Ea.size>0}function Za(n){return Ce(n).da.size===0}function DI(n){n.ma=void 0}async function QP(n){n.Va.set("Online")}async function XP(n){n.Ea.forEach((e,t)=>{vy(n,e)})}async function KP(n,e){DI(n),Ey(n)?(n.Va.Pa(e),Ty(n)):n.Va.set("Unknown")}async function $P(n,e,t){if(n.Va.set("Online"),e instanceof yI&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ea.delete(d),a.ma.removeTarget(d))}(n,e)}catch(i){he(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await sf(n,i)}else if(e instanceof Dd?n.ma.Xe(e):e instanceof _I?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ae.min()))try{const i=await NI(n.localStore);t.compareTo(i)>=0&&await function(l,u){const d=l.ma.It(u);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ea.get(m);y&&l.Ea.set(m,y.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach((p,m)=>{const y=l.Ea.get(p);if(!y)return;l.Ea.set(p,y.withResumeToken(ln.EMPTY_BYTE_STRING,y.snapshotVersion)),VI(l,p);const E=new wr(y.target,p,m,y.sequenceNumber);vy(l,E)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){he(Ua,"Failed to raise snapshot:",i),await sf(n,i)}}async function sf(n,e,t){if(!Tl(e))throw e;n.da.add(1),await Du(n),n.Va.set("Offline"),t||(t=()=>NI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(Ua,"Retrying IndexedDB access"),await t(),n.da.delete(1),await qf(n)})}function MI(n,e){return e().catch(t=>sf(n,t,e))}async function Gf(n){const e=Ce(n),t=Pr(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:sy;for(;e5(e);)try{const a=await MP(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,t5(e,a)}catch(a){await sf(e,a)}PI(e)&&UI(e)}function e5(n){return Za(n)&&n.Ia.length<10}function t5(n,e){n.Ia.push(e);const t=Pr(n);t.N_()&&t.ea&&t.ta(e.mutations)}function PI(n){return Za(n)&&!Pr(n).O_()&&n.Ia.length>0}function UI(n){Pr(n).start()}async function n5(n){Pr(n).ia()}async function i5(n){const e=Pr(n);for(const t of n.Ia)e.ta(t.mutations)}async function s5(n,e,t){const i=n.Ia.shift(),a=hy.from(i,e,t);await MI(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Gf(n)}async function r5(n,e){e&&Pr(n).ea&&await async function(i,a){if(function(u){return jM(u)&&u!==ie.ABORTED}(a.code)){const l=i.Ia.shift();Pr(i).L_(),await MI(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Gf(i)}}(n,e),PI(n)&&UI(n)}async function tw(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),he(Ua,"RemoteStore received new credentials");const i=Za(t);t.da.add(3),await Du(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await qf(t)}async function a5(n,e){const t=Ce(n);e?(t.da.delete(2),await qf(t)):e||(t.da.add(2),await Du(t),t.Va.set("Unknown"))}function El(n){return n.fa||(n.fa=function(t,i,a){const l=Ce(t);return l.oa(),new HP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:QP.bind(null,n),n_:XP.bind(null,n),i_:KP.bind(null,n),Y_:$P.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Ey(n)?Ty(n):n.Va.set("Unknown")):(await n.fa.stop(),DI(n))})),n.fa}function Pr(n){return n.ga||(n.ga=function(t,i,a){const l=Ce(t);return l.oa(),new qP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:n5.bind(null,n),i_:r5.bind(null,n),na:i5.bind(null,n),ra:s5.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Gf(n)):(await n.ga.stop(),n.Ia.length>0&&(he(Ua,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,d=new by(e,t,u,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,e){if(Ds("AsyncQueue",`${e}: ${n}`),Tl(n))return new _e(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Hc(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.pa=new kt(ye.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ie(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class ol{constructor(e,t,i,a,l,u,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ol(e,t,Ko.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class l5{constructor(){this.queries=iw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ce(t),l=a.queries;a.queries=iw(),l.forEach((u,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function iw(){return new qa(n=>iI(n),Wf)}async function c5(n,e){const t=Ce(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new o5,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=wy(u,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Sy(t)}async function u5(n,e){const t=Ce(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function h5(n,e){const t=Ce(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const d of u.Sa)d.Ma(a)&&(i=!0);u.ba=a}}i&&Sy(t)}function d5(n,e,t){const i=Ce(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Sy(n){n.Ca.forEach(e=>{e.next()})}var __,sw;(sw=__||(__={})).xa="default",sw.Cache="cache";class f5{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==__.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.key=e}}class WI{constructor(e){this.key=e}}class p5{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.Za=sI(e),this.Xa=new Ko(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new nw,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,E)=>{const b=a.get(y),R=Ff(this.query,E)?E:null,N=!!b&&this.mutatedKeys.has(b.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let H=!1;b&&R?b.data.isEqual(R.data)?N!==z&&(i.track({type:3,doc:R}),H=!0):this.ru(b,R)||(i.track({type:2,doc:R}),H=!0,(p&&this.Za(R,p)>0||m&&this.Za(R,m)<0)&&(d=!0)):!b&&R?(i.track({type:0,doc:R}),H=!0):b&&!R&&(i.track({type:1,doc:b}),H=!0,(p||m)&&(d=!0)),H&&(R?(u=u.add(R),l=z?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Xa:u,nu:i,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((y,E)=>function(R,N){const z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:H})}};return z(R)-z(N)}(y.type,E.type)||this.Za(y.doc,E.doc)),this.iu(i),a=a!=null&&a;const d=t&&!a?this.su():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Ja;return this.Ja=p,u.length!==0||m?{snapshot:new ol(this.query,e.Xa,l,u,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new nw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new WI(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new LI(i))}),t}au(e){this.Ha=e.$s,this.Ya=Fe();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ol.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Iy="SyncEngine";class m5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class g5{constructor(e){this.key=e,this.cu=!1}}class _5{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new qa(d=>iI(d),Wf),this.Pu=new Map,this.Tu=new Set,this.Iu=new kt(ye.comparator),this.Eu=new Map,this.du=new py,this.Au={},this.Ru=new Map,this.Vu=al.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function y5(n,e,t=!0){const i=qI(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await FI(i,e,t,!0),a}async function v5(n,e){const t=qI(n);await FI(t,e,!0,!1)}async function FI(n,e,t,i){const a=await PP(n.localStore,Bi(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await T5(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&kI(n.remoteStore,a),d}async function T5(n,e,t,i,a){n.fu=(E,b,R)=>async function(z,H,Q,X){let ne=H.view.tu(Q);ne.Cs&&(ne=await Qb(z.localStore,H.query,!1).then(({documents:M})=>H.view.tu(M,ne)));const re=X&&X.targetChanges.get(H.targetId),ue=X&&X.targetMismatches.get(H.targetId)!=null,ve=H.view.applyChanges(ne,z.isPrimaryClient,re,ue);return aw(z,H.targetId,ve.ou),ve.snapshot}(n,E,b,R);const l=await Qb(n.localStore,e,!0),u=new p5(e,l.$s),d=u.tu(l.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=u.applyChanges(d,n.isPrimaryClient,p);aw(n,t,m.ou);const y=new m5(e,t,u);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),m.snapshot}async function E5(n,e,t){const i=Ce(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(u=>!Wf(u,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await m_(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&yy(i.remoteStore,a.targetId),y_(i,a.targetId)}).catch(vl)):(y_(i,a.targetId),await m_(i.localStore,a.targetId,!0))}async function b5(n,e){const t=Ce(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),yy(t.remoteStore,i.targetId))}async function w5(n,e,t){const i=O5(n);try{const a=await function(u,d){const p=Ce(u),m=jt.now(),y=d.reduce((R,N)=>R.add(N.key),Fe());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=Ms(),z=Fe();return p.Bs.getEntries(R,y).next(H=>{N=H,N.forEach((Q,X)=>{X.isValidDocument()||(z=z.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,N)).next(H=>{E=H;const Q=[];for(const X of d){const ne=PM(X,E.get(X.key).overlayedDocument);ne!=null&&Q.push(new Ga(X.key,ne,QS(ne.value.mapValue),Ns.exists(!0)))}return p.mutationQueue.addMutationBatch(R,m,Q,d)}).next(H=>{b=H;const Q=H.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(R,H.batchId,Q)})}).then(()=>({batchId:b.batchId,changes:aI(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,d,p){let m=u.Au[u.currentUser.toKey()];m||(m=new kt(xe)),m=m.insert(d,p),u.Au[u.currentUser.toKey()]=m}(i,a.batchId,t),await Mu(i,a.changes),await Gf(i.remoteStore)}catch(a){const l=wy(a,"Failed to persist write");t.reject(l)}}async function jI(n,e){const t=Ce(n);try{const i=await VP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Eu.get(l);u&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?Qe(u.cu,14607):a.removedDocuments.size>0&&(Qe(u.cu,42227),u.cu=!1))}),await Mu(t,i,e)}catch(i){await vl(i)}}function rw(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,u)=>{const d=u.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const p=Ce(u);p.onlineState=d;let m=!1;p.queries.forEach((y,E)=>{for(const b of E.Sa)b.Fa(d)&&(m=!0)}),m&&Sy(p)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function S5(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let u=new kt(ye.comparator);u=u.insert(l,pn.newNoDocument(l,Ae.min()));const d=Fe().add(l),p=new zf(Ae.min(),new Map,new kt(xe),u,d);await jI(i,p),i.Iu=i.Iu.remove(l),i.Eu.delete(e),Ry(i)}else await m_(i.localStore,e,!1).then(()=>y_(i,e,t)).catch(vl)}async function I5(n,e){const t=Ce(n),i=e.batch.batchId;try{const a=await kP(t.localStore,e);zI(t,i,null),BI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Mu(t,a)}catch(a){await vl(a)}}async function R5(n,e,t){const i=Ce(n);try{const a=await function(u,d){const p=Ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next(E=>(Qe(E!==null,37113),y=E.keys(),p.mutationQueue.removeMutationBatch(m,E))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);zI(i,e,t),BI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Mu(i,a)}catch(a){await vl(a)}}function BI(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function zI(n,e,t){const i=Ce(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function y_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||HI(n,i)})}function HI(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(yy(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Ry(n))}function aw(n,e,t){for(const i of t)i instanceof LI?(n.du.addReference(i.key,e),A5(n,i)):i instanceof WI?(he(Iy,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||HI(n,i.key)):Ie(19791,{pu:i})}function A5(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(he(Iy,"New document in limbo: "+t),n.Tu.add(i),Ry(n))}function Ry(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ye(vt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new g5(t)),n.Iu=n.Iu.insert(t,i),kI(n.remoteStore,new wr(Bi(cy(t.path)),i,"TargetPurposeLimboResolution",Mf.le))}}async function Mu(n,e,t){const i=Ce(n),a=[],l=[],u=[];i.hu.isEmpty()||(i.hu.forEach((d,p)=>{u.push(i.fu(p,e,t).then(m=>{var y;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(m){a.push(m);const E=gy.Rs(p.targetId,m);l.push(E)}}))}),await Promise.all(u),i.lu.Y_(a),await async function(p,m){const y=Ce(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ee.forEach(m,b=>ee.forEach(b.ds,R=>y.persistence.referenceDelegate.addReference(E,b.targetId,R)).next(()=>ee.forEach(b.As,R=>y.persistence.referenceDelegate.removeReference(E,b.targetId,R)))))}catch(E){if(!Tl(E))throw E;he(_y,"Failed to update sequence numbers: "+E)}for(const E of m){const b=E.targetId;if(!E.fromCache){const R=y.xs.get(b),N=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(N);y.xs=y.xs.insert(b,z)}}}(i.localStore,l))}async function C5(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){he(Iy,"User change. New user:",e.toKey());const i=await CI(t.localStore,e);t.currentUser=e,function(l,u){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new _e(ie.CANCELLED,u))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Mu(t,i.ks)}}function N5(n,e){const t=Ce(n),i=t.Eu.get(e);if(i&&i.cu)return Fe().add(i.key);{let a=Fe();const l=t.Pu.get(e);if(!l)return a;for(const u of l){const d=t.hu.get(u);a=a.unionWith(d.view.eu)}return a}}function qI(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S5.bind(null,e),e.lu.Y_=h5.bind(null,e.eventManager),e.lu.gu=d5.bind(null,e.eventManager),e}function O5(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R5.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return xP(this.persistence,new CP,e.initialUser,this.serializer)}Su(e){return new AI(my.fi,this.serializer)}bu(e){return new LP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class x5 extends rf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Qe(this.persistence.referenceDelegate instanceof nf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fP(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new AI(i=>nf.fi(i,t),this.serializer)}}class v_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=C5.bind(null,this.syncEngine),await a5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l5}()}createDatastore(e){const t=Hf(e.databaseInfo.databaseId),i=function(l){return new zP(l)}(e.databaseInfo);return function(l,u,d,p){return new ZP(l,u,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,u,d){return new JP(i,a,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>rw(this.syncEngine,t,0),function(){return $b.C()?new $b:new WP}())}createSyncEngine(e,t){return function(a,l,u,d,p,m,y){const E=new _5(a,l,u,d,p,m);return y&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ce(a);he(Ua,"RemoteStore shutting down."),l.da.add(5),await Du(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}v_.provider={build:()=>new v_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class V5{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=FS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{he(Ur,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(he(Ur,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=wy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rg(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ur,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await CI(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ow(n,e){n.asyncQueue.verifyOperationInProgress();const t=await D5(n);he(Ur,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>tw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>tw(e.remoteStore,a)),n._onlineComponents=e}async function D5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ur,"Using user provided OfflineComponentProvider");try{await Rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await Rg(n,new rf)}}else he(Ur,"Using default OfflineComponentProvider"),await Rg(n,new x5(void 0));return n._offlineComponents}async function GI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ur,"Using user provided OnlineComponentProvider"),await ow(n,n._uninitializedComponentsProvider._online)):(he(Ur,"Using default OnlineComponentProvider"),await ow(n,new v_))),n._onlineComponents}function M5(n){return GI(n).then(e=>e.syncEngine)}async function P5(n){const e=await GI(n),t=e.eventManager;return t.onListen=y5.bind(null,e.syncEngine),t.onUnlisten=E5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=v5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=b5.bind(null,e.syncEngine),t}function U5(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,p,m){const y=new k5({next:b=>{y.xu(),u.enqueueAndForget(()=>u5(l,E));const R=b.docs.has(d);!R&&b.fromCache?m.reject(new _e(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?m.reject(new _e(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),E=new f5(cy(d.path),y,{includeMetadataChanges:!0,Qa:!0});return c5(l,E)}(await P5(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n,e,t){if(!t)throw new _e(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W5(n,e,t,i){if(e===!0&&i===!0)throw new _e(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cw(n){if(!ye.isDocumentKey(n))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ay(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function fu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ay(n);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firestore.googleapis.com",uw=!0;class hw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YI,this.ssl=uw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:uw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hP)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cy{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jD;switch(i.type){case"firstParty":return new qD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=lw.get(t);i&&(he("ComponentProvider","Removing Datastore"),lw.delete(t),i.terminate())}(this),Promise.resolve()}}function F5(n,e,t,i={}){var a;n=fu(n,Cy);const l=Us(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(Nf(`https://${p}`),Of("Firestore",!0)),u.host!==YI&&u.host!==p&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:p,ssl:l,emulatorOptions:i});if(!xs(m,d)&&(n._setSettings(m),i.mockUserToken)){let y,E;if(typeof i.mockUserToken=="string")y=i.mockUserToken,E=fn.MOCK_USER;else{y=z_(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new fn(b)}n._authCredentials=new BD(new LS(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ny(this.firestore,e,this._query)}}class ii{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class pu extends Ny{constructor(e,t,i){super(e,t,cy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new ye(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function dw(n,e,...t){if(n=ft(n),arguments.length===1&&(e=FS.newId()),L5("doc","path",e),n instanceof Cy){const i=vt.fromString(e,...t);return cw(i),new ii(n,null,new ye(i))}{if(!(n instanceof ii||n instanceof pu))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return cw(i),new ii(n.firestore,n instanceof pu?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="AsyncQueue";class pw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new OI(this,"async_queue_retry"),this.rc=()=>{const i=Ig();i&&he(fw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ar;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Tl(e))throw e;he(fw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ds("INTERNAL UNHANDLED ERROR: ",mw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=by.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ie(47125,{cc:mw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function mw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Oy extends Cy{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new pw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pw(e),this._firestoreClient=void 0,await e}}}function JI(n,e){const t=typeof n=="object"?n:Au(),i=typeof n=="string"?n:Jd,a=Ws(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=B_("firestore");l&&F5(a,...l)}return a}function QI(n){if(n._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||j5(n),n._firestoreClient}function j5(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,m,y){return new aM(d,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,ZI(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new V5(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(ln.fromBase64String(e))}catch(t){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ll(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=/^__.*__$/;class z5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new ku(e,this.data,t,this.fieldTransforms)}}function KI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ic:n})}}class Dy{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return af(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(KI(this.Ic)&&B5.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class H5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hf(e)}bc(e,t,i,a=!1){return new Dy({Ic:e,methodName:t,wc:i,path:on.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q5(n){const e=n._freezeSettings(),t=Hf(n._databaseId);return new H5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function G5(n,e,t,i,a,l={}){const u=n.bc(l.merge||l.mergeFields?2:0,e,t,a);nR("Data must be an object, but it was:",u,i);const d=eR(i,u);let p,m;if(l.merge)p=new pi(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const b=Z5(e,E,t);if(!u.contains(b))throw new _e(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);J5(y,b)||y.push(b)}p=new pi(y),m=u.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,m=u.fieldTransforms;return new z5(new ni(d),p,m)}function $I(n,e){if(tR(n=ft(n)))return nR("Unsupported field value:",e,n),eR(n,e);if(n instanceof XI)return function(i,a){if(!KI(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const d of i){let p=$I(d,a.fc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=jt.fromDate(i);return{timestampValue:tf(a.serializer,l)}}if(i instanceof jt){const l=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:tf(a.serializer,l)}}if(i instanceof ky)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ll)return{bytesValue:vI(a.serializer,i._byteString)};if(i instanceof ii){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Vy)return function(u,d){return{mapValue:{fields:{[YS]:{stringValue:JS},[Qd]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.gc("VectorValues must only contain numeric values.");return uy(d.serializer,m)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Ay(i)}`)}(n,e)}function eR(n,e){const t={};return BS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,(i,a)=>{const l=$I(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function tR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jt||n instanceof ky||n instanceof ll||n instanceof ii||n instanceof XI||n instanceof Vy)}function nR(n,e,t){if(!tR(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Ay(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Z5(n,e,t){if((e=ft(e))instanceof xy)return e._internalPath;if(typeof e=="string")return iR(n,e);throw af("Field path arguments must be of type string or ",n,!1,void 0,t)}const Y5=new RegExp("[~\\*/\\[\\]]");function iR(n,e,t){if(e.search(Y5)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xy(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function af(n,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${a}`),p+=")"),new _e(ie.INVALID_ARGUMENT,d+n+p)}function J5(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Q5 extends sR{data(){return super.data()}}function rR(n,e){return typeof e=="string"?iR(n,e):e instanceof xy?e._internalPath:e._delegate._internalPath}class X5{convertValue(e,t="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ha(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Qd].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>Rt(u.doubleValue));return new Vy(l)}convertGeoPoint(e){return new ky(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Uf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const t=Vr(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);Qe(II(i),9688,{name:e});const a=new cu(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return a.isEqual(t)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aR extends sR{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new e4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rR("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class e4 extends aR{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n){n=fu(n,ii);const e=fu(n.firestore,Oy);return U5(QI(e),n._key).then(t=>r4(e,n,t))}class n4 extends X5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function i4(n,e,t){n=fu(n,ii);const i=fu(n.firestore,Oy),a=K5(n.converter,e,t);return s4(i,[G5(q5(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Ns.none())])}function s4(n,e){return function(i,a){const l=new Ar;return i.asyncQueue.enqueueAndForget(async()=>w5(await M5(i),a,l)),l.promise}(QI(n),e)}function r4(n,e,t){const i=t.docs.get(e._key),a=new n4(n);return new aR(n,a,e._key,i,new $5(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){yl=a})(Br),si(new Bn("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),d=new Oy(new zD(i.getProvider("auth-internal")),new GD(u,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(m.options.projectId,y)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),gn(Tb,Eb,e),gn(Tb,Eb,"esm2017")})();const oR="@firebase/installations",My="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1e4,cR=`w:${My}`,uR="FIS_v2",a4="https://firebaseinstallations.googleapis.com/v1",o4=60*60*1e3,l4="installations",c4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},La=new za(l4,c4,u4);function hR(n){return n instanceof ri&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR({projectId:n}){return`${a4}/projects/${n}/installations`}function fR(n){return{token:n.token,requestStatus:2,expiresIn:d4(n.expiresIn),creationTime:Date.now()}}async function pR(n,e){const i=(await e.json()).error;return La.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function mR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function h4(n,{refreshToken:e}){const t=mR(n);return t.append("Authorization",f4(e)),t}async function gR(n){const e=await n();return e.status>=500&&e.status<600?n():e}function d4(n){return Number(n.replace("s","000"))}function f4(n){return`${uR} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=dR(n),a=mR(n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={fid:t,authVersion:uR,appId:n.appId,sdkVersion:cR},d={method:"POST",headers:a,body:JSON.stringify(u)},p=await gR(()=>fetch(i,d));if(p.ok){const m=await p.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:fR(m.authToken)}}else throw await pR("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=/^[cdef][\w-]{21}$/,T_="";function _4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=y4(n);return g4.test(t)?t:T_}catch{return T_}}function y4(n){return m4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Map;function vR(n,e){const t=Zf(n);TR(t,e),v4(t,e)}function TR(n,e){const t=yR.get(n);if(t)for(const i of t)i(e)}function v4(n,e){const t=T4();t&&t.postMessage({key:n,fid:e}),E4()}let Oa=null;function T4(){return!Oa&&"BroadcastChannel"in self&&(Oa=new BroadcastChannel("[Firebase] FID Change"),Oa.onmessage=n=>{TR(n.data.key,n.data.fid)}),Oa}function E4(){yR.size===0&&Oa&&(Oa.close(),Oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firebase-installations-database",w4=1,Wa="firebase-installations-store";let Ag=null;function Py(){return Ag||(Ag=G1(b4,w4,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Wa)}}})),Ag}async function of(n,e){const t=Zf(n),a=(await Py()).transaction(Wa,"readwrite"),l=a.objectStore(Wa),u=await l.get(t);return await l.put(e,t),await a.done,(!u||u.fid!==e.fid)&&vR(n,e.fid),e}async function ER(n){const e=Zf(n),i=(await Py()).transaction(Wa,"readwrite");await i.objectStore(Wa).delete(e),await i.done}async function Yf(n,e){const t=Zf(n),a=(await Py()).transaction(Wa,"readwrite"),l=a.objectStore(Wa),u=await l.get(t),d=e(u);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!u||u.fid!==d.fid)&&vR(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(n){let e;const t=await Yf(n.appConfig,i=>{const a=S4(i),l=I4(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===T_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function S4(n){const e=n||{fid:_4(),registrationStatus:0};return bR(e)}function I4(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(La.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=R4(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:A4(n)}:{installationEntry:e}}async function R4(n,e){try{const t=await p4(n,e);return of(n.appConfig,t)}catch(t){throw hR(t)&&t.customData.serverCode===409?await ER(n.appConfig):await of(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function A4(n){let e=await gw(n.appConfig);for(;e.registrationStatus===1;)await _R(100),e=await gw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Uy(n);return i||t}return e}function gw(n){return Yf(n,e=>{if(!e)throw La.create("installation-not-found");return bR(e)})}function bR(n){return C4(n)?{fid:n.fid,registrationStatus:0}:n}function C4(n){return n.registrationStatus===1&&n.registrationTime+lR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4({appConfig:n,heartbeatServiceProvider:e},t){const i=O4(n,t),a=h4(n,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const u={installation:{sdkVersion:cR,appId:n.appId}},d={method:"POST",headers:a,body:JSON.stringify(u)},p=await gR(()=>fetch(i,d));if(p.ok){const m=await p.json();return fR(m)}else throw await pR("Generate Auth Token",p)}function O4(n,{fid:e}){return`${dR(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ly(n,e=!1){let t;const i=await Yf(n.appConfig,l=>{if(!wR(l))throw La.create("not-registered");const u=l.authToken;if(!e&&V4(u))return l;if(u.requestStatus===1)return t=x4(n,e),l;{if(!navigator.onLine)throw La.create("app-offline");const d=M4(l);return t=k4(n,d),d}});return t?await t:i.authToken}async function x4(n,e){let t=await _w(n.appConfig);for(;t.authToken.requestStatus===1;)await _R(100),t=await _w(n.appConfig);const i=t.authToken;return i.requestStatus===0?Ly(n,e):i}function _w(n){return Yf(n,e=>{if(!wR(e))throw La.create("not-registered");const t=e.authToken;return P4(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function k4(n,e){try{const t=await N4(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await of(n.appConfig,i),t}catch(t){if(hR(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await ER(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await of(n.appConfig,i)}throw t}}function wR(n){return n!==void 0&&n.registrationStatus===2}function V4(n){return n.requestStatus===2&&!D4(n)}function D4(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+o4}function M4(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function P4(n){return n.requestStatus===1&&n.requestTime+lR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(n){const e=n,{installationEntry:t,registrationPromise:i}=await Uy(e);return i?i.catch(console.error):Ly(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(n,e=!1){const t=n;return await W4(t),(await Ly(t,e)).token}async function W4(n){const{registrationPromise:e}=await Uy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){if(!n||!n.options)throw Cg("App Configuration");if(!n.name)throw Cg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Cg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Cg(n){return La.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="installations",j4="installations-internal",B4=n=>{const e=n.getProvider("app").getImmediate(),t=F4(e),i=Ws(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},z4=n=>{const e=n.getProvider("app").getImmediate(),t=Ws(e,SR).getImmediate();return{getId:()=>U4(t),getToken:a=>L4(t,a)}};function H4(){si(new Bn(SR,B4,"PUBLIC")),si(new Bn(j4,z4,"PRIVATE"))}H4();gn(oR,My);gn(oR,My,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="analytics",q4="firebase_id",G4="origin",Z4=60*1e3,Y4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn=new Ru("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new za("analytics","Analytics",J4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(n){if(!n.startsWith(Wy)){const e=jn.create("invalid-gtag-resource",{gtagURL:n});return Nn.warn(e.message),""}return n}function IR(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function X4(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function K4(n,e){const t=X4("firebase-js-sdk-policy",{createScriptURL:Q4}),i=document.createElement("script"),a=`${Wy}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function $4(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function e9(n,e,t,i,a,l){const u=i[a];try{if(u)await e[u];else{const p=(await IR(t)).find(m=>m.measurementId===a);p&&await e[p.appId]}}catch(d){Nn.error(d)}n("config",a,l)}async function t9(n,e,t,i,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const d=await IR(t);for(const p of u){const m=d.find(E=>E.measurementId===p),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,a||{})}catch(l){Nn.error(l)}}function n9(n,e,t,i){async function a(l,...u){try{if(l==="event"){const[d,p]=u;await t9(n,e,t,d,p)}else if(l==="config"){const[d,p]=u;await e9(n,e,t,i,d,p)}else if(l==="consent"){const[d,p]=u;n("consent",d,p)}else if(l==="get"){const[d,p,m]=u;n("get",d,p,m)}else if(l==="set"){const[d]=u;n("set",d)}else n(l,...u)}catch(d){Nn.error(d)}}return a}function i9(n,e,t,i,a){let l=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=n9(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function s9(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Wy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=30,a9=1e3;class o9{constructor(e={},t=a9){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const RR=new o9;function l9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function c9(n){var e;const{appId:t,apiKey:i}=n,a={method:"GET",headers:l9(i)},l=Y4.replace("{app-id}",t),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let d="";try{const p=await u.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function u9(n,e=RR,t){const{appId:i,apiKey:a,measurementId:l}=n.options;if(!i)throw jn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw jn.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new f9;return setTimeout(async()=>{d.abort()},Z4),AR({appId:i,apiKey:a,measurementId:l},u,d,e)}async function AR(n,{throttleEndTimeMillis:e,backoffCount:t},i,a=RR){var l;const{appId:u,measurementId:d}=n;try{await h9(i,e)}catch(p){if(d)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:d};throw p}try{const p=await c9(n);return a.deleteThrottleMetadata(u),p}catch(p){const m=p;if(!d9(m)){if(a.deleteThrottleMetadata(u),d)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:d};throw p}const y=Number((l=m==null?void 0:m.customData)===null||l===void 0?void 0:l.httpStatus)===503?qE(t,a.intervalMillis,r9):qE(t,a.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return a.setThrottleMetadata(u,E),Nn.debug(`Calling attemptFetch again in ${y} millis`),AR(n,E,i,a)}}function h9(n,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),i(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d9(n){if(!(n instanceof ri)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class f9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function p9(n,e,t,i,a){if(a&&a.global){n("event",t,i);return}else{const l=await e,u=Object.assign(Object.assign({},i),{send_to:l});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(){if(j1())try{await B1()}catch(n){return Nn.warn(jn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Nn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function g9(n,e,t,i,a,l,u){var d;const p=u9(n);p.then(R=>{t[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Nn.error(R)),e.push(p);const m=m9().then(R=>{if(R)return i.getId()}),[y,E]=await Promise.all([p,m]);s9(l)||K4(l,y.measurementId),a("js",new Date);const b=(d=u==null?void 0:u.config)!==null&&d!==void 0?d:{};return b[G4]="firebase",b.update=!0,E!=null&&(b[q4]=E),a("config",y.measurementId,b),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.app=e}_delete(){return delete Kc[this.app.options.appId],Promise.resolve()}}let Kc={},yw=[];const vw={};let Ng="dataLayer",y9="gtag",Tw,CR,Ew=!1;function v9(){const n=[];if(W1()&&n.push("This is a browser extension environment."),QO()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=jn.create("invalid-analytics-context",{errorInfo:e});Nn.warn(t.message)}}function T9(n,e,t){v9();const i=n.options.appId;if(!i)throw jn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(Kc[i]!=null)throw jn.create("already-exists",{id:i});if(!Ew){$4(Ng);const{wrappedGtag:l,gtagCore:u}=i9(Kc,yw,vw,Ng,y9);CR=l,Tw=u,Ew=!0}return Kc[i]=g9(n,yw,vw,e,Tw,Ng,t),new _9(n)}function E9(n=Au()){n=ft(n);const e=Ws(n,lf);return e.isInitialized()?e.getImmediate():b9(n)}function b9(n,e={}){const t=Ws(n,lf);if(t.isInitialized()){const a=t.getImmediate();if(xs(e,t.getOptions()))return a;throw jn.create("already-initialized")}return t.initialize({options:e})}function w9(n,e,t,i){n=ft(n),p9(CR,Kc[n.app.options.appId],e,t,i).catch(a=>Nn.error(a))}const bw="@firebase/analytics",ww="0.10.16";function S9(){si(new Bn(lf,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return T9(i,a,t)},"PUBLIC")),si(new Bn("analytics-internal",n,"PRIVATE")),gn(bw,ww),gn(bw,ww,"esm2017");function n(e){try{const t=e.getProvider(lf).getImmediate();return{logEvent:(i,a,l)=>w9(t,i,a,l)}}catch(t){throw jn.create("interop-component-reg-failed",{reason:t})}}}S9();var Sw={};const Iw="@firebase/database",Rw="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NR="";function I9(n){NR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Lt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:su(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ls(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new R9(e)}}catch{}return new A9},xa=OR("localStorage"),C9=OR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Ru("@firebase/database"),N9=function(){let n=1;return function(){return n++}}(),xR=function(n){const e=ax(n),t=new nx;t.update(e);const i=t.digest();return j_.encodeByteArray(i)},Pu=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Pu.apply(null,i):typeof i=="object"?e+=Lt(i):e+=i,e+=" "}return e};let $c=null,Aw=!0;const O9=function(n,e){oe(!0,"Can't turn on custom loggers persistently."),$o.logLevel=Ue.VERBOSE,$c=$o.log.bind($o)},mn=function(...n){if(Aw===!0&&(Aw=!1,$c===null&&C9.get("logging_enabled")===!0&&O9()),$c){const e=Pu.apply(null,n);$c(e)}},Uu=function(n){return function(...e){mn(n,...e)}},E_=function(...n){const e="FIREBASE INTERNAL ERROR: "+Pu(...n);$o.error(e)},Ps=function(...n){const e=`FIREBASE FATAL ERROR: ${Pu(...n)}`;throw $o.error(e),new Error(e)},On=function(...n){const e="FIREBASE WARNING: "+Pu(...n);$o.warn(e)},x9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kR=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},k9=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},cl="[MIN_NAME]",Fa="[MAX_NAME]",bl=function(n,e){if(n===e)return 0;if(n===cl||e===Fa)return-1;if(e===cl||n===Fa)return 1;{const t=Cw(n),i=Cw(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},V9=function(n,e){return n===e?0:n<e?-1:1},Uc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Lt(e))},Fy=function(n){if(typeof n!="object"||n===null)return Lt(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Lt(e[i]),t+=":",t+=Fy(n[e[i]]);return t+="}",t},VR=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let a=0;a<t;a+=e)a+e>t?i.push(n.substring(a,t)):i.push(n.substring(a,a+e));return i};function xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const DR=function(n){oe(!kR(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let a,l,u,d,p;n===0?(l=0,u=0,a=1/n===-1/0?1:0):(a=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=d+i,u=Math.round(n*Math.pow(2,t-d)-Math.pow(2,t))):(l=0,u=Math.round(n/Math.pow(2,1-i-t))));const m=[];for(p=t;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(p=e;p;p-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const y=m.join("");let E="";for(p=0;p<64;p+=8){let b=parseInt(y.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),E=E+b}return E.toLowerCase()},D9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},M9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function P9(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const U9=new RegExp("^-?(0*)\\d{1,10}$"),L9=-2147483648,W9=2147483647,Cw=function(n){if(U9.test(n)){const e=Number(n);if(e>=L9&&e<=W9)return e}return null},wl=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw On("Exception was thrown by user callback.",t),e},Math.floor(0))}},F9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},eu=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,bn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(e)}}class Md{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Md.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="5",MR="v",PR="s",UR="r",LR="f",WR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,FR="ls",jR="p",b_="ac",BR="websocket",zR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t,i,a,l=!1,u="",d=!1,p=!1,m=null){this.secure=t,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function z9(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function qR(n,e,t){oe(typeof e=="string","typeof type must == string"),oe(typeof t=="object","typeof params must == object");let i;if(e===BR)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===zR)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);z9(n)&&(t.ns=n.namespace);const a=[];return xn(t,(l,u)=>{a.push(l+"="+u)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this.counters_={}}incrementCounter(e,t=1){Ls(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return UO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og={},xg={};function By(n){const e=n.toString();return Og[e]||(Og[e]=new H9),Og[e]}function q9(n,e){const t=n.toString();return xg[t]||(xg[t]=e()),xg[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&wl(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="start",Z9="close",Y9="pLPCommand",J9="pRTLPCB",GR="id",ZR="pw",YR="ser",Q9="cb",X9="seg",K9="ts",$9="d",e3="dframe",JR=1870,QR=30,t3=JR-QR,n3=25e3,i3=3e4;class Yo{constructor(e,t,i,a,l,u,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uu(e),this.stats_=By(t),this.urlFn=p=>(this.appCheckToken&&(p[b_]=this.appCheckToken),qR(t,zR,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new G9(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(i3)),k9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zy((...l)=>{const[u,d,p,m,y]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Nw)this.id=d,this.password=p;else if(u===Z9)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[Nw]="t",i[YR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Q9]=this.scriptTagHolder.uniqueCallbackIdentifier),i[MR]=jy,this.transportSessionId&&(i[PR]=this.transportSessionId),this.lastSessionId&&(i[FR]=this.lastSessionId),this.applicationId&&(i[jR]=this.applicationId),this.appCheckToken&&(i[b_]=this.appCheckToken),typeof location<"u"&&location.hostname&&WR.test(location.hostname)&&(i[UR]=LR);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yo.forceAllow_=!0}static forceDisallow(){Yo.forceDisallow_=!0}static isAvailable(){return Yo.forceAllow_?!0:!Yo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!D9()&&!M9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Lt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=D1(t),a=VR(i,t3);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[e3]="t",i[GR]=e,i[ZR]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Lt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class zy{constructor(e,t,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=N9(),window[Y9+this.uniqueCallbackIdentifier]=e,window[J9+this.uniqueCallbackIdentifier]=t,this.myIFrame=zy.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){mn("frame writing exception"),d.stack&&mn(d.stack),mn(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[GR]=this.myID,e[ZR]=this.myPW,e[YR]=this.currentSerial;let t=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+QR+i.length<=JR;){const u=this.pendingSegs.shift();i=i+"&"+X9+a+"="+u.seg+"&"+K9+a+"="+u.ts+"&"+$9+a+"="+u.d,a++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(i,Math.floor(n3)),l=()=>{clearTimeout(a),i()};this.addTag(e,l)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=16384,r3=45e3;let cf=null;typeof MozWebSocket<"u"?cf=MozWebSocket:typeof WebSocket<"u"&&(cf=WebSocket);class di{constructor(e,t,i,a,l,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uu(this.connId),this.stats_=By(t),this.connURL=di.connectionURL_(t,u,d,a,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,a,l){const u={};return u[MR]=jy,typeof location<"u"&&location.hostname&&WR.test(location.hostname)&&(u[UR]=LR),t&&(u[PR]=t),i&&(u[FR]=i),a&&(u[b_]=a),l&&(u[jR]=l),qR(e,BR,u)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xa.set("previous_websocket_failure",!0);try{let i;YO(),this.mySock=new cf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&cf!==null&&!di.forceDisallow_}static previouslyFailed(){return xa.isInMemoryStorage||xa.get("previous_websocket_failure")===!0}markConnectionHealthy(){xa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=su(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(oe(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Lt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=VR(t,s3);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(r3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}di.responsesRequiredToBeHealthy=2;di.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{static get ALL_TRANSPORTS(){return[Yo,di]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=di&&di.isAvailable();let i=t&&!di.previouslyFailed();if(e.webSocketOnly&&(t||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[di];else{const a=this.transports_=[];for(const l of mu.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);mu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=6e4,o3=5e3,l3=10*1024,c3=100*1024,kg="t",Ow="d",u3="s",xw="r",h3="e",kw="o",Vw="a",Dw="n",Mw="p",d3="h";class f3{constructor(e,t,i,a,l,u,d,p,m,y){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uu("c:"+this.id+":"),this.transportManager_=new mu(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=eu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>c3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>l3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kg in e){const t=e[kg];t===Vw?this.upgradeIfSecondaryHealthy_():t===xw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===kw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Uc("t",e),i=Uc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Mw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Uc("t",e),i=Uc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Uc(kg,e);if(Ow in e){const i=e[Ow];if(t===d3){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(t===Dw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===u3?this.onConnectionShutdown_(i):t===xw?this.onReset_(i):t===h3?E_("Server Error: "+i):t===kw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),jy!==i&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),eu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(a3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(o3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Mw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{put(e,t,i,a){}merge(e,t,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.allowedEvents_=e,this.listeners_={},oe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const a=this.getInitialEvent(e);a&&t.apply(i,a)}off(e,t,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===t&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(e){oe(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends KR{static getInstance(){return new uf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!H_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return oe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=32,Uw=768;class at{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ge(){return new at("")}function We(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Lr(n){return n.pieces_.length-n.pieceNum_}function ct(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new at(n.pieces_,e)}function $R(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function p3(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function eA(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function tA(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new at(e,0)}function Ft(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof at)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&t.push(i[a])}return new at(t,0)}function Le(n){return n.pieceNum_>=n.pieces_.length}function wn(n,e){const t=We(n),i=We(e);if(t===null)return e;if(t===i)return wn(ct(n),ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function nA(n,e){if(Lr(n)!==Lr(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function mi(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Lr(n)>Lr(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class m3{constructor(e,t){this.errorPrefix_=t,this.parts_=eA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=xf(this.parts_[i]);iA(this)}}function g3(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=xf(e),iA(n)}function _3(n){const e=n.parts_.pop();n.byteLength_-=xf(e),n.parts_.length>0&&(n.byteLength_-=1)}function iA(n){if(n.byteLength_>Uw)throw new Error(n.errorPrefix_+"has a key path longer than "+Uw+" bytes ("+n.byteLength_+").");if(n.parts_.length>Pw)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pw+") or object contains a cycle "+Ca(n))}function Ca(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends KR{static getInstance(){return new Hy}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return oe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=1e3,y3=60*5*1e3,Lw=30*1e3,v3=1.3,T3=3e4,E3="server_kill",Ww=3;class Os extends XR{constructor(e,t,i,a,l,u,d,p){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Os.nextPersistentConnectionId_++,this.log_=Uu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lc,this.maxReconnectDelay_=y3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&uf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const a=++this.requestNumber_,l={r:a,a:e,b:t};this.log_(Lt(l)),oe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const t=new Cf,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?t.resolve(d):t.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,i,a){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),oe(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:a,hashFn:t,query:e,tag:i};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),a=t._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i},u="q";e.tag&&(l.q=t._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const p=d.d,m=d.s;Os.warnOnListenWarnings_(p,t),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(i,a),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ls(e,"w")){const i=tl(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+t._queryParams.getIndex().toString()+'"',l=t._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||tx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Lw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=ex(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,a=>{const l=a.s,u=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,t)}sendUnlisten_(e,t,i,a){this.log_("Unlisten on "+e+" for "+t);const l={p:e},u="n";a&&(l.q=i,l.t=a),this.sendRequest(u,l)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,a){const l={p:t,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{a&&setTimeout(()=>{a(u.s,u.d)},Math.floor(0))})}put(e,t,i,a){this.putInternal("p",e,t,i,a)}merge(e,t,i,a){this.putInternal("m",e,t,i,a)}putInternal(e,t,i,a,l){this.initConnection_();const u={p:t,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:a}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,l=>{this.log_(t+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Lt(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):E_("Unrecognized action received from server: "+Lt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){oe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>T3&&(this.reconnectDelay_=Lc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*v3)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Os.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const p=function(){d?d.close():(u=!0,i())},m=function(E){oe(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(E)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);u?mn("getToken() completed but was canceled"):(mn("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=b&&b.token,d=new f3(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,R=>{On(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(E3)},l))}catch(E){this.log_("Failed to get token: "+E),u||(this.repoInfo_.nodeAdmin&&On(E),p())}}}interrupt(e){mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Yg(this.interruptReasons_)&&(this.reconnectDelay_=Lc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(l=>Fy(l)).join("$"):i="default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,t){const i=new at(e).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(t),l.delete(t),l.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,t){mn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ww&&(this.reconnectDelay_=Lw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){mn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ww&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+NR.replace(/\./g,"-")]=1,H_()?e["framework.cordova"]=1:F1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=uf.getInstance().currentlyOnline();return Yg(this.interruptReasons_)&&e}}Os.nextPersistentConnectionId_=0;Os.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new De(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new De(cl,e),a=new De(cl,t);return this.compare(i,a)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed;class sA extends Jf{static get __EMPTY_NODE(){return Ed}static set __EMPTY_NODE(e){Ed=e}compare(e,t){return bl(e.name,t.name)}isDefinedOn(e){throw ml("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return De.MIN}maxPost(){return new De(Fa,Ed)}makePost(e,t){return oe(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,Ed)}toString(){return".key"}}const el=new sA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,i,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?i(e.key,t):1,a&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Kt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Kt.RED,this.left=a??Cn.EMPTY_NODE,this.right=l??Cn.EMPTY_NODE}copy(e,t,i,a,l){return new Kt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a=a.copy(null,t,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,a;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Cn.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Kt.RED=!0;Kt.BLACK=!1;class b3{copy(e,t,i,a,l){return this}insert(e,t,i){return new Kt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Cn{constructor(e,t=Cn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Cn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Kt.BLACK,null,null))}remove(e){return new Cn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kt.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,a=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new bd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new bd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new bd(this.root_,null,this.comparator_,!0,e)}}Cn.EMPTY_NODE=new b3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n,e){return bl(n.name,e.name)}function qy(n,e){return bl(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_;function S3(n){w_=n}const rA=function(n){return typeof n=="number"?"number:"+DR(n):"string:"+n},aA=function(n){if(n.isLeafNode()){const e=n.val();oe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ls(e,".sv"),"Priority must be a string or number.")}else oe(n===w_||n.isEmpty(),"priority of unexpected type.");oe(n===w_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw;class Qt{static set __childrenNodeConstructor(e){Fw=e}static get __childrenNodeConstructor(){return Fw}constructor(e,t=Qt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,oe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),aA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Le(e)?this:We(e)===".priority"?this.priorityNode_:Qt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Qt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=We(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(oe(i!==".priority"||Lr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Qt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+rA(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=DR(this.value_):e+=this.value_,this.lazyHash_=xR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qt.__childrenNodeConstructor?-1:(oe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,a=Qt.VALUE_TYPE_ORDER.indexOf(t),l=Qt.VALUE_TYPE_ORDER.indexOf(i);return oe(a>=0,"Unknown leaf type: "+t),oe(l>=0,"Unknown leaf type: "+i),a===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Qt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oA,lA;function I3(n){oA=n}function R3(n){lA=n}class A3 extends Jf{compare(e,t){const i=e.node.getPriority(),a=t.node.getPriority(),l=i.compareTo(a);return l===0?bl(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return De.MIN}maxPost(){return new De(Fa,new Qt("[PRIORITY-POST]",lA))}makePost(e,t){const i=oA(e);return new De(t,new Qt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Tt=new A3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=Math.log(2);class N3{constructor(e){const t=l=>parseInt(Math.log(l)/C3,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const a=i(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hf=function(n,e,t,i){n.sort(e);const a=function(p,m){const y=m-p;let E,b;if(y===0)return null;if(y===1)return E=n[p],b=t?t(E):E,new Kt(b,E.node,Kt.BLACK,null,null);{const R=parseInt(y/2,10)+p,N=a(p,R),z=a(R+1,m);return E=n[R],b=t?t(E):E,new Kt(b,E.node,Kt.BLACK,N,z)}},l=function(p){let m=null,y=null,E=n.length;const b=function(N,z){const H=E-N,Q=E;E-=N;const X=a(H+1,Q),ne=n[H],re=t?t(ne):ne;R(new Kt(re,ne.node,z,null,X))},R=function(N){m?(m.left=N,m=N):(y=N,m=N)};for(let N=0;N<p.count;++N){const z=p.nextBitIsOne(),H=Math.pow(2,p.count-(N+1));z?b(H,Kt.BLACK):(b(H,Kt.BLACK),b(H,Kt.RED))}return y},u=new N3(n.length),d=l(u);return new Cn(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg;const Bo={};class As{static get Default(){return oe(Bo&&Tt,"ChildrenNode.ts has not been loaded"),Vg=Vg||new As({".priority":Bo},{".priority":Tt}),Vg}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=tl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Cn?t:null}hasIndex(e){return Ls(this.indexSet_,e.toString())}addIndex(e,t){oe(e!==el,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const l=t.getIterator(De.Wrap);let u=l.getNext();for(;u;)a=a||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let d;a?d=hf(i,e.getCompare()):d=Bo;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const y=Object.assign({},this.indexes_);return y[p]=d,new As(y,m)}addToIndexes(e,t){const i=Wd(this.indexes_,(a,l)=>{const u=tl(this.indexSet_,l);if(oe(u,"Missing index implementation for "+l),a===Bo)if(u.isDefinedOn(e.node)){const d=[],p=t.getIterator(De.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),hf(d,u.getCompare())}else return Bo;else{const d=t.get(e.name);let p=a;return d&&(p=p.remove(new De(e.name,d))),p.insert(e,e.node)}});return new As(i,this.indexSet_)}removeFromIndexes(e,t){const i=Wd(this.indexes_,a=>{if(a===Bo)return a;{const l=t.get(e.name);return l?a.remove(new De(e.name,l)):a}});return new As(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc;class be{static get EMPTY_NODE(){return Wc||(Wc=new be(new Cn(qy),null,As.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&aA(this.priorityNode_),this.children_.isEmpty()&&oe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wc}updatePriority(e){return this.children_.isEmpty()?this:new be(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Wc:t}}getChild(e){const t=We(e);return t===null?this:this.getImmediateChild(t).getChild(ct(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(oe(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new De(e,t);let a,l;t.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,t),l=this.indexMap_.addToIndexes(i,this.children_));const u=a.isEmpty()?Wc:this.priorityNode_;return new be(a,u,l)}}updateChild(e,t){const i=We(e);if(i===null)return t;{oe(We(e)!==".priority"||Lr(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(ct(e),t);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,a=0,l=!0;if(this.forEachChild(Tt,(u,d)=>{t[u]=d.val(e),i++,l&&be.INTEGER_REGEXP_.test(u)?a=Math.max(a,Number(u)):l=!1}),!e&&l&&a<2*i){const u=[];for(const d in t)u[d]=t[d];return u}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+rA(this.getPriority().val())+":"),this.forEachChild(Tt,(t,i)=>{const a=i.hash();a!==""&&(e+=":"+t+":"+a)}),this.lazyHash_=e===""?"":xR(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new De(e,t));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new De(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new De(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>t(a.name,a.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,De.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lu?-1:0}withIndex(e){if(e===el||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new be(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===el||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Tt),a=t.getIterator(Tt);let l=i.getNext(),u=a.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=a.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===el?null:this.indexMap_.get(e.toString())}}be.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class O3 extends be{constructor(){super(new Cn(qy),be.EMPTY_NODE,As.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return be.EMPTY_NODE}isEmpty(){return!1}}const Lu=new O3;Object.defineProperties(De,{MIN:{value:new De(cl,be.EMPTY_NODE)},MAX:{value:new De(Fa,Lu)}});sA.__EMPTY_NODE=be.EMPTY_NODE;Qt.__childrenNodeConstructor=be;S3(Lu);R3(Lu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=!0;function $t(n,e=null){if(n===null)return be.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),oe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Qt(t,$t(e))}if(!(n instanceof Array)&&x3){const t=[];let i=!1;if(xn(n,(u,d)=>{if(u.substring(0,1)!=="."){const p=$t(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new De(u,p)))}}),t.length===0)return be.EMPTY_NODE;const l=hf(t,w3,u=>u.name,qy);if(i){const u=hf(t,Tt.getCompare());return new be(l,$t(e),new As({".priority":u},{".priority":Tt}))}else return new be(l,$t(e),As.Default)}else{let t=be.EMPTY_NODE;return xn(n,(i,a)=>{if(Ls(n,i)&&i.substring(0,1)!=="."){const l=$t(a);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(i,l))}}),t.updatePriority($t(e))}}I3($t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3 extends Jf{constructor(e){super(),this.indexPath_=e,oe(!Le(e)&&We(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),a=this.extractChild(t.node),l=i.compareTo(a);return l===0?bl(e.name,t.name):l}makePost(e,t){const i=$t(e),a=be.EMPTY_NODE.updateChild(this.indexPath_,i);return new De(t,a)}maxPost(){const e=be.EMPTY_NODE.updateChild(this.indexPath_,Lu);return new De(Fa,e)}toString(){return eA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3 extends Jf{compare(e,t){const i=e.node.compareTo(t.node);return i===0?bl(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,t){const i=$t(e);return new De(t,i)}toString(){return".value"}}const D3=new V3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){return{type:"value",snapshotNode:n}}function ul(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function gu(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function _u(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function M3(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.index_=e}updateChild(e,t,i,a,l,u){oe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(a).equals(i.getChild(a))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(gu(t,d)):oe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(ul(t,i)):u.trackChildChange(_u(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Tt,(a,l)=>{t.hasChild(a)||i.trackChildChange(gu(a,l))}),t.isLeafNode()||t.forEachChild(Tt,(a,l)=>{if(e.hasChild(a)){const u=e.getImmediateChild(a);u.equals(l)||i.trackChildChange(_u(a,l,u))}else i.trackChildChange(ul(a,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?be.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.indexedFilter_=new Gy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yu.getStartPost_(e),this.endPost_=yu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,a,l,u){return this.matches(new De(t,i))||(i=be.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,a,l,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=be.EMPTY_NODE);let a=t.withIndex(this.index_);a=a.updatePriority(be.EMPTY_NODE);const l=this;return t.forEachChild(Tt,(u,d)=>{l.matches(new De(u,d))||(a=a.updateImmediateChild(u,be.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new yu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,a,l,u){return this.rangedFilter_.matches(new De(t,i))||(i=be.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,a,l,u):this.fullLimitUpdateChild_(e,t,i,l,u)}updateFullNode(e,t,i){let a;if(t.isLeafNode()||t.isEmpty())a=be.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){a=be.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))a=a.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{a=t.withIndex(this.index_),a=a.updatePriority(be.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:a=a.updateImmediateChild(d.name,be.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,a,l){let u;if(this.reverse_){const E=this.index_.getCompare();u=(b,R)=>E(R,b)}else u=this.index_.getCompare();const d=e;oe(d.numChildren()===this.limit_,"");const p=new De(t,i),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(d.hasChild(t)){const E=d.getImmediateChild(t);let b=a.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===t||d.hasChild(b.name));)b=a.getChildAfterChild(this.index_,b,this.reverse_);const R=b==null?1:u(b,p);if(y&&!i.isEmpty()&&R>=0)return l!=null&&l.trackChildChange(_u(t,i,E)),d.updateImmediateChild(t,i);{l!=null&&l.trackChildChange(gu(t,E));const z=d.updateImmediateChild(t,be.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(l!=null&&l.trackChildChange(ul(b.name,b.node)),z.updateImmediateChild(b.name,b.node)):z}}else return i.isEmpty()?e:y&&u(m,p)>=0?(l!=null&&(l.trackChildChange(gu(m.name,m.node)),l.trackChildChange(ul(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(m.name,be.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return oe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return oe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cl}hasEnd(){return this.endSet_}getIndexEndValue(){return oe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return oe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return oe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tt}copy(){const e=new Zy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function U3(n){return n.loadsAllData()?new Gy(n.getIndex()):n.hasLimit()?new P3(n):new yu(n)}function jw(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Tt?t="$priority":n.index_===D3?t="$value":n.index_===el?t="$key":(oe(n.index_ instanceof k3,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Lt(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Lt(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Lt(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Lt(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Lt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Bw(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Tt&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends XR{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(oe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Uu("p:rest:"),this.listens_={}}listen(e,t,i,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=df.getListenId_(e,i),d={};this.listens_[u]=d;const p=jw(e._queryParams);this.restRequest_(l+".json",p,(m,y)=>{let E=y;if(m===404&&(E=null,m=null),m===null&&this.onDataUpdate_(l,E,!1,i),tl(this.listens_,u)===d){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",a(b,null)}})}unlisten(e,t){const i=df.getListenId_(e,t);delete this.listens_[i]}get(e){const t=jw(e._queryParams),i=e._path.toString(),a=new Cf;return this.restRequest_(i+".json",t,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(t.auth=a.accessToken),l&&l.token&&(t.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gl(t);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=su(d.responseText)}catch{On("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,p)}else d.status!==401&&d.status!==404&&On("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.rootNode_=be.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(){return{value:null,children:new Map}}function uA(n,e,t){if(Le(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=We(e);n.children.has(i)||n.children.set(i,ff());const a=n.children.get(i);e=ct(e),uA(a,e,t)}}function S_(n,e,t){n.value!==null?t(e,n.value):W3(n,(i,a)=>{const l=new at(e.toString()+"/"+i);S_(a,l,t)})}function W3(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&xn(this.last_,(i,a)=>{t[i]=t[i]-a}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=10*1e3,j3=30*1e3,B3=5*60*1e3;class z3{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new F3(e);const i=zw+(j3-zw)*Math.random();eu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;xn(e,(a,l)=>{l>0&&Ls(this.statsToReport_,a)&&(t[a]=l,i=!0)}),i&&this.server_.reportStats(t),eu(this.reportStats_.bind(this),Math.floor(Math.random()*2*B3))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gi||(gi={}));function hA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Jy(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=gi.ACK_USER_WRITE,this.source=hA()}operationForChild(e){if(Le(this.path)){if(this.affectedTree.value!=null)return oe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new at(e));return new pf(Ge(),t,this.revert)}}else return oe(We(this.path)===e,"operationForChild called for unrelated child."),new pf(ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.source=e,this.path=t,this.type=gi.LISTEN_COMPLETE}operationForChild(e){return Le(this.path)?new vu(this.source,Ge()):new vu(this.source,ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=gi.OVERWRITE}operationForChild(e){return Le(this.path)?new ja(this.source,Ge(),this.snap.getImmediateChild(e)):new ja(this.source,ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=gi.MERGE}operationForChild(e){if(Le(this.path)){const t=this.children.subtree(new at(e));return t.isEmpty()?null:t.value?new ja(this.source,Ge(),t.value):new Tu(this.source,Ge(),t)}else return oe(We(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tu(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Le(e))return this.isFullyInitialized()&&!this.filtered_;const t=We(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function q3(n,e,t,i){const a=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(M3(u.childName,u.snapshotNode))}),Fc(n,a,"child_removed",e,i,t),Fc(n,a,"child_added",e,i,t),Fc(n,a,"child_moved",l,i,t),Fc(n,a,"child_changed",e,i,t),Fc(n,a,"value",e,i,t),a}function Fc(n,e,t,i,a,l){const u=i.filter(d=>d.type===t);u.sort((d,p)=>Z3(n,d,p)),u.forEach(d=>{const p=G3(n,d,l);a.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,n.query_))})})}function G3(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function Z3(n,e,t){if(e.childName==null||t.childName==null)throw ml("Should only compare child_ events.");const i=new De(e.childName,e.snapshotNode),a=new De(t.childName,t.snapshotNode);return n.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n,e){return{eventCache:n,serverCache:e}}function tu(n,e,t,i){return Qf(new Wr(e,t,i),n.serverCache)}function dA(n,e,t,i){return Qf(n.eventCache,new Wr(e,t,i))}function mf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ba(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg;const Y3=()=>(Dg||(Dg=new Cn(V9)),Dg);class ut{static fromObject(e){let t=new ut(null);return xn(e,(i,a)=>{t=t.set(new at(i),a)}),t}constructor(e,t=Y3()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ge(),value:this.value};if(Le(e))return null;{const i=We(e),a=this.children.get(i);if(a!==null){const l=a.findRootMostMatchingPathAndValue(ct(e),t);return l!=null?{path:Ft(new at(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Le(e))return this;{const t=We(e),i=this.children.get(t);return i!==null?i.subtree(ct(e)):new ut(null)}}set(e,t){if(Le(e))return new ut(t,this.children);{const i=We(e),l=(this.children.get(i)||new ut(null)).set(ct(e),t),u=this.children.insert(i,l);return new ut(this.value,u)}}remove(e){if(Le(e))return this.children.isEmpty()?new ut(null):new ut(null,this.children);{const t=We(e),i=this.children.get(t);if(i){const a=i.remove(ct(e));let l;return a.isEmpty()?l=this.children.remove(t):l=this.children.insert(t,a),this.value===null&&l.isEmpty()?new ut(null):new ut(this.value,l)}else return this}}get(e){if(Le(e))return this.value;{const t=We(e),i=this.children.get(t);return i?i.get(ct(e)):null}}setTree(e,t){if(Le(e))return t;{const i=We(e),l=(this.children.get(i)||new ut(null)).setTree(ct(e),t);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new ut(this.value,u)}}fold(e){return this.fold_(Ge(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((a,l)=>{i[a]=l.fold_(Ft(e,a),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ge(),t)}findOnPath_(e,t,i){const a=this.value?i(t,this.value):!1;if(a)return a;if(Le(e))return null;{const l=We(e),u=this.children.get(l);return u?u.findOnPath_(ct(e),Ft(t,l),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ge(),t)}foreachOnPath_(e,t,i){if(Le(e))return this;{this.value&&i(t,this.value);const a=We(e),l=this.children.get(a);return l?l.foreachOnPath_(ct(e),Ft(t,a),i):new ut(null)}}foreach(e){this.foreach_(Ge(),e)}foreach_(e,t){this.children.inorderTraversal((i,a)=>{a.foreach_(Ft(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.writeTree_=e}static empty(){return new yi(new ut(null))}}function nu(n,e,t){if(Le(e))return new yi(new ut(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const a=i.path;let l=i.value;const u=wn(a,e);return l=l.updateChild(u,t),new yi(n.writeTree_.set(a,l))}else{const a=new ut(t),l=n.writeTree_.setTree(e,a);return new yi(l)}}}function Hw(n,e,t){let i=n;return xn(t,(a,l)=>{i=nu(i,Ft(e,a),l)}),i}function qw(n,e){if(Le(e))return yi.empty();{const t=n.writeTree_.setTree(e,new ut(null));return new yi(t)}}function I_(n,e){return Ya(n,e)!=null}function Ya(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(wn(t.path,e)):null}function Gw(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Tt,(i,a)=>{e.push(new De(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&e.push(new De(i,a.value))}),e}function Nr(n,e){if(Le(e))return n;{const t=Ya(n,e);return t!=null?new yi(new ut(t)):new yi(n.writeTree_.subtree(e))}}function R_(n){return n.writeTree_.isEmpty()}function hl(n,e){return fA(Ge(),n.writeTree_,e)}function fA(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(oe(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):t=fA(Ft(n,a),l,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(Ft(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n,e){return _A(e,n)}function J3(n,e,t,i,a){oe(i>n.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:a}),a&&(n.visibleWrites=nu(n.visibleWrites,e,t)),n.lastWriteId=i}function Q3(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function X3(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);oe(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let a=i.visible,l=!1,u=n.allWrites.length-1;for(;a&&u>=0;){const d=n.allWrites[u];d.visible&&(u>=t&&K3(d,i.path)?a=!1:mi(i.path,d.path)&&(l=!0)),u--}if(a){if(l)return $3(n),!0;if(i.snap)n.visibleWrites=qw(n.visibleWrites,i.path);else{const d=i.children;xn(d,p=>{n.visibleWrites=qw(n.visibleWrites,Ft(i.path,p))})}return!0}else return!1}function K3(n,e){if(n.snap)return mi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&mi(Ft(n.path,t),e))return!0;return!1}function $3(n){n.visibleWrites=pA(n.allWrites,e6,Ge()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function e6(n){return n.visible}function pA(n,e,t){let i=yi.empty();for(let a=0;a<n.length;++a){const l=n[a];if(e(l)){const u=l.path;let d;if(l.snap)mi(t,u)?(d=wn(t,u),i=nu(i,d,l.snap)):mi(u,t)&&(d=wn(u,t),i=nu(i,Ge(),l.snap.getChild(d)));else if(l.children){if(mi(t,u))d=wn(t,u),i=Hw(i,d,l.children);else if(mi(u,t))if(d=wn(u,t),Le(d))i=Hw(i,Ge(),l.children);else{const p=tl(l.children,We(d));if(p){const m=p.getChild(ct(d));i=nu(i,Ge(),m)}}}else throw ml("WriteRecord should have .snap or .children")}}return i}function mA(n,e,t,i,a){if(!i&&!a){const l=Ya(n.visibleWrites,e);if(l!=null)return l;{const u=Nr(n.visibleWrites,e);if(R_(u))return t;if(t==null&&!I_(u,Ge()))return null;{const d=t||be.EMPTY_NODE;return hl(u,d)}}}else{const l=Nr(n.visibleWrites,e);if(!a&&R_(l))return t;if(!a&&t==null&&!I_(l,Ge()))return null;{const u=function(m){return(m.visible||a)&&(!i||!~i.indexOf(m.writeId))&&(mi(m.path,e)||mi(e,m.path))},d=pA(n.allWrites,u,e),p=t||be.EMPTY_NODE;return hl(d,p)}}}function t6(n,e,t){let i=be.EMPTY_NODE;const a=Ya(n.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Tt,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(t){const l=Nr(n.visibleWrites,e);return t.forEachChild(Tt,(u,d)=>{const p=hl(Nr(l,new at(u)),d);i=i.updateImmediateChild(u,p)}),Gw(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=Nr(n.visibleWrites,e);return Gw(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function n6(n,e,t,i,a){oe(i||a,"Either existingEventSnap or existingServerSnap must exist");const l=Ft(e,t);if(I_(n.visibleWrites,l))return null;{const u=Nr(n.visibleWrites,l);return R_(u)?a.getChild(t):hl(u,a.getChild(t))}}function i6(n,e,t,i){const a=Ft(e,t),l=Ya(n.visibleWrites,a);if(l!=null)return l;if(i.isCompleteForChild(t)){const u=Nr(n.visibleWrites,a);return hl(u,i.getNode().getImmediateChild(t))}else return null}function s6(n,e){return Ya(n.visibleWrites,e)}function r6(n,e,t,i,a,l,u){let d;const p=Nr(n.visibleWrites,e),m=Ya(p,Ge());if(m!=null)d=m;else if(t!=null)d=hl(p,t);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const y=[],E=u.getCompare(),b=l?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let R=b.getNext();for(;R&&y.length<a;)E(R,i)!==0&&y.push(R),R=b.getNext();return y}else return[]}function a6(){return{visibleWrites:yi.empty(),allWrites:[],lastWriteId:-1}}function gf(n,e,t,i){return mA(n.writeTree,n.treePath,e,t,i)}function Qy(n,e){return t6(n.writeTree,n.treePath,e)}function Zw(n,e,t,i){return n6(n.writeTree,n.treePath,e,t,i)}function _f(n,e){return s6(n.writeTree,Ft(n.treePath,e))}function o6(n,e,t,i,a,l){return r6(n.writeTree,n.treePath,e,t,i,a,l)}function Xy(n,e,t){return i6(n.writeTree,n.treePath,e,t)}function gA(n,e){return _A(Ft(n.treePath,e),n.writeTree)}function _A(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;oe(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),oe(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const l=a.type;if(t==="child_added"&&l==="child_removed")this.changeMap.set(i,_u(i,e.snapshotNode,a.snapshotNode));else if(t==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&l==="child_changed")this.changeMap.set(i,gu(i,a.oldSnap));else if(t==="child_changed"&&l==="child_added")this.changeMap.set(i,ul(i,e.snapshotNode));else if(t==="child_changed"&&l==="child_changed")this.changeMap.set(i,_u(i,e.snapshotNode,a.oldSnap));else throw ml("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const yA=new c6;class Ky{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Wr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xy(this.writes_,e,i)}}getChildAfterChild(e,t,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ba(this.viewCache_),l=o6(this.writes_,a,t,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(n){return{filter:n}}function h6(n,e){oe(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),oe(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function d6(n,e,t,i,a){const l=new l6;let u,d;if(t.type===gi.OVERWRITE){const m=t;m.source.fromUser?u=A_(n,e,m.path,m.snap,i,a,l):(oe(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!Le(m.path),u=yf(n,e,m.path,m.snap,i,a,d,l))}else if(t.type===gi.MERGE){const m=t;m.source.fromUser?u=p6(n,e,m.path,m.children,i,a,l):(oe(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),u=C_(n,e,m.path,m.children,i,a,d,l))}else if(t.type===gi.ACK_USER_WRITE){const m=t;m.revert?u=_6(n,e,m.path,i,a,l):u=m6(n,e,m.path,m.affectedTree,i,a,l)}else if(t.type===gi.LISTEN_COMPLETE)u=g6(n,e,t.path,i,l);else throw ml("Unknown operation type: "+t.type);const p=l.getChanges();return f6(e,u,p),{viewCache:u,changes:p}}function f6(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=mf(n);(t.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&t.push(cA(mf(e)))}}function vA(n,e,t,i,a,l){const u=e.eventCache;if(_f(i,t)!=null)return e;{let d,p;if(Le(t))if(oe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Ba(e),y=m instanceof be?m:be.EMPTY_NODE,E=Qy(i,y);d=n.filter.updateFullNode(e.eventCache.getNode(),E,l)}else{const m=gf(i,Ba(e));d=n.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=We(t);if(m===".priority"){oe(Lr(t)===1,"Can't have a priority with additional path components");const y=u.getNode();p=e.serverCache.getNode();const E=Zw(i,t,y,p);E!=null?d=n.filter.updatePriority(y,E):d=u.getNode()}else{const y=ct(t);let E;if(u.isCompleteForChild(m)){p=e.serverCache.getNode();const b=Zw(i,t,u.getNode(),p);b!=null?E=u.getNode().getImmediateChild(m).updateChild(y,b):E=u.getNode().getImmediateChild(m)}else E=Xy(i,m,e.serverCache);E!=null?d=n.filter.updateChild(u.getNode(),m,E,y,a,l):d=u.getNode()}}return tu(e,d,u.isFullyInitialized()||Le(t),n.filter.filtersNodes())}}function yf(n,e,t,i,a,l,u,d){const p=e.serverCache;let m;const y=u?n.filter:n.filter.getIndexedFilter();if(Le(t))m=y.updateFullNode(p.getNode(),i,null);else if(y.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(t,i);m=y.updateFullNode(p.getNode(),R,null)}else{const R=We(t);if(!p.isCompleteForPath(t)&&Lr(t)>1)return e;const N=ct(t),H=p.getNode().getImmediateChild(R).updateChild(N,i);R===".priority"?m=y.updatePriority(p.getNode(),H):m=y.updateChild(p.getNode(),R,H,N,yA,null)}const E=dA(e,m,p.isFullyInitialized()||Le(t),y.filtersNodes()),b=new Ky(a,E,l);return vA(n,E,t,a,b,d)}function A_(n,e,t,i,a,l,u){const d=e.eventCache;let p,m;const y=new Ky(a,e,l);if(Le(t))m=n.filter.updateFullNode(e.eventCache.getNode(),i,u),p=tu(e,m,!0,n.filter.filtersNodes());else{const E=We(t);if(E===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),i),p=tu(e,m,d.isFullyInitialized(),d.isFiltered());else{const b=ct(t),R=d.getNode().getImmediateChild(E);let N;if(Le(b))N=i;else{const z=y.getCompleteChild(E);z!=null?$R(b)===".priority"&&z.getChild(tA(b)).isEmpty()?N=z:N=z.updateChild(b,i):N=be.EMPTY_NODE}if(R.equals(N))p=e;else{const z=n.filter.updateChild(d.getNode(),E,N,b,y,u);p=tu(e,z,d.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function Yw(n,e){return n.eventCache.isCompleteForChild(e)}function p6(n,e,t,i,a,l,u){let d=e;return i.foreach((p,m)=>{const y=Ft(t,p);Yw(e,We(y))&&(d=A_(n,d,y,m,a,l,u))}),i.foreach((p,m)=>{const y=Ft(t,p);Yw(e,We(y))||(d=A_(n,d,y,m,a,l,u))}),d}function Jw(n,e,t){return t.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function C_(n,e,t,i,a,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;Le(t)?m=i:m=new ut(null).setTree(t,i);const y=e.serverCache.getNode();return m.children.inorderTraversal((E,b)=>{if(y.hasChild(E)){const R=e.serverCache.getNode().getImmediateChild(E),N=Jw(n,R,b);p=yf(n,p,new at(E),N,a,l,u,d)}}),m.children.inorderTraversal((E,b)=>{const R=!e.serverCache.isCompleteForChild(E)&&b.value===null;if(!y.hasChild(E)&&!R){const N=e.serverCache.getNode().getImmediateChild(E),z=Jw(n,N,b);p=yf(n,p,new at(E),z,a,l,u,d)}}),p}function m6(n,e,t,i,a,l,u){if(_f(a,t)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(i.value!=null){if(Le(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return yf(n,e,t,p.getNode().getChild(t),a,l,d,u);if(Le(t)){let m=new ut(null);return p.getNode().forEachChild(el,(y,E)=>{m=m.set(new at(y),E)}),C_(n,e,t,m,a,l,d,u)}else return e}else{let m=new ut(null);return i.foreach((y,E)=>{const b=Ft(t,y);p.isCompleteForPath(b)&&(m=m.set(y,p.getNode().getChild(b)))}),C_(n,e,t,m,a,l,d,u)}}function g6(n,e,t,i,a){const l=e.serverCache,u=dA(e,l.getNode(),l.isFullyInitialized()||Le(t),l.isFiltered());return vA(n,u,t,i,yA,a)}function _6(n,e,t,i,a,l){let u;if(_f(i,t)!=null)return e;{const d=new Ky(i,e,a),p=e.eventCache.getNode();let m;if(Le(t)||We(t)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=gf(i,Ba(e));else{const E=e.serverCache.getNode();oe(E instanceof be,"serverChildren would be complete if leaf node"),y=Qy(i,E)}y=y,m=n.filter.updateFullNode(p,y,l)}else{const y=We(t);let E=Xy(i,y,e.serverCache);E==null&&e.serverCache.isCompleteForChild(y)&&(E=p.getImmediateChild(y)),E!=null?m=n.filter.updateChild(p,y,E,ct(t),d,l):e.eventCache.getNode().hasChild(y)?m=n.filter.updateChild(p,y,be.EMPTY_NODE,ct(t),d,l):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=gf(i,Ba(e)),u.isLeafNode()&&(m=n.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||_f(i,Ge())!=null,tu(e,m,u,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new Gy(i.getIndex()),l=U3(i);this.processor_=u6(l);const u=t.serverCache,d=t.eventCache,p=a.updateFullNode(be.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(be.EMPTY_NODE,d.getNode(),null),y=new Wr(p,u.isFullyInitialized(),a.filtersNodes()),E=new Wr(m,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=Qf(E,y),this.eventGenerator_=new H3(this.query_)}get query(){return this.query_}}function v6(n){return n.viewCache_.serverCache.getNode()}function T6(n){return mf(n.viewCache_)}function E6(n,e){const t=Ba(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Le(e)&&!t.getImmediateChild(We(e)).isEmpty())?t.getChild(e):null}function Qw(n){return n.eventRegistrations_.length===0}function b6(n,e){n.eventRegistrations_.push(e)}function Xw(n,e,t){const i=[];if(t){oe(e==null,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(t,a);u&&i.push(u)})}if(e){let a=[];for(let l=0;l<n.eventRegistrations_.length;++l){const u=n.eventRegistrations_[l];if(!u.matches(e))a.push(u);else if(e.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(l+1));break}}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function Kw(n,e,t,i){e.type===gi.MERGE&&e.source.queryId!==null&&(oe(Ba(n.viewCache_),"We should always have a full cache before handling merges"),oe(mf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,l=d6(n.processor_,a,e,t,i);return h6(n.processor_,l.viewCache),oe(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,TA(n,l.changes,l.viewCache.eventCache.getNode(),null)}function w6(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Tt,(l,u)=>{i.push(ul(l,u))}),t.isFullyInitialized()&&i.push(cA(t.getNode())),TA(n,i,t.getNode(),e)}function TA(n,e,t,i){const a=i?[i]:n.eventRegistrations_;return q3(n.eventGenerator_,e,t,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;class EA{constructor(){this.views=new Map}}function S6(n){oe(!vf,"__referenceConstructor has already been defined"),vf=n}function I6(){return oe(vf,"Reference.ts has not been loaded"),vf}function R6(n){return n.views.size===0}function $y(n,e,t,i){const a=e.source.queryId;if(a!==null){const l=n.views.get(a);return oe(l!=null,"SyncTree gave us an op for an invalid query."),Kw(l,e,t,i)}else{let l=[];for(const u of n.views.values())l=l.concat(Kw(u,e,t,i));return l}}function bA(n,e,t,i,a){const l=e._queryIdentifier,u=n.views.get(l);if(!u){let d=gf(t,a?i:null),p=!1;d?p=!0:i instanceof be?(d=Qy(t,i),p=!1):(d=be.EMPTY_NODE,p=!1);const m=Qf(new Wr(d,p,!1),new Wr(i,a,!1));return new y6(e,m)}return u}function A6(n,e,t,i,a,l){const u=bA(n,e,i,a,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),b6(u,t),w6(u,t)}function C6(n,e,t,i){const a=e._queryIdentifier,l=[];let u=[];const d=Fr(n);if(a==="default")for(const[p,m]of n.views.entries())u=u.concat(Xw(m,t,i)),Qw(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||l.push(m.query));else{const p=n.views.get(a);p&&(u=u.concat(Xw(p,t,i)),Qw(p)&&(n.views.delete(a),p.query._queryParams.loadsAllData()||l.push(p.query)))}return d&&!Fr(n)&&l.push(new(I6())(e._repo,e._path)),{removed:l,events:u}}function wA(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Or(n,e){let t=null;for(const i of n.views.values())t=t||E6(i,e);return t}function SA(n,e){if(e._queryParams.loadsAllData())return Kf(n);{const i=e._queryIdentifier;return n.views.get(i)}}function IA(n,e){return SA(n,e)!=null}function Fr(n){return Kf(n)!=null}function Kf(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf;function N6(n){oe(!Tf,"__referenceConstructor has already been defined"),Tf=n}function O6(){return oe(Tf,"Reference.ts has not been loaded"),Tf}let x6=1;class $w{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ut(null),this.pendingWriteTree_=a6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function RA(n,e,t,i,a){return J3(n.pendingWriteTree_,e,t,i,a),a?Fu(n,new ja(hA(),e,t)):[]}function ka(n,e,t=!1){const i=Q3(n.pendingWriteTree_,e);if(X3(n.pendingWriteTree_,e)){let l=new ut(null);return i.snap!=null?l=l.set(Ge(),!0):xn(i.children,u=>{l=l.set(new at(u),!0)}),Fu(n,new pf(i.path,l,t))}else return[]}function Wu(n,e,t){return Fu(n,new ja(Yy(),e,t))}function k6(n,e,t){const i=ut.fromObject(t);return Fu(n,new Tu(Yy(),e,i))}function V6(n,e){return Fu(n,new vu(Yy(),e))}function D6(n,e,t){const i=tv(n,t);if(i){const a=nv(i),l=a.path,u=a.queryId,d=wn(l,e),p=new vu(Jy(u),d);return iv(n,l,p)}else return[]}function AA(n,e,t,i,a=!1){const l=e._path,u=n.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||IA(u,e))){const p=C6(u,e,t,i);R6(u)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const m=p.removed;if(d=p.events,!a){const y=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,E=n.syncPointTree_.findOnPath(l,(b,R)=>Fr(R));if(y&&!E){const b=n.syncPointTree_.subtree(l);if(!b.isEmpty()){const R=L6(b);for(let N=0;N<R.length;++N){const z=R[N],H=z.query,Q=xA(n,z);n.listenProvider_.startListening(iu(H),Eu(n,H),Q.hashFn,Q.onComplete)}}}!E&&m.length>0&&!i&&(y?n.listenProvider_.stopListening(iu(e),null):m.forEach(b=>{const R=n.queryToTagMap.get($f(b));n.listenProvider_.stopListening(iu(b),R)}))}W6(n,m)}return d}function CA(n,e,t,i){const a=tv(n,i);if(a!=null){const l=nv(a),u=l.path,d=l.queryId,p=wn(u,e),m=new ja(Jy(d),p,t);return iv(n,u,m)}else return[]}function M6(n,e,t,i){const a=tv(n,i);if(a){const l=nv(a),u=l.path,d=l.queryId,p=wn(u,e),m=ut.fromObject(t),y=new Tu(Jy(d),p,m);return iv(n,u,y)}else return[]}function P6(n,e,t,i=!1){const a=e._path;let l=null,u=!1;n.syncPointTree_.foreachOnPath(a,(b,R)=>{const N=wn(b,a);l=l||Or(R,N),u=u||Fr(R)});let d=n.syncPointTree_.get(a);d?(u=u||Fr(d),l=l||Or(d,Ge())):(d=new EA,n.syncPointTree_=n.syncPointTree_.set(a,d));let p;l!=null?p=!0:(p=!1,l=be.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((R,N)=>{const z=Or(N,Ge());z&&(l=l.updateImmediateChild(R,z))}));const m=IA(d,e);if(!m&&!e._queryParams.loadsAllData()){const b=$f(e);oe(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const R=F6();n.queryToTagMap.set(b,R),n.tagToQueryMap.set(R,b)}const y=Xf(n.pendingWriteTree_,a);let E=A6(d,e,t,y,l,p);if(!m&&!u&&!i){const b=SA(d,e);E=E.concat(j6(n,e,b))}return E}function ev(n,e,t){const a=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(u,d)=>{const p=wn(u,e),m=Or(d,p);if(m)return m});return mA(a,e,l,t,!0)}function U6(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(m,y)=>{const E=wn(m,t);i=i||Or(y,E)});let a=n.syncPointTree_.get(t);a?i=i||Or(a,Ge()):(a=new EA,n.syncPointTree_=n.syncPointTree_.set(t,a));const l=i!=null,u=l?new Wr(i,!0,!1):null,d=Xf(n.pendingWriteTree_,e._path),p=bA(a,e,d,l?u.getNode():be.EMPTY_NODE,l);return T6(p)}function Fu(n,e){return NA(e,n.syncPointTree_,null,Xf(n.pendingWriteTree_,Ge()))}function NA(n,e,t,i){if(Le(n.path))return OA(n,e,t,i);{const a=e.get(Ge());t==null&&a!=null&&(t=Or(a,Ge()));let l=[];const u=We(n.path),d=n.operationForChild(u),p=e.children.get(u);if(p&&d){const m=t?t.getImmediateChild(u):null,y=gA(i,u);l=l.concat(NA(d,p,m,y))}return a&&(l=l.concat($y(a,n,i,t))),l}}function OA(n,e,t,i){const a=e.get(Ge());t==null&&a!=null&&(t=Or(a,Ge()));let l=[];return e.children.inorderTraversal((u,d)=>{const p=t?t.getImmediateChild(u):null,m=gA(i,u),y=n.operationForChild(u);y&&(l=l.concat(OA(y,d,p,m)))}),a&&(l=l.concat($y(a,n,i,t))),l}function xA(n,e){const t=e.query,i=Eu(n,t);return{hashFn:()=>(v6(e)||be.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?D6(n,t._path,i):V6(n,t._path);{const l=P9(a,t);return AA(n,t,null,l)}}}}function Eu(n,e){const t=$f(e);return n.queryToTagMap.get(t)}function $f(n){return n._path.toString()+"$"+n._queryIdentifier}function tv(n,e){return n.tagToQueryMap.get(e)}function nv(n){const e=n.indexOf("$");return oe(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new at(n.substr(0,e))}}function iv(n,e,t){const i=n.syncPointTree_.get(e);oe(i,"Missing sync point for query tag that we're tracking");const a=Xf(n.pendingWriteTree_,e);return $y(i,t,a,null)}function L6(n){return n.fold((e,t,i)=>{if(t&&Fr(t))return[Kf(t)];{let a=[];return t&&(a=wA(t)),xn(i,(l,u)=>{a=a.concat(u)}),a}})}function iu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(O6())(n._repo,n._path):n}function W6(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const a=$f(i),l=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(l)}}}function F6(){return x6++}function j6(n,e,t){const i=e._path,a=Eu(n,e),l=xA(n,t),u=n.listenProvider_.startListening(iu(e),a,l.hashFn,l.onComplete),d=n.syncPointTree_.subtree(i);if(a)oe(!Fr(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,y,E)=>{if(!Le(m)&&y&&Fr(y))return[Kf(y).query];{let b=[];return y&&(b=b.concat(wA(y).map(R=>R.query))),xn(E,(R,N)=>{b=b.concat(N)}),b}});for(let m=0;m<p.length;++m){const y=p[m];n.listenProvider_.stopListening(iu(y),Eu(n,y))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new sv(t)}node(){return this.node_}}class rv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ft(this.path_,e);return new rv(this.syncTree_,t)}node(){return ev(this.syncTree_,this.path_)}}const B6=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},e1=function(n,e,t){if(!n||typeof n!="object")return n;if(oe(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return z6(n[".sv"],e,t);if(typeof n[".sv"]=="object")return H6(n[".sv"],e);oe(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},z6=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:oe(!1,"Unexpected server value: "+n)}},H6=function(n,e,t){n.hasOwnProperty("increment")||oe(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&oe(!1,"Unexpected increment value: "+i);const a=e.node();if(oe(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const u=a.getValue();return typeof u!="number"?i:u+i},q6=function(n,e,t,i){return av(e,new rv(t,n),i)},kA=function(n,e,t){return av(n,new sv(e),t)};function av(n,e,t){const i=n.getPriority().val(),a=e1(i,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const u=n,d=e1(u.getValue(),e,t);return d!==u.getValue()||a!==u.getPriority().val()?new Qt(d,$t(a)):n}else{const u=n;return l=u,a!==u.getPriority().val()&&(l=l.updatePriority(new Qt(a))),u.forEachChild(Tt,(d,p)=>{const m=av(p,e.getImmediateChild(d),t);m!==p&&(l=l.updateImmediateChild(d,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function lv(n,e){let t=e instanceof at?e:new at(e),i=n,a=We(t);for(;a!==null;){const l=tl(i.node.children,a)||{children:{},childCount:0};i=new ov(a,i,l),t=ct(t),a=We(t)}return i}function Sl(n){return n.node.value}function VA(n,e){n.node.value=e,N_(n)}function DA(n){return n.node.childCount>0}function G6(n){return Sl(n)===void 0&&!DA(n)}function ep(n,e){xn(n.node.children,(t,i)=>{e(new ov(t,n,i))})}function MA(n,e,t,i){t&&e(n),ep(n,a=>{MA(a,e,!0)})}function Z6(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ju(n){return new at(n.parent===null?n.name:ju(n.parent)+"/"+n.name)}function N_(n){n.parent!==null&&Y6(n.parent,n.name,n)}function Y6(n,e,t){const i=G6(t),a=Ls(n.node.children,e);i&&a?(delete n.node.children[e],n.node.childCount--,N_(n)):!i&&!a&&(n.node.children[e]=t.node,n.node.childCount++,N_(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=/[\[\].#$\/\u0000-\u001F\u007F]/,Q6=/[\[\].#$\u0000-\u001F\u007F]/,Mg=10*1024*1024,PA=function(n){return typeof n=="string"&&n.length!==0&&!J6.test(n)},UA=function(n){return typeof n=="string"&&n.length!==0&&!Q6.test(n)},X6=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UA(n)},K6=function(n,e,t,i){cv(q_(n,"value"),e,t)},cv=function(n,e,t){const i=t instanceof at?new m3(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Ca(i));if(typeof e=="function")throw new Error(n+"contains a function "+Ca(i)+" with contents = "+e.toString());if(kR(e))throw new Error(n+"contains "+e.toString()+" "+Ca(i));if(typeof e=="string"&&e.length>Mg/3&&xf(e)>Mg)throw new Error(n+"contains a string greater than "+Mg+" utf8 bytes "+Ca(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(xn(e,(u,d)=>{if(u===".value")a=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!PA(u)))throw new Error(n+" contains an invalid key ("+u+") "+Ca(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);g3(i,u),cv(n,d,i),_3(i)}),a&&l)throw new Error(n+' contains ".value" child '+Ca(i)+" in addition to actual children.")}},LA=function(n,e,t,i){if(!UA(t))throw new Error(q_(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$6=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),LA(n,e,t)},eU=function(n,e){if(We(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},tU=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!PA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!X6(t))throw new Error(q_(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function WA(n,e){let t=null;for(let i=0;i<e.length;i++){const a=e[i],l=a.getPath();t!==null&&!nA(l,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:l}),t.events.push(a)}t&&n.eventLists_.push(t)}function Zi(n,e,t){WA(n,t),iU(n,i=>mi(i,e)||mi(e,i))}function iU(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];if(a){const l=a.path;e(l)?(sU(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function sU(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();$c&&mn("event: "+t.toString()),wl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="repo_interrupt",aU=25;class oU{constructor(e,t,i,a){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ff(),this.transactionQueueTree_=new ov,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lU(n,e,t){if(n.stats_=By(n.repoInfo_),n.forceRestClient_||F9())n.server_=new df(n.repoInfo_,(i,a,l,u)=>{t1(n,i,a,l,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>n1(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Lt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Os(n.repoInfo_,e,(i,a,l,u)=>{t1(n,i,a,l,u)},i=>{n1(n,i)},i=>{uU(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=q9(n.repoInfo_,()=>new z3(n.stats_,n.server_)),n.infoData_=new L3,n.infoSyncTree_=new $w({startListening:(i,a,l,u)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=Wu(n.infoSyncTree_,i._path,p),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),hv(n,"connected",!1),n.serverSyncTree_=new $w({startListening:(i,a,l,u)=>(n.server_.listen(i,l,a,(d,p)=>{const m=u(d,p);Zi(n.eventQueue_,i._path,m)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}function cU(n){const t=n.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function uv(n){return B6({timestamp:cU(n)})}function t1(n,e,t,i,a){n.dataUpdateCount++;const l=new at(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(a)if(i){const p=Wd(t,m=>$t(m));u=M6(n.serverSyncTree_,l,p,a)}else{const p=$t(t);u=CA(n.serverSyncTree_,l,p,a)}else if(i){const p=Wd(t,m=>$t(m));u=k6(n.serverSyncTree_,l,p)}else{const p=$t(t);u=Wu(n.serverSyncTree_,l,p)}let d=l;u.length>0&&(d=np(n,l)),Zi(n.eventQueue_,d,u)}function n1(n,e){hv(n,"connected",e),e===!1&&fU(n)}function uU(n,e){xn(e,(t,i)=>{hv(n,t,i)})}function hv(n,e,t){const i=new at("/.info/"+e),a=$t(t);n.infoData_.updateSnapshot(i,a);const l=Wu(n.infoSyncTree_,i,a);Zi(n.eventQueue_,i,l)}function FA(n){return n.nextWriteId_++}function hU(n,e,t){const i=U6(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(a=>{const l=$t(a).withIndex(e._queryParams.getIndex());P6(n.serverSyncTree_,e,t,!0);let u;if(e._queryParams.loadsAllData())u=Wu(n.serverSyncTree_,e._path,l);else{const d=Eu(n.serverSyncTree_,e);u=CA(n.serverSyncTree_,e._path,l,d)}return Zi(n.eventQueue_,e._path,u),AA(n.serverSyncTree_,e,t,null,!0),l},a=>(tp(n,"get for query "+Lt(e)+" failed: "+a),Promise.reject(new Error(a))))}function dU(n,e,t,i,a){tp(n,"set",{path:e.toString(),value:t,priority:i});const l=uv(n),u=$t(t,i),d=ev(n.serverSyncTree_,e),p=kA(u,d,l),m=FA(n),y=RA(n.serverSyncTree_,e,p,m,!0);WA(n.eventQueue_,y),n.server_.put(e.toString(),u.val(!0),(b,R)=>{const N=b==="ok";N||On("set at "+e+" failed: "+b);const z=ka(n.serverSyncTree_,m,!N);Zi(n.eventQueue_,e,z),mU(n,a,b,R)});const E=qA(n,e);np(n,E),Zi(n.eventQueue_,E,[])}function fU(n){tp(n,"onDisconnectEvents");const e=uv(n),t=ff();S_(n.onDisconnect_,Ge(),(a,l)=>{const u=q6(a,l,n.serverSyncTree_,e);uA(t,a,u)});let i=[];S_(t,Ge(),(a,l)=>{i=i.concat(Wu(n.serverSyncTree_,a,l));const u=qA(n,a);np(n,u)}),n.onDisconnect_=ff(),Zi(n.eventQueue_,Ge(),i)}function pU(n){n.persistentConnection_&&n.persistentConnection_.interrupt(rU)}function tp(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),mn(t,...e)}function mU(n,e,t,i){e&&wl(()=>{if(t==="ok")e(null);else{const a=(t||"error").toUpperCase();let l=a;i&&(l+=": "+i);const u=new Error(l);u.code=a,e(u)}})}function jA(n,e,t){return ev(n.serverSyncTree_,e,t)||be.EMPTY_NODE}function dv(n,e=n.transactionQueueTree_){if(e||ip(n,e),Sl(e)){const t=zA(n,e);oe(t.length>0,"Sending zero length transaction queue"),t.every(a=>a.status===0)&&gU(n,ju(e),t)}else DA(e)&&ep(e,t=>{dv(n,t)})}function gU(n,e,t){const i=t.map(m=>m.currentWriteId),a=jA(n,e,i);let l=a;const u=a.hash();for(let m=0;m<t.length;m++){const y=t[m];oe(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const E=wn(e,y.path);l=l.updateChild(E,y.currentOutputSnapshotRaw)}const d=l.val(!0),p=e;n.server_.put(p.toString(),d,m=>{tp(n,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const E=[];for(let b=0;b<t.length;b++)t[b].status=2,y=y.concat(ka(n.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&E.push(()=>t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)),t[b].unwatcher();ip(n,lv(n.transactionQueueTree_,e)),dv(n,n.transactionQueueTree_),Zi(n.eventQueue_,e,y);for(let b=0;b<E.length;b++)wl(E[b])}else{if(m==="datastale")for(let E=0;E<t.length;E++)t[E].status===3?t[E].status=4:t[E].status=0;else{On("transaction at "+p.toString()+" failed: "+m);for(let E=0;E<t.length;E++)t[E].status=4,t[E].abortReason=m}np(n,e)}},u)}function np(n,e){const t=BA(n,e),i=ju(t),a=zA(n,t);return _U(n,a,i),i}function _U(n,e,t){if(e.length===0)return;const i=[];let a=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=wn(t,p.path);let y=!1,E;if(oe(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,E=p.abortReason,a=a.concat(ka(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=aU)y=!0,E="maxretry",a=a.concat(ka(n.serverSyncTree_,p.currentWriteId,!0));else{const b=jA(n,p.path,u);p.currentInputSnapshot=b;const R=e[d].update(b.val());if(R!==void 0){cv("transaction failed: Data returned ",R,p.path);let N=$t(R);typeof R=="object"&&R!=null&&Ls(R,".priority")||(N=N.updatePriority(b.getPriority()));const H=p.currentWriteId,Q=uv(n),X=kA(N,b,Q);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=X,p.currentWriteId=FA(n),u.splice(u.indexOf(H),1),a=a.concat(RA(n.serverSyncTree_,p.path,X,p.currentWriteId,p.applyLocally)),a=a.concat(ka(n.serverSyncTree_,H,!0))}else y=!0,E="nodata",a=a.concat(ka(n.serverSyncTree_,p.currentWriteId,!0))}Zi(n.eventQueue_,t,a),a=[],y&&(e[d].status=2,function(b){setTimeout(b,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(E==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(E),!1,null))))}ip(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)wl(i[d]);dv(n,n.transactionQueueTree_)}function BA(n,e){let t,i=n.transactionQueueTree_;for(t=We(e);t!==null&&Sl(i)===void 0;)i=lv(i,t),e=ct(e),t=We(e);return i}function zA(n,e){const t=[];return HA(n,e,t),t.sort((i,a)=>i.order-a.order),t}function HA(n,e,t){const i=Sl(e);if(i)for(let a=0;a<i.length;a++)t.push(i[a]);ep(e,a=>{HA(n,a,t)})}function ip(n,e){const t=Sl(e);if(t){let i=0;for(let a=0;a<t.length;a++)t[a].status!==2&&(t[i]=t[a],i++);t.length=i,VA(e,t.length>0?t:void 0)}ep(e,i=>{ip(n,i)})}function qA(n,e){const t=ju(BA(n,e)),i=lv(n.transactionQueueTree_,e);return Z6(i,a=>{Pg(n,a)}),Pg(n,i),MA(i,a=>{Pg(n,a)}),t}function Pg(n,e){const t=Sl(e);if(t){const i=[];let a=[],l=-1;for(let u=0;u<t.length;u++)t[u].status===3||(t[u].status===1?(oe(l===u-1,"All SENT items should be at beginning of queue."),l=u,t[u].status=3,t[u].abortReason="set"):(oe(t[u].status===0,"Unexpected transaction status in abort"),t[u].unwatcher(),a=a.concat(ka(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?VA(e,void 0):t.length=l+1,Zi(n.eventQueue_,ju(e),a);for(let u=0;u<i.length;u++)wl(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let a=t[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function vU(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):On(`Invalid query segment '${t}' in query '${n}'`)}return e}const i1=function(n,e){const t=TU(n),i=t.namespace;t.domain==="firebase.com"&&Ps(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Ps("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||x9();const a=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new HR(t.host,t.secure,i,a,e,"",i!==t.subdomain),path:new at(t.pathString)}},TU=function(n){let e="",t="",i="",a="",l="",u=!0,d="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(d=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");y===-1&&(y=n.length);let E=n.indexOf("?");E===-1&&(E=n.length),e=n.substring(0,Math.min(y,E)),y<E&&(a=yU(n.substring(y,E)));const b=vU(n.substring(Math.min(n.length,E)));m=e.indexOf(":"),m>=0?(u=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const R=e.slice(0,m);if(R.toLowerCase()==="localhost")t="localhost";else if(R.split(".").length<=2)t=R;else{const N=e.indexOf(".");i=e.substring(0,N).toLowerCase(),t=e.substring(N+1),l=i}"ns"in b&&(l=b.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:u,scheme:d,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,t,i,a){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Lt(this.snapshot.exportVal())}}class bU{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return oe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t,i,a){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=a}get key(){return Le(this._path)?null:$R(this._path)}get ref(){return new js(this._repo,this._path)}get _queryIdentifier(){const e=Bw(this._queryParams),t=Fy(e);return t==="{}"?"default":t}get _queryObject(){return Bw(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof fv))return!1;const t=this._repo===e._repo,i=nA(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return t&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+p3(this._path)}}class js extends fv{constructor(e,t){super(e,t,new Zy,!1)}get parent(){const e=tA(this._path);return e===null?null:new js(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bu{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new at(e),i=O_(this.ref,e);return new bu(this._node.getChild(t),i,Tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>e(new bu(a,O_(this.ref,i),Tt)))}hasChild(e){const t=new at(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function GA(n,e){return n=ft(n),n._checkNotDeleted("ref"),e!==void 0?O_(n._root,e):n._root}function O_(n,e){return n=ft(n),We(n._path)===null?$6("child","path",e):LA("child","path",e),new js(n._repo,Ft(n._path,e))}function SU(n,e){n=ft(n),eU("set",n._path),K6("set",e,n._path);const t=new Cf;return dU(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function IU(n){n=ft(n);const e=new wU(()=>{}),t=new pv(e);return hU(n._repo,n,t).then(i=>new bu(i,new js(n._repo,n._path),n._queryParams.getIndex()))}class pv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new EU("value",this,new bu(e.snapshotNode,new js(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new bU(this,e,t):null}matches(e){return e instanceof pv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}S6(js);N6(js);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="FIREBASE_DATABASE_EMULATOR_HOST",x_={};let AU=!1;function CU(n,e,t,i){const a=e.lastIndexOf(":"),l=e.substring(0,a),u=Us(l);n.repoInfo_=new HR(e,u,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function NU(n,e,t,i,a){let l=i||n.options.databaseURL;l===void 0&&(n.options.projectId||Ps("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mn("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=i1(l,a),d=u.repoInfo,p;typeof process<"u"&&Sw&&(p=Sw[RU]),p?(l=`http://${p}?ns=${d.namespace}`,u=i1(l,a),d=u.repoInfo):u.repoInfo.secure;const m=new B9(n.name,n.options,e);tU("Invalid Firebase Database URL",u),Le(u.path)||Ps("Database URL must point to the root of a Firebase Database (not including a child path).");const y=xU(d,n,m,new j9(n,t));return new kU(y,n)}function OU(n,e){const t=x_[e];(!t||t[n.key]!==n)&&Ps(`Database ${e}(${n.repoInfo_}) has already been deleted.`),pU(n),delete t[n.key]}function xU(n,e,t,i){let a=x_[e.name];a||(a={},x_[e.name]=a);let l=a[n.toURLString()];return l&&Ps("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new oU(n,AU,t,i),a[n.toURLString()]=l,l}class kU{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new js(this._repo,Ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(OU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ps("Cannot call "+e+" on a deleted database.")}}function VU(n=Au(),e){const t=Ws(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=B_("database");i&&DU(t,...i)}return t}function DU(n,e,t,i={}){n=ft(n),n._checkNotDeleted("useEmulator");const a=`${e}:${t}`,l=n._repoInternal;if(n._instanceStarted){if(a===n._repoInternal.repoInfo_.host&&xs(i,l.repoInfo_.emulatorOptions))return;Ps("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Ps('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Md(Md.OWNER);else if(i.mockUserToken){const d=typeof i.mockUserToken=="string"?i.mockUserToken:z_(i.mockUserToken,n.app.options.projectId);u=new Md(d)}Us(e)&&(Nf(e),Of("Database",!0)),CU(l,a,i,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(n){I9(Br),si(new Bn("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return NU(i,a,l,t)},"PUBLIC").setMultipleInstances(!0)),gn(Iw,Rw,n),gn(Iw,Rw,"esm2017")}Os.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Os.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};MU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebasestorage.googleapis.com",PU="storageBucket",UU=2*60*1e3,LU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends ri{constructor(e,t,i=0){super(Ug(e),`Firebase Storage: ${t} (${Ug(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ug(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yi||(Yi={}));function Ug(n){return"storage/"+n}function WU(){const n="An unknown error occurred, please check the error payload for server response.";return new Xi(Yi.UNKNOWN,n)}function FU(){return new Xi(Yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jU(){return new Xi(Yi.CANCELED,"User canceled the upload/download.")}function BU(n){return new Xi(Yi.INVALID_URL,"Invalid URL '"+n+"'.")}function zU(n){return new Xi(Yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function s1(n){return new Xi(Yi.INVALID_ARGUMENT,n)}function YA(){return new Xi(Yi.APP_DELETED,"The Firebase app was deleted.")}function HU(n){return new Xi(Yi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=_i.makeFromUrl(e,t)}catch{return new _i(e,"")}if(i.path==="")return i;throw zU(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+a+u,"i"),p={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const y="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${y}/b/${a}/o${b}`,"i"),N={bucket:1,path:3},z=t===ZA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,H="([^?#]*)",Q=new RegExp(`^https?://${z}/${a}/${H}`,"i"),ne=[{regex:d,indices:p,postModify:l},{regex:R,indices:N,postModify:m},{regex:Q,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<ne.length;re++){const ue=ne[re],ve=ue.regex.exec(e);if(ve){const M=ve[ue.indices.bucket];let A=ve[ue.indices.path];A||(A=""),i=new _i(M,A),ue.postModify(i);break}}if(i==null)throw BU(e);return i}}class qU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(n,e,t){let i=1,a=null,l=null,u=!1,d=0;function p(){return d===2}let m=!1;function y(...H){m||(m=!0,e.apply(null,H))}function E(H){a=setTimeout(()=>{a=null,n(R,p())},H)}function b(){l&&clearTimeout(l)}function R(H,...Q){if(m){b();return}if(H){b(),y.call(null,H,...Q);return}if(p()||u){b(),y.call(null,H,...Q);return}i<64&&(i*=2);let ne;d===1?(d=2,ne=0):ne=(i+Math.random())*1e3,E(ne)}let N=!1;function z(H){N||(N=!0,b(),!m&&(a!==null?(H||(d=2),clearTimeout(a),E(0)):H||(d=1)))}return E(0),l=setTimeout(()=>{u=!0,z(!0)},t),z}function ZU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(n){return n!==void 0}function r1(n,e,t,i){if(i<e)throw s1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw s1(`Invalid value for '${n}'. Expected ${t} or less.`)}function JU(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ef;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ef||(Ef={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,t,i,a,l,u,d,p,m,y,E,b=!0,R=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,z)=>{this.resolve_=N,this.reject_=z,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new wd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===Ef.NO_ERROR,p=l.getStatus();if(!d||QU(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Ef.ABORT;i(!1,new wd(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new wd(m,l))})},t=(i,a)=>{const l=this.resolve_,u=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());YU(p)?l(p):l()}catch(p){u(p)}else if(d!==null){const p=WU();p.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,p)):u(p)}else if(a.canceled){const p=this.appDelete_?YA():jU();u(p)}else{const p=FU();u(p)}};this.canceled_?t(!1,new wd(!1,null,!0)):this.backoffId_=GU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function KU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function $U(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function tL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function nL(n,e,t,i,a,l,u=!0,d=!1){const p=JU(n.urlParams),m=n.url+p,y=Object.assign({},n.headers);return eL(y,e),KU(y,t),$U(y,l),tL(y,i),new XU(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function sL(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this._service=e,t instanceof _i?this._location=t:this._location=_i.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bf(e,t)}get root(){const e=new _i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sL(this._location.path)}get storage(){return this._service}get parent(){const e=iL(this._location.path);if(e===null)return null;const t=new _i(this._location.bucket,e);return new bf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw HU(e)}}function a1(n,e){const t=e==null?void 0:e[PU];return t==null?null:_i.makeFromBucketSpec(t,n)}function rL(n,e,t,i={}){n.host=`${e}:${t}`;const a=Us(e);a&&(Nf(`https://${n.host}/b`),Of("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:z_(l,n.app.options.projectId))}class aL{constructor(e,t,i,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=ZA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UU,this._maxUploadRetryTime=LU,this._requests=new Set,a!=null?this._bucket=_i.makeFromBucketSpec(a,this._host):this._bucket=a1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_i.makeFromBucketSpec(this._url,e):this._bucket=a1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bf(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new qU(YA());{const u=nL(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const o1="@firebase/storage",l1="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="storage";function oL(n=Au(),e){n=ft(n);const i=Ws(n,JA).getImmediate({identifier:e}),a=B_("storage");return a&&lL(i,...a),i}function lL(n,e,t,i={}){rL(n,e,t,i)}function cL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new aL(t,i,a,e,Br)}function uL(){si(new Bn(JA,cL,"PUBLIC").setMultipleInstances(!0)),gn(o1,l1,""),gn(o1,l1,"esm2017")}uL();const hL={apiKey:"AIzaSyDzfp4ZE6PPqF37t8jHMjo2E7F7CLHp4GY",authDomain:"xprime-3973c.firebaseapp.com",projectId:"xprime-3973c",storageBucket:"xprime-3973c.firebasestorage.app",messagingSenderId:"237348420750",appId:"1:237348420750:web:ea697bfde946b658c41ddf",measurementId:"G-8V5EM4XPCR",databaseURL:"https://xprime-3973c-default-rtdb.firebaseio.com/"},Bu=Z1(hL),dl=ny(Bu);JI(Bu);const QA=VU(Bu);oL(Bu);E9(Bu);const dL=()=>{const[n,e]=F.useState(null),[t,i]=F.useState(!0),[a,l]=F.useState(null);if(F.useEffect(()=>{(async()=>{try{const b=dl.currentUser;if(!b){l("No user is currently logged in."),i(!1);return}const R=GA(QA,"users/"+b.uid),N=await IU(R);N.exists()?e(N.val()):l("User data not found.")}catch(b){l("Failed to fetch user data: "+b.message)}finally{i(!1)}})()},[]),t)return w.jsx("div",{className:"profile-container",children:w.jsx("p",{children:"Loading user data..."})});if(a)return w.jsx("div",{className:"profile-container",children:w.jsx("p",{className:"error-message",children:a})});const{fullName:u,email:d,mobileNumber:p,gender:m,birthdate:y}=n||{};return w.jsxs("div",{className:"profile-container",children:[w.jsx("h2",{children:"User Profile"}),w.jsxs("div",{className:"profile-card",children:[w.jsx("img",{src:VO,alt:"User Profile",className:"profile-image"}),w.jsx("div",{className:"profile-details",children:w.jsx("table",{children:w.jsxs("tbody",{children:[w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Full Name:"})}),w.jsx("td",{children:u})]}),w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Email:"})}),w.jsx("td",{children:d})]}),w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Mobile:"})}),w.jsx("td",{children:p})]}),w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Gender:"})}),w.jsx("td",{children:m})]}),w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Birthdate:"})}),w.jsx("td",{children:y})]})]})})})]})]})},fL=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[a,l]=F.useState(""),[u,d]=F.useState(""),p=async m=>{m.preventDefault(),l(""),d("");try{await EV(dl,n,t),d("Login successful!"),e(""),i("")}catch(y){l(y.message)}};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:p,children:[w.jsx("h2",{children:"Login"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:n,onChange:m=>e(m.target.value),placeholder:"Enter email",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:t,onChange:m=>i(m.target.value),placeholder:"Enter password",required:!0})]}),a&&w.jsx("p",{className:"error-message",children:a}),u&&w.jsx("p",{className:"success-message",children:u}),w.jsxs("div",{className:"buttonlogin-k",style:{marginTop:"20px"},children:[w.jsx("button",{type:"submit",className:"login-button",children:"Login"}),w.jsx(It,{to:"/forgetpassword",children:"Forget Password !"})]}),w.jsxs("div",{className:"Design",children:[w.jsx("div",{className:"design1"}),w.jsx("h5",{children:"Or"}),w.jsx("div",{className:"design2"})]}),w.jsx("div",{className:"buttonlogin",style:{marginTop:"30px"},children:w.jsx(It,{to:"/adminlogin",className:"login-button",style:{textDecoration:"none",width:"100%"},children:"Admin"})})]})})},pL=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[a,l]=F.useState(""),[u,d]=F.useState(""),[p,m]=F.useState(""),[y,E]=F.useState(""),[b,R]=F.useState(""),[N,z]=F.useState(""),[H,Q]=F.useState(""),X=pl(),ne=async re=>{if(re.preventDefault(),z(""),Q(""),y!==b){z("Passwords do not match");return}try{const ve=(await TS(dl,p,y)).user;await wV(ve,{displayName:n}),await SU(GA(QA,"users/"+ve.uid),{fullName:n,mobileNumber:t,gender:a,birthdate:u,email:ve.email,createdAt:Date.now()}),Q("Signup successful!"),e(""),i(""),l(""),d(""),m(""),E(""),R(""),X("/login")}catch(ue){z(ue.message)}};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:ne,children:[w.jsx("h2",{children:"Signup"}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group half-width",children:[w.jsx("label",{htmlFor:"fullName",children:"Full Name"}),w.jsx("input",{type:"text",id:"fullName",value:n,onChange:re=>e(re.target.value),placeholder:"Enter full name",required:!0})]}),w.jsxs("div",{className:"form-group half-width",children:[w.jsx("label",{htmlFor:"mobileNumber",children:"Mobile Number"}),w.jsx("input",{type:"tel",id:"mobileNumber",value:t,onChange:re=>i(re.target.value),placeholder:"Enter mobile number",required:!0})]})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group half-width",children:[w.jsx("label",{htmlFor:"gender",children:"Gender"}),w.jsxs("select",{id:"gender",value:a,onChange:re=>l(re.target.value),required:!0,children:[w.jsx("option",{value:"",children:"Select gender"}),w.jsx("option",{value:"Male",children:"Male"}),w.jsx("option",{value:"Female",children:"Female"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:"form-group half-width",children:[w.jsx("label",{htmlFor:"birthdate",children:"Birthdate"}),w.jsx("input",{type:"date",id:"birthdate",value:u,onChange:re=>d(re.target.value),required:!0})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:p,onChange:re=>m(re.target.value),placeholder:"Enter email",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:y,onChange:re=>E(re.target.value),placeholder:"Enter password",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),w.jsx("input",{type:"password",id:"confirmPassword",value:b,onChange:re=>R(re.target.value),placeholder:"Confirm password",required:!0})]}),N&&w.jsx("p",{className:"error-message",children:N}),H&&w.jsx("p",{className:"success-message",children:H}),w.jsx("div",{className:"buttonlogin",style:{marginTop:"20px"},children:w.jsx("button",{type:"submit",className:"login-button",children:"Sign Up"})})]})})},mL=JSON.parse(`[{"id":1,"title":"Futuristic Samurai","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6TldVeU0yWXpNUzAxTnprMUxUUXdPRFF0WWpNM01DMWhZMkkwT1RFMU9UVTBObVVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--025c287225fe8ac753c766c1740a345f45a3f1ce/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-027115638da.jpg","prompt":"A surreal and slightly humorous, realistic-style scene inspired by the famous Windows XP Bliss background. The landscape features lush green rolling hills and a clear blue sky. From behind one of the hills, the top part of Mark Zuckerbergs headhis eyes and foreheademerges. His head is slightly tilted from the edge of the hill, as if he is peeking. He is staring directly at the viewer with a curious and slightly unsettling expression, as though he is secretly watching them."},{"id":2,"title":"Steampunk Explorer","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxoWlROa056RmhNUzB5TmpnNExUUTRabVF0T1daaE55MW1NVEZoTkRBNFpHTXlNVFFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--e644e40e52a41b0e0654d4a1cf62a98c892142c1/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-8634828707d.png","prompt":"highly detailed photography of bmw car found in bluemap, vintage, intricate detail, digital art, digital painting, concept art, poster, award winning, max detail, shinning, studio light, blender, 3d art, masterpiece"},{"id":3,"title":"Retro Futurism","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6TkRJM01ESm1aaTFoTjJGakxUUXhNVFF0WWpSaU5pMHlaV0U0TmpJeU9HWTROamtHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--11a6fcf6920f37858a3e79f4e7bd98b312158f58/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-148858911ae.png","prompt":"a man in a trench coat and hat walking down a street in the rain with a car behind him, Ben Templesmith, noir, cyberpunk art, neo-figurative"},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6WkRreFpqSXdPQzAzWkRkakxUUmxOR010WWpNNFlpMWhPVFJpT0RkbE9EY3dOamtHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--0a14881021ccf06dcc5d5340373615bc5a08c673/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-d043bf22242.png","title":"","prompt":"A close-up of a heavily rusted Iron Man helmet lying abandoned on the ground in a dense, overgrown jungle. Vines and thick roots have wrapped around the suit, partially covering it with moss and foliage. The once-bright red and gold armor is now corroded, with chipped paint and deep rust marks. The arc reactor on the chest is barely glowing, flickering faintly, almost extinguished. The jungle floor is damp and covered in fallen leaves, with mist rising in the background. Soft, diffused lighting filters through the thick canopy, casting eerie shadows on the forgotten relic. cinematic, hyper realism, high detail, octane render, 8k","id":4},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWsyWWpWbVpUaG1aUzFrTlRkaExUUXhOVEl0T1RabFpDMWlNVEprTUdNd1lqaGxZbU1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--7bdd19510f07be08087fcb313d87ad539f6d4019/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-8f27dd0dae3.png","title":"","prompt":"painting of a woman dressed in traditional Chinese dress with a bamboo umbrella, in the style of romantic manga, ethereal transparency, dark white and light gray, i can't believe how beautiful this is, romantic illustrations, dark white and light green, feminine sensibilities --ar 71:128 --stylize 750 --v 6","id":16},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxoT0RWaE5HSmxZaTFsTkdRM0xUUTBNV010WVdKbU55MDRZelEwTUdVM1pUQXpaRFVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--b4b848487e1f1202fb53354d3bc5ec3f8030a887/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-80341e63554.png","title":"","prompt":"A Traveling Drone Across England --ar 2:3 --style raw --profile xraq6d7 --stylize 600 --v 6.1","id":20},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt5WkdaaE9HWXlOQzB3WWpVeUxUUXpNbVF0WW1FM05TMDVaV013WkRZek1tVmxZVGtHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--b55ab39d4b3196a89d93323dc27c52d2d8939ae6/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-4fbfbe9619f.jpg","title":"","prompt":"Summer trip in the Tokyo , sakura lover , sweetheart couple, t-shirt design,banlance harmony space , pixel art , studio ghibli style , white background, ultra high quality.","id":22},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxsWW1VMFpERTBNeTB6TlRGaUxUUmlNVEV0WW1Jd1lpMHlNR1UzT0Rjek4yUTFaV1FHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--9b6c4a8c1fc4c98ba1240302b43b2d0836953950/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-de45743342c.png","title":"","prompt":"A detailed crosssection of the ancient Chinese tower, showcasing its construction techniques and design elements in color pencil style with realistic shadows, include labels for each level to highlight key features such as rooms, bridges, or architecture details, text panel at bottom shows information about historical significance, frame size, dimensions, height, weight, materials used, form structure type, construction technology, user needs and other related drip icons. white background --ar 67:128 --stylize 750","id":23},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrWVRkbU1XRTJZUzAxT1RSbUxUUmxaV1F0WWpZelppMWxZek15TURrME56STNaakFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--8f9c34fac05a95ae36047bee3cde3b88dd6cc6ba/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-b8b5880994e.png","title":"","prompt":"An image of a woman sitting down with her body slightly turned to her left. She is looking at the camera with a relaxed expression. Her right arm is resting by her side, and her left arm is bent with her hand on her thigh. She has light-colored wavy hair over her shoulders. She wears a patterned blouse with rolled-up sleeves and light-colored pants. The background is softly blurred with hints of an airplane and airport equipment, bathed in the warm glow of dawn or dusk.","id":24},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrWW1ZeE1XTXdaaTFqTURFMkxUUTRNVFV0WVRRMk1pMHhZVE13WlRSbFlUZG1PV1FHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--0d045fd6aea72a33b04049900b1d50029f5cf7e6/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-32e44c7172b.png","title":"","prompt":"an oil painting of many sunflowers in a yellow vase, in the style of 10001400 ce, 32k uhd, colorized, simon prades, eye-catching, wimmelbilder, grainy --ar 35:46 --stylize 750","id":25},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWswTmpZMU9XWTNOaTB3TTJGa0xUUmtaVEl0WVdZd01pMDJZVGM0WlRBMk9UZzBZV0VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--ecc2b38dff5fca9b13a487dce9356798e6577fad/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-e74e709e6af.png","title":"","prompt":"I feel the top of the roof come off Kill everybody there And I'm watching all the stars burn out Trying to pretend that I care But I didn't, no one ever does And I would, no one ever will Can't you see it's all flown out of my hands? And our clothes are all too often ripped And our teeth are all too often gnashed And it lasts as long as it possibly can But I just don't, but I just don't accept this I just don't accept this at all And I just don't, and I just don't accept this I just don't accept this at all","id":26},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpT1Roak1qRXlaQzFpWkRVeExUUXhOR1V0WVRFNU5DMWtNV1F3TjJWbU9XWXpOV0VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--7713581b2d86d8435be8d713cd6b64c3d0bd64db/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-71485ccdf95.jpg","title":"","prompt":"\\"Professional photograph of a supermodel in her early twenties, modernist style. Soft, dreamy atmosphere, misty swirling fog, golden hour sunrise light. Earth tones: browns, beiges, muted colours. Soft contrast, soft saturation. Low visibility.\\"","id":27}]`);class gL extends F.Component{constructor(t){super(t);_r(this,"copyToClipboard",(t,i)=>{navigator.clipboard.writeText(t).then(()=>{this.setState({copiedId:i}),setTimeout(()=>this.setState({copiedId:null}),2e3)})});_r(this,"handleImageLoad",t=>{this.setState(i=>({loadedImages:{...i.loadedImages,[t]:!0}}))});this.state={copiedId:null,loadedImages:{}}}render(){return w.jsx(w.Fragment,{children:w.jsx("div",{className:"gallery-container",children:mL.map(t=>w.jsxs("div",{className:"gallery-item",children:[!this.state.loadedImages[t.id]&&w.jsx("div",{className:"gallery-spinner",children:w.jsx(I1,{className:"spinner-icon",size:32})}),w.jsx("img",{src:t.image,alt:t.title,style:{display:this.state.loadedImages[t.id]?"block":"none"},onLoad:()=>this.handleImageLoad(t.id)}),w.jsxs("div",{className:"overlay",children:[w.jsx("p",{title:t.prompt,children:t.prompt}),w.jsx("button",{className:"copy-btn",onClick:()=>this.copyToClipboard(t.prompt,t.id),title:"Copy prompt to clipboard",children:w.jsx(F_,{size:20,style:{color:"white"}})}),this.state.copiedId===t.id&&w.jsx("span",{className:"copy-feedback",children:"Copied!"})]})]},t.id))})})}}const _L=()=>w.jsxs("div",{className:"about-container",children:[w.jsx("h2",{children:"About Us"}),w.jsx("p",{children:"Welcome to our application! We are dedicated to providing the best service possible."}),w.jsx("p",{children:"Our team works hard to ensure a seamless experience for all users."}),w.jsx("p",{children:"Contact us for more information or support."})]}),wu={_origin:"https://api.emailjs.com"},yL=(n,e="https://api.emailjs.com")=>{wu._userID=n,wu._origin=e},XA=(n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class c1{constructor(e){this.status=e.status,this.text=e.responseText}}const KA=(n,e,t={})=>new Promise((i,a)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:u})=>{const d=new c1(u);d.status===200||d.text==="OK"?i(d):a(d)}),l.addEventListener("error",({target:u})=>{a(new c1(u))}),l.open("POST",wu._origin+n,!0),Object.keys(t).forEach(u=>{l.setRequestHeader(u,t[u])}),l.send(e)}),vL=(n,e,t,i)=>{const a=i||wu._userID;return XA(a,n,e),KA("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},TL=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},EL=(n,e,t,i)=>{const a=i||wu._userID,l=TL(t);XA(a,n,e);const u=new FormData(l);return u.append("lib_version","3.2.0"),u.append("service_id",n),u.append("template_id",e),u.append("user_id",a),KA("/api/v1.0/email/send-form",u)},bL={init:yL,send:vL,sendForm:EL};class wL extends F.Component{constructor(t){super(t);_r(this,"handleChange",t=>{this.setState({[t.target.name]:t.target.value})});_r(this,"handleSubmit",t=>{t.preventDefault();const{name:i,subject:a,email:l,message:u}=this.state;if(!i||!a||!l||!u){this.setState({feedback:"Please fill in all fields."});return}const d={sender_name:i,subject:a,reply_to:l,message:u,time:new Date().toLocaleString()};bL.send("service_hqbg0og","template_p9zyac5",d,"DrpwDUdK9JLWPFiDh").then(p=>{this.setState({feedback:"Message sent successfully!",name:"",subject:"",email:"",message:""})},p=>{this.setState({feedback:"Failed to send message. Please try again later."})})});this.state={name:"",subject:"",email:"",message:"",feedback:""}}render(){const{name:t,subject:i,email:a,message:l,feedback:u}=this.state;return w.jsxs("div",{className:"contact-container",children:[w.jsx("h1",{className:"contact-header",children:"Contact Us"}),w.jsx("div",{className:"flex",children:w.jsxs("div",{className:"panel1",children:[w.jsxs("form",{onSubmit:this.handleSubmit,children:[w.jsx("div",{className:"form-group-c",children:w.jsx("input",{name:"name",placeholder:"Name : ",type:"text",value:t,onChange:this.handleChange,required:!0})}),w.jsx("div",{className:"form-group-c",children:w.jsx("input",{name:"subject",placeholder:"Subject : ",type:"text",value:i,onChange:this.handleChange,required:!0})}),w.jsx("div",{className:"form-group-c",children:w.jsx("input",{name:"email",placeholder:"Email : ",type:"email",value:a,onChange:this.handleChange,required:!0})}),w.jsx("div",{className:"form-group-c",children:w.jsx("textarea",{name:"message",placeholder:"Text hear..!",value:l,onChange:this.handleChange,required:!0})}),w.jsx("div",{className:"buttoncontact",children:w.jsx("button",{type:"submit",className:"contact-button",children:"Submit"})})]}),u&&w.jsx("p",{className:"feedback-message",children:u})]})})]})}}class SL extends F.Component{constructor(t){super(t);_r(this,"copyToClipboard",(t,i)=>{navigator.clipboard.writeText(t).then(()=>{this.setState({copiedId:i}),setTimeout(()=>this.setState({copiedId:null}),2e3)})});this.state={copiedId:null}}render(){return w.jsx(w.Fragment,{children:w.jsx("div",{className:"gallery-container",children:OO.map(t=>w.jsxs("div",{className:"gallery-item",children:[w.jsx("img",{src:t.image,alt:t.title}),w.jsxs("div",{className:"overlay",children:[w.jsx("p",{title:t.prompt,children:t.prompt}),w.jsx("button",{className:"copy-btn",onClick:()=>this.copyToClipboard(t.prompt,t.id),title:"Copy prompt to clipboard",children:w.jsx(F_,{size:20,style:{color:"white"}})}),this.state.copiedId===t.id&&w.jsx("span",{className:"copy-feedback",children:"Copied!"})]})]},t.id))})})}}class IL extends F.Component{constructor(t){super(t);_r(this,"handleChange",t=>{this.setState({[t.target.name]:t.target.value})});_r(this,"handleSubmit",async t=>{const{galleryImageUrl:i,galleryTitle:a,galleryPrompt:l,trendingImageUrl:u,trendingTitle:d,trendingPrompt:p,galleryData:m,trendingData:y}=this.state;if(t==="gallery"){const E={image:i,title:a,prompt:l};try{const b=[...m,E];this.setState({galleryData:b,galleryImageUrl:"",galleryTitle:"",galleryPrompt:""}),fetch("http://localhost:8080/api/admin/gallery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then(R=>{if(!R.ok)throw new Error("Failed to save gallery data to backend");return R.text()}).then(R=>{console.log(R)}).catch(R=>{alert(R.message)}),alert("Gallery data saved to backend successfully")}catch(b){alert("Error saving gallery data: "+b.message)}}else if(t==="trending"){const E={image:u,title:d,prompt:p};try{const b=[...y,E];this.setState({trendingData:b,trendingImageUrl:"",trendingTitle:"",trendingPrompt:""}),fetch("http://localhost:8080/api/admin/trending",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then(R=>{if(!R.ok)throw new Error("Failed to save trending data to backend");return R.text()}).then(R=>{console.log(R)}).catch(R=>{alert(R.message)}),alert("Trending data saved to backend successfully")}catch(b){alert("Error saving trending data: "+b.message)}}});this.state={galleryImageUrl:"",galleryTitle:"",galleryPrompt:"",trendingImageUrl:"",trendingTitle:"",trendingPrompt:"",galleryData:[],trendingData:[]}}render(){const{galleryImageUrl:t,galleryTitle:i,galleryPrompt:a,trendingImageUrl:l,trendingTitle:u,trendingPrompt:d,galleryData:p,trendingData:m}=this.state;return w.jsxs("div",{className:"admin-panel",children:[w.jsx("h2",{children:"Admin Panel"}),w.jsxs("div",{className:"container",children:[w.jsxs("section",{className:"admin-section",children:[w.jsx("h3",{children:"Gallery"}),w.jsx("input",{type:"text",name:"galleryImageUrl",placeholder:"Image URL",value:t,onChange:this.handleChange}),w.jsx("input",{type:"text",name:"galleryTitle",placeholder:"Title",value:i,onChange:this.handleChange}),w.jsx("input",{type:"text",name:"galleryPrompt",placeholder:"Prompt",value:a,onChange:this.handleChange}),w.jsx("button",{onClick:()=>this.handleSubmit("gallery"),children:"Submit"})]}),w.jsxs("section",{className:"admin-section",children:[w.jsx("h3",{children:"Trending"}),w.jsx("input",{type:"text",name:"trendingImageUrl",placeholder:"Image URL",value:l,onChange:this.handleChange}),w.jsx("input",{type:"text",name:"trendingTitle",placeholder:"Title",value:u,onChange:this.handleChange}),w.jsx("input",{type:"text",name:"trendingPrompt",placeholder:"Prompt",value:d,onChange:this.handleChange}),w.jsx("button",{onClick:()=>this.handleSubmit("trending"),children:"Submit"})]})]})]})}}const RL=({setAdminLoggedIn:n})=>{const[e,t]=F.useState(""),[i,a]=F.useState(""),[l,u]=F.useState(""),[d,p]=F.useState(""),m=pl(),y=E=>{E.preventDefault(),u(""),p(""),e==="shrikant"&&i==="srikant@45"?(p("Login successful!"),t(""),a(""),n(!0),m("/admin")):u("Invalid username or password")};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:y,children:[w.jsx("h2",{children:"Admin Login"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"username",children:"Username"}),w.jsx("input",{type:"text",id:"username",value:e,onChange:E=>t(E.target.value),placeholder:"Enter username",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:i,onChange:E=>a(E.target.value),placeholder:"Enter password",required:!0})]}),l&&w.jsx("p",{className:"error-message",children:l}),d&&w.jsx("p",{className:"success-message",children:d}),w.jsx("div",{className:"buttonlogin",children:w.jsx("button",{type:"submit",className:"login-button",children:"Login"})})]})})},AL=({setAdminLoggedIn:n})=>{const[e,t]=F.useState(""),[i,a]=F.useState(""),[l,u]=F.useState(""),[d,p]=F.useState(""),m=pl(),y=async E=>{E.preventDefault(),u(""),p("");try{await TS(dl,e,i),p("Account created successfully!"),t(""),a(""),n(!0),m("/admin")}catch(b){u(b.message)}};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:y,children:[w.jsx("h2",{children:"Admin Sign Up"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:e,onChange:E=>t(E.target.value),placeholder:"Enter email",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:i,onChange:E=>a(E.target.value),placeholder:"Enter password",required:!0})]}),l&&w.jsx("p",{className:"error-message",children:l}),d&&w.jsx("p",{className:"success-message",children:d}),w.jsx("div",{className:"buttonlogin",children:w.jsx("button",{type:"submit",className:"login-button",children:"Sign Up"})})]})})},CL="/Xprime/assets/lk-bo8b3C1f.png";class NL extends F.Component{constructor(e){super(e),this.state={admin:{fullName:"Admin Name",email:"admin@example.com",mobile:"+91 1234567890",gender:"Not Specified",birthdate:"01-01-1970",profileImage:"https://via.placeholder.com/150"}}}render(){const{fullName:e,email:t,mobile:i,gender:a,birthdate:l,profileImage:u}=this.state.admin;return w.jsxs("div",{className:"admin-profile-container",children:[w.jsx("h2",{children:"Admin Profile"}),w.jsxs("div",{className:"admin-profile-card",children:[w.jsx("img",{src:CL,alt:"Admin Profile",className:"admin-profile-image"}),w.jsx("div",{className:"admin-profile-details",children:w.jsx("table",{children:w.jsxs("tbody",{children:[w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Full Name:"})}),w.jsx("td",{children:e})]}),w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Email:"})}),w.jsx("td",{children:t})]}),w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Mobile:"})}),w.jsx("td",{children:i})]}),w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Gender:"})}),w.jsx("td",{children:a})]}),w.jsxs("tr",{children:[w.jsx("td",{children:w.jsx("strong",{children:"Birthdate:"})}),w.jsx("td",{children:l})]})]})})})]})]})}}const OL=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(""),[a,l]=F.useState(""),[u,d]=F.useState(0);F.useEffect(()=>{let m=null;return u>0?m=setInterval(()=>{d(y=>y-1)},1e3):u===0&&clearInterval(m),()=>clearInterval(m)},[u]);const p=m=>{if(m.preventDefault(),u>0){l(`Please wait ${u} seconds before sending another email.`);return}const y=ny();TV(y,n).then(()=>{i("Password reset email sent successfully."),l(""),e(""),d(60)}).catch(E=>{l(E.message),i("")})};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:p,children:[w.jsx("h2",{children:"Forget Password"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",placeholder:"Enter email",value:n,onChange:m=>e(m.target.value),required:!0,disabled:u>0})]}),t&&w.jsx("p",{className:"success-message",children:t}),a&&w.jsx("p",{className:"error-message",children:a}),u>0&&w.jsxs("p",{style:{color:"white",textAlign:"center",marginTop:"10px"},children:["Please wait ",u," seconds before sending another email."]}),w.jsx("div",{className:"buttonlogin",children:w.jsx("button",{type:"submit",className:"login-button",disabled:u>0,children:"Send"})})]})})},xL=()=>{const n=ny(),e=JI(),t=n.currentUser,[i,a]=F.useState(""),[l,u]=F.useState(t?t.email:""),[d,p]=F.useState(""),[m,y]=F.useState(""),[E,b]=F.useState(""),[R,N]=F.useState(""),[z,H]=F.useState(!0);F.useEffect(()=>{t?(async()=>{try{const ne=dw(e,"users",t.uid),re=await t4(ne);if(re.exists()){const ue=re.data();a(ue.name||""),p(ue.phone||""),y(ue.address||"")}H(!1)}catch{N("Failed to load user data."),H(!1)}})():H(!1)},[t,e]);const Q=async X=>{if(X.preventDefault(),b(""),N(""),!t){N("No user is logged in.");return}try{l!==t.email&&await SV(t,l);const ne=dw(e,"users",t.uid);await i4(ne,{name:i,phone:d,address:m},{merge:!0}),b("Profile updated successfully.")}catch(ne){N(ne.message)}};return z?w.jsx("div",{children:"Loading..."}):w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:Q,children:[w.jsx("h2",{children:"Update Profile"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"name",children:"Name"}),w.jsx("input",{type:"text",id:"name",placeholder:"Enter name",value:i,onChange:X=>a(X.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",placeholder:"Enter email",value:l,onChange:X=>u(X.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"phone",children:"Phone"}),w.jsx("input",{type:"tel",id:"phone",placeholder:"Enter phone number",value:d,onChange:X=>p(X.target.value)})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"address",children:"Address"}),w.jsx("textarea",{id:"address",placeholder:"Enter address",value:m,onChange:X=>y(X.target.value)})]}),E&&w.jsx("p",{className:"success-message",children:E}),R&&w.jsx("p",{className:"error-message",children:R}),w.jsx("div",{className:"buttonlogin",children:w.jsx("button",{type:"submit",className:"login-button",children:"Update"})})]})})};function kL(){const[n,e]=F.useState(null),[t,i]=F.useState(()=>localStorage.getItem("adminLoggedIn")==="true");return F.useEffect(()=>{const a=CV(dl,l=>{e(l)});return()=>a()},[]),F.useEffect(()=>{localStorage.setItem("adminLoggedIn",t)},[t]),F.useEffect(()=>{const a=()=>{NV(dl).catch(l=>{console.error("Error signing out on unload:",l)}),localStorage.removeItem("adminLoggedIn")};return window.addEventListener("beforeunload",a),()=>{window.removeEventListener("beforeunload",a)}},[]),w.jsx(HashRouter,{children:w.jsxs("div",{className:"App",children:[w.jsx(CO,{user:n,setUser:e,adminLoggedIn:t,setAdminLoggedIn:i}),w.jsxs(TN,{children:[w.jsx(Jt,{path:"/",element:w.jsx(kO,{})}),!n&&!t&&w.jsx(Jt,{path:"/login",element:w.jsx(fL,{})}),!n&&!t&&w.jsx(Jt,{path:"/signup",element:w.jsx(pL,{})}),(n||t)&&w.jsx(Jt,{path:"/login",element:w.jsx(hg,{to:"/"})}),(n||t)&&w.jsx(Jt,{path:"/signup",element:w.jsx(hg,{to:"/"})}),w.jsx(Jt,{path:"/gallery",element:w.jsx(gL,{})}),w.jsx(Jt,{path:"/trending",element:w.jsx(SL,{})}),w.jsx(Jt,{path:"/about",element:w.jsx(_L,{})}),w.jsx(Jt,{path:"/contact",element:w.jsx(wL,{})}),w.jsx(Jt,{path:"/profile",element:w.jsx(dL,{})}),w.jsx(Jt,{path:"/adminlogin",element:w.jsx(RL,{setAdminLoggedIn:i})}),w.jsx(Jt,{path:"/admin",element:w.jsx(IL,{})}),w.jsx(Jt,{path:"/adminsignup",element:w.jsx(AL,{setAdminLoggedIn:i})}),w.jsx(Jt,{path:"/admin/profile",element:w.jsx(NL,{})}),w.jsx(Jt,{path:"/forgetpassword",element:w.jsx(OL,{})}),w.jsx(Jt,{path:"/userprofile",element:w.jsx(xL,{user:n})}),w.jsx(Jt,{path:"*",element:w.jsx(hg,{to:"/"})})]}),w.jsx(NO,{})]})})}D2.createRoot(document.getElementById("root")).render(w.jsx(F.StrictMode,{children:w.jsx(kL,{})}));
