var q2=Object.defineProperty;var G2=(n,e,t)=>e in n?q2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var fi=(n,e,t)=>G2(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function b1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dg={exports:{}},Uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function Z2(){if(kE)return Uc;kE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Uc.Fragment=e,Uc.jsx=t,Uc.jsxs=t,Uc}var VE;function Y2(){return VE||(VE=1,dg.exports=Z2()),dg.exports}var w=Y2(),fg={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function J2(){if(DE)return Ne;DE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,B={};function W(k,ne,ce){this.props=k,this.context=ne,this.refs=B,this.updater=ce||R}W.prototype.isReactComponent={},W.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},W.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=W.prototype;function J(k,ne,ce){this.props=k,this.context=ne,this.refs=B,this.updater=ce||R}var te=J.prototype=new Y;te.constructor=J,C(te,W.prototype),te.isPureReactComponent=!0;var re=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function M(k,ne,ce,se,ge,ke){return ce=ke.ref,{$$typeof:n,type:k,key:ne,ref:ce!==void 0?ce:null,props:ke}}function A(k,ne){return M(k.type,ne,void 0,void 0,void 0,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function V(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return ne[ce]})}var P=/\/+/g;function F(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):ne.toString(36)}function x(){}function en(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(x,x):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function _t(k,ne,ce,se,ge){var ke=typeof k;(ke==="undefined"||ke==="boolean")&&(k=null);var Re=!1;if(k===null)Re=!0;else switch(ke){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(k.$$typeof){case n:case e:Re=!0;break;case y:return Re=k._init,_t(Re(k._payload),ne,ce,se,ge)}}if(Re)return ge=ge(k),Re=se===""?"."+F(k,0):se,re(ge)?(ce="",Re!=null&&(ce=Re.replace(P,"$&/")+"/"),_t(ge,ne,ce,"",function(Si){return Si})):ge!=null&&(N(ge)&&(ge=A(ge,ce+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+Re)),ne.push(ge)),1;Re=0;var Ht=se===""?".":se+":";if(re(k))for(var ot=0;ot<k.length;ot++)se=k[ot],ke=Ht+F(se,ot),Re+=_t(se,ne,ce,ke,ge);else if(ot=b(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(se=k.next()).done;)se=se.value,ke=Ht+F(se,ot++),Re+=_t(se,ne,ce,ke,ge);else if(ke==="object"){if(typeof k.then=="function")return _t(en(k),ne,ce,se,ge);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Q(k,ne,ce){if(k==null)return k;var se=[],ge=0;return _t(k,se,"","",function(ke){return ne.call(ce,ke,ge++)}),se}function le(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ze(){}return Ne.Children={map:Q,forEach:function(k,ne,ce){Q(k,function(){ne.apply(this,arguments)},ce)},count:function(k){var ne=0;return Q(k,function(){ne++}),ne},toArray:function(k){return Q(k,function(ne){return ne})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=W,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=J,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ue.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cloneElement=function(k,ne,ce){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=C({},k.props),ge=k.key,ke=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(ke=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ve.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(se[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)se.children=ce;else if(1<Re){for(var Ht=Array(Re),ot=0;ot<Re;ot++)Ht[ot]=arguments[ot+2];se.children=Ht}return M(k.type,ge,void 0,void 0,ke,se)},Ne.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Ne.createElement=function(k,ne,ce){var se,ge={},ke=null;if(ne!=null)for(se in ne.key!==void 0&&(ke=""+ne.key),ne)ve.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=ne[se]);var Re=arguments.length-2;if(Re===1)ge.children=ce;else if(1<Re){for(var Ht=Array(Re),ot=0;ot<Re;ot++)Ht[ot]=arguments[ot+2];ge.children=Ht}if(k&&k.defaultProps)for(se in Re=k.defaultProps,Re)ge[se]===void 0&&(ge[se]=Re[se]);return M(k,ke,void 0,void 0,null,ge)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:d,render:k}},Ne.isValidElement=N,Ne.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:le}},Ne.memo=function(k,ne){return{$$typeof:m,type:k,compare:ne===void 0?null:ne}},Ne.startTransition=function(k){var ne=ue.T,ce={};ue.T=ce;try{var se=k(),ge=ue.S;ge!==null&&ge(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ze,me)}catch(ke){me(ke)}finally{ue.T=ne}},Ne.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ne.use=function(k){return ue.H.use(k)},Ne.useActionState=function(k,ne,ce){return ue.H.useActionState(k,ne,ce)},Ne.useCallback=function(k,ne){return ue.H.useCallback(k,ne)},Ne.useContext=function(k){return ue.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,ne){return ue.H.useDeferredValue(k,ne)},Ne.useEffect=function(k,ne,ce){var se=ue.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(k,ne)},Ne.useId=function(){return ue.H.useId()},Ne.useImperativeHandle=function(k,ne,ce){return ue.H.useImperativeHandle(k,ne,ce)},Ne.useInsertionEffect=function(k,ne){return ue.H.useInsertionEffect(k,ne)},Ne.useLayoutEffect=function(k,ne){return ue.H.useLayoutEffect(k,ne)},Ne.useMemo=function(k,ne){return ue.H.useMemo(k,ne)},Ne.useOptimistic=function(k,ne){return ue.H.useOptimistic(k,ne)},Ne.useReducer=function(k,ne,ce){return ue.H.useReducer(k,ne,ce)},Ne.useRef=function(k){return ue.H.useRef(k)},Ne.useState=function(k){return ue.H.useState(k)},Ne.useSyncExternalStore=function(k,ne,ce){return ue.H.useSyncExternalStore(k,ne,ce)},Ne.useTransition=function(){return ue.H.useTransition()},Ne.version="19.1.0",Ne}var ME;function j_(){return ME||(ME=1,fg.exports=J2()),fg.exports}var L=j_();const rt=b1(L);var pg={exports:{}},Lc={},mg={exports:{}},gg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function Q2(){return PE||(PE=1,function(n){function e(Q,le){var me=Q.length;Q.push(le);e:for(;0<me;){var Ze=me-1>>>1,k=Q[Ze];if(0<a(k,le))Q[Ze]=le,Q[me]=k,me=Ze;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],me=Q.pop();if(me!==le){Q[0]=me;e:for(var Ze=0,k=Q.length,ne=k>>>1;Ze<ne;){var ce=2*(Ze+1)-1,se=Q[ce],ge=ce+1,ke=Q[ge];if(0>a(se,me))ge<k&&0>a(ke,se)?(Q[Ze]=ke,Q[ge]=me,Ze=ge):(Q[Ze]=se,Q[ce]=me,Ze=ce);else if(ge<k&&0>a(ke,me))Q[Ze]=ke,Q[ge]=me,Ze=ge;else break e}}return le}function a(Q,le){var me=Q.sortIndex-le.sortIndex;return me!==0?me:Q.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],y=1,T=null,b=3,R=!1,C=!1,B=!1,W=!1,Y=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function re(Q){for(var le=t(m);le!==null;){if(le.callback===null)i(m);else if(le.startTime<=Q)i(m),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(m)}}function ue(Q){if(B=!1,re(Q),!C)if(t(p)!==null)C=!0,ve||(ve=!0,F());else{var le=t(m);le!==null&&_t(ue,le.startTime-Q)}}var ve=!1,M=-1,A=5,N=-1;function V(){return W?!0:!(n.unstable_now()-N<A)}function P(){if(W=!1,ve){var Q=n.unstable_now();N=Q;var le=!0;try{e:{C=!1,B&&(B=!1,J(M),M=-1),R=!0;var me=b;try{t:{for(re(Q),T=t(p);T!==null&&!(T.expirationTime>Q&&V());){var Ze=T.callback;if(typeof Ze=="function"){T.callback=null,b=T.priorityLevel;var k=Ze(T.expirationTime<=Q);if(Q=n.unstable_now(),typeof k=="function"){T.callback=k,re(Q),le=!0;break t}T===t(p)&&i(p),re(Q)}else i(p);T=t(p)}if(T!==null)le=!0;else{var ne=t(m);ne!==null&&_t(ue,ne.startTime-Q),le=!1}}break e}finally{T=null,b=me,R=!1}le=void 0}}finally{le?F():ve=!1}}}var F;if(typeof te=="function")F=function(){te(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,en=x.port2;x.port1.onmessage=P,F=function(){en.postMessage(null)}}else F=function(){Y(P,0)};function _t(Q,le){M=Y(function(){Q(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var me=b;b=le;try{return Q()}finally{b=me}},n.unstable_requestPaint=function(){W=!0},n.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var me=b;b=Q;try{return le()}finally{b=me}},n.unstable_scheduleCallback=function(Q,le,me){var Ze=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ze+me:Ze):me=Ze,Q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=me+k,Q={id:y++,callback:le,priorityLevel:Q,startTime:me,expirationTime:k,sortIndex:-1},me>Ze?(Q.sortIndex=me,e(m,Q),t(p)===null&&Q===t(m)&&(B?(J(M),M=-1):B=!0,_t(ue,me-Ze))):(Q.sortIndex=k,e(p,Q),C||R||(C=!0,ve||(ve=!0,F()))),Q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Q){var le=b;return function(){var me=b;b=le;try{return Q.apply(this,arguments)}finally{b=me}}}}(gg)),gg}var UE;function X2(){return UE||(UE=1,mg.exports=Q2()),mg.exports}var _g={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function K2(){if(LE)return hn;LE=1;var n=j_();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},hn.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},hn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},hn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},hn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,T=d(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:R}):y==="script"&&i.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},hn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=d(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},hn.requestFormReset=function(p){i.d.r(p)},hn.unstable_batchedUpdates=function(p,m){return p(m)},hn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var WE;function $2(){if(WE)return _g.exports;WE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_g.exports=K2(),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function eN(){if(FE)return Lc;FE=1;var n=X2(),e=j_(),t=$2();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),r;if(g===u)return d(f),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=g;break}if(S===u){E=!0,u=f,o=g;break}S=S.sibling}if(!E){for(S=g.child;S;){if(S===o){E=!0,o=g,u=f;break}if(S===u){E=!0,u=g,o=f;break}S=S.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),te=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function en(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case W:return"Profiler";case B:return"StrictMode";case ue:return"Suspense";case ve:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case te:return(r.displayName||"Context")+".Provider";case J:return(r._context.displayName||"Context")+".Consumer";case re:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:en(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return en(r(s))}catch{}}return null}var _t=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ze=[],k=-1;function ne(r){return{current:r}}function ce(r){0>k||(r.current=Ze[k],Ze[k]=null,k--)}function se(r,s){k++,Ze[k]=r.current,r.current=s}var ge=ne(null),ke=ne(null),Re=ne(null),Ht=ne(null);function ot(r,s){switch(se(Re,s),se(ke,r),se(ge,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?aE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=aE(s),r=oE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(ge),se(ge,r)}function Si(){ce(ge),ce(ke),ce(Re)}function qr(r){r.memoizedState!==null&&se(Ht,r);var s=ge.current,o=oE(s,r.type);s!==o&&(se(ke,r),se(ge,o))}function er(r){ke.current===r&&(ce(ge),ce(ke)),Ht.current===r&&(ce(Ht),kc._currentValue=me)}var Gs=Object.prototype.hasOwnProperty,Zs=n.unstable_scheduleCallback,Ys=n.unstable_cancelCallback,Nl=n.unstable_shouldYield,Yu=n.unstable_requestPaint,Hn=n.unstable_now,dp=n.unstable_getCurrentPriorityLevel,Ol=n.unstable_ImmediatePriority,Ka=n.unstable_UserBlockingPriority,Js=n.unstable_NormalPriority,fp=n.unstable_LowPriority,$a=n.unstable_IdlePriority,xl=n.log,Ju=n.unstable_setDisableYieldValue,yt=null,Xe=null;function kn(r){if(typeof xl=="function"&&Ju(r),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(yt,r)}catch{}}var cn=Math.clz32?Math.clz32:Qs,Qu=Math.log,pp=Math.LN2;function Qs(r){return r>>>=0,r===0?32:31-(Qu(r)/pp|0)|0}var Xs=256,Ks=4194304;function oi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function eo(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=oi(u):(E&=S,E!==0?f=oi(E):o||(o=S&~r,o!==0&&(f=oi(o))))):(S=u&~g,S!==0?f=oi(S):E!==0?f=oi(E):o||(o=u&~r,o!==0&&(f=oi(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function $s(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function kl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var r=Xs;return Xs<<=1,(Xs&4194048)===0&&(Xs=256),r}function Dl(){var r=Ks;return Ks<<=1,(Ks&62914560)===0&&(Ks=4194304),r}function tr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function nr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ml(r,s,o,u,f,g){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,O=r.expirationTimes,H=r.hiddenUpdates;for(o=E&~o;0<o;){var X=31-cn(o),$=1<<X;S[X]=0,O[X]=-1;var q=H[X];if(q!==null)for(H[X]=null,X=0;X<q.length;X++){var G=q[X];G!==null&&(G.lane&=-536870913)}o&=~$}u!==0&&Ii(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~s))}function Ii(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-cn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Pl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-cn(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Gr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function to(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zr(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:RE(r.type))}function Xu(r,s){var o=le.p;try{return le.p=r,s()}finally{le.p=o}}var dt=Math.random().toString(36).slice(2),Dt="__reactFiber$"+dt,At="__reactProps$"+dt,qn="__reactContainer$"+dt,Ul="__reactEvents$"+dt,mp="__reactListeners$"+dt,Yr="__reactHandles$"+dt,Ku="__reactResources$"+dt,ea="__reactMarker$"+dt;function Jr(r){delete r[Dt],delete r[At],delete r[Ul],delete r[mp],delete r[Yr]}function ir(r){var s=r[Dt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[qn]||o[Dt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=hE(r);r!==null;){if(o=r[Dt])return o;r=hE(r)}return s}r=o,o=r.parentNode}return null}function Ri(r){if(r=r[Dt]||r[qn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ai(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function yn(r){var s=r[Ku];return s||(s=r[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[ea]=!0}var Ll=new Set,no={};function li(r,s){rr(r,s),rr(r+"Capture",s)}function rr(r,s){for(no[r]=s,r=0;r<s.length;r++)Ll.add(s[r])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eh={},ta={};function th(r){return Gs.call(ta,r)?!0:Gs.call(eh,r)?!1:$u.test(r)?ta[r]=!0:(eh[r]=!0,!1)}function Qr(r,s,o){if(th(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ci(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function tn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var na,nh;function sr(r){if(na===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);na=s&&s[1]||"",nh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+r+nh}var io=!1;function ro(r,s){if(!r||io)return"";io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(r,[],$)}else{try{$.call()}catch(G){q=G}r.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=r())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],S=g[1];if(E&&S){var O=E.split(`
`),H=S.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===H.length)for(u=O.length-1,f=H.length-1;1<=u&&0<=f&&O[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==H[f]){var X=`
`+O[u].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=u&&0<=f);break}}}finally{io=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?sr(o):""}function Wl(r){switch(r.tag){case 26:case 27:case 5:return sr(r.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return ro(r.type,!1);case 11:return ro(r.type.render,!1);case 1:return ro(r.type,!0);case 31:return sr("Activity");default:return""}}function so(r){try{var s="";do s+=Wl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gp(r){var s=Fl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ao(r){r._valueTracker||(r._valueTracker=gp(r))}function jl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Fl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function ia(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var _p=/[\n"\\]/g;function Ct(r){return r.replace(_p,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vn(r,s,o,u,f,g,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+vn(s)):r.value!==""+vn(s)&&(r.value=""+vn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Xr(r,E,vn(s)):o!=null?Xr(r,E,vn(o)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+vn(S):r.removeAttribute("name")}function ra(r,s,o,u,f,g,E,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+vn(o):"",s=s!=null?""+vn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Xr(r,s,o){s==="number"&&ia(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ar(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+vn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function et(r,s,o){if(s!=null&&(s=""+vn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+vn(o):""}function sa(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(_t(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=vn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Gn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ih(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||aa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Bl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&ih(r,f,u)}else for(var g in s)s.hasOwnProperty(g)&&ih(r,g,s[g])}function zl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(r){return vp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var or=null;function Zn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var lr=null,cr=null;function Hl(r){var s=Ri(r);if(s&&(r=s.stateNode)){var o=r[At]||null;e:switch(r=s.stateNode,s.type){case"input":if(Vn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[At]||null;if(!f)throw Error(i(90));Vn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&jl(u)}break e;case"textarea":et(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ar(r,!!o.multiple,s,!1)}}}var Ni=!1;function rh(r,s,o){if(Ni)return r(s,o);Ni=!0;try{var u=r(s);return u}finally{if(Ni=!1,(lr!==null||cr!==null)&&(Xh(),lr&&(s=lr,r=cr,cr=lr=null,Hl(s),r)))for(s=0;s<r.length;s++)Hl(r[s])}}function oa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yn=!1;if(ci)try{var la={};Object.defineProperty(la,"passive",{get:function(){Yn=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{Yn=!1}var Oi=null,Kr=null,ur=null;function ql(){if(ur)return ur;var r,s=Kr,o=s.length,u,f="value"in Oi?Oi.value:Oi.textContent,g=f.length;for(r=0;r<o&&s[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return ur=f.slice(r,1<u?1-u:void 0)}function xi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ki(){return!0}function Gl(){return!1}function qt(r){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ki:Gl,this.isPropagationStopped=Gl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),s}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=qt(Je),ca=y({},Je,{view:0,detail:0}),sh=qt(ca),co,uo,Vi,ua=y({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vi&&(Vi&&r.type==="mousemove"?(co=r.screenX-Vi.screenX,uo=r.screenY-Vi.screenY):uo=co=0,Vi=r),co)},movementY:function(r){return"movementY"in r?r.movementY:uo}}),Jn=qt(ua),ah=y({},ua,{dataTransfer:0}),Tp=qt(ah),ha=y({},ca,{relatedTarget:0}),ho=qt(ha),Zl=y({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=qt(Zl),oh=y({},Je,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),po=qt(oh),Ep=y({},Je,{data:0}),Yl=qt(Ep),da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ch[r])?!!s[r]:!1}function fa(){return Jl}var uh=y({},ca,{key:function(r){if(r.key){var s=da[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=xi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?lh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(r){return r.type==="keypress"?xi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?xi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),mo=qt(uh),hh=y({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ql=qt(hh),hr=y({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),dh=qt(hr),fh=y({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),ph=qt(fh),mh=y({},ua,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),go=qt(mh),Tn=y({},Je,{newState:0,oldState:0}),gh=qt(Tn),_h=[9,13,27,32],Di=ci&&"CompositionEvent"in window,h=null;ci&&"documentMode"in document&&(h=document.documentMode);var _=ci&&"TextEvent"in window&&!h,v=ci&&(!Di||h&&8<h&&11>=h),I=" ",j=!1;function Z(r,s){switch(r){case"keyup":return _h.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var je=!1;function Mt(r,s){switch(r){case"compositionend":return ae(s);case"keypress":return s.which!==32?null:(j=!0,I);case"textInput":return r=s.data,r===I&&j?null:r;default:return null}}function Be(r,s){if(je)return r==="compositionend"||!Di&&Z(r,s)?(r=ql(),ur=Kr=Oi=null,je=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v&&s.locale!=="ko"?null:s.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Gt[r.type]:s==="textarea"}function dr(r,s,o,u){lr?cr?cr.push(u):cr=[u]:lr=u,s=id(s,"onChange"),0<s.length&&(o=new lo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var nn=null,Mi=null;function Xl(r){tE(r,0)}function yh(r){var s=Ai(r);if(jl(s))return r}function bv(r,s){if(r==="change")return s}var wv=!1;if(ci){var bp;if(ci){var wp="oninput"in document;if(!wp){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),wp=typeof Sv.oninput=="function"}bp=wp}else bp=!1;wv=bp&&(!document.documentMode||9<document.documentMode)}function Iv(){nn&&(nn.detachEvent("onpropertychange",Rv),Mi=nn=null)}function Rv(r){if(r.propertyName==="value"&&yh(Mi)){var s=[];dr(s,Mi,r,Zn(r)),rh(Xl,s)}}function EC(r,s,o){r==="focusin"?(Iv(),nn=s,Mi=o,nn.attachEvent("onpropertychange",Rv)):r==="focusout"&&Iv()}function bC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yh(Mi)}function wC(r,s){if(r==="click")return yh(s)}function SC(r,s){if(r==="input"||r==="change")return yh(s)}function IC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dn=typeof Object.is=="function"?Object.is:IC;function Kl(r,s){if(Dn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Gs.call(s,f)||!Dn(r[f],s[f]))return!1}return!0}function Av(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cv(r,s){var o=Av(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Av(o)}}function Nv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Nv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ov(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ia(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ia(r.document)}return s}function Sp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var RC=ci&&"documentMode"in document&&11>=document.documentMode,_o=null,Ip=null,$l=null,Rp=!1;function xv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rp||_o==null||_o!==ia(u)||(u=_o,"selectionStart"in u&&Sp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Kl($l,u)||($l=u,u=id(Ip,"onSelect"),0<u.length&&(s=new lo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=_o)))}function pa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var yo={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Ap={},kv={};ci&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function ma(r){if(Ap[r])return Ap[r];if(!yo[r])return r;var s=yo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in kv)return Ap[r]=s[o];return r}var Vv=ma("animationend"),Dv=ma("animationiteration"),Mv=ma("animationstart"),AC=ma("transitionrun"),CC=ma("transitionstart"),NC=ma("transitioncancel"),Pv=ma("transitionend"),Uv=new Map,Cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cp.push("scrollEnd");function ui(r,s){Uv.set(r,s),li(s,[r])}var Lv=new WeakMap;function Qn(r,s){if(typeof r=="object"&&r!==null){var o=Lv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:so(s)},Lv.set(r,s),s)}return{value:r,source:s,stack:so(s)}}var Xn=[],vo=0,Np=0;function vh(){for(var r=vo,s=Np=vo=0;s<r;){var o=Xn[s];Xn[s++]=null;var u=Xn[s];Xn[s++]=null;var f=Xn[s];Xn[s++]=null;var g=Xn[s];if(Xn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Wv(o,f,g)}}function Th(r,s,o,u){Xn[vo++]=r,Xn[vo++]=s,Xn[vo++]=o,Xn[vo++]=u,Np|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Op(r,s,o,u){return Th(r,s,o,u),Eh(r)}function To(r,s){return Th(r,null,null,s),Eh(r)}function Wv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&s!==null&&(f=31-cn(o),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function Eh(r){if(50<Sc)throw Sc=0,Pm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Eo={};function OC(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,s,o,u){return new OC(r,s,o,u)}function xp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fr(r,s){var o=r.alternate;return o===null?(o=Mn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Fv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function bh(r,s,o,u,f,g){var E=0;if(u=r,typeof r=="function")xp(r)&&(E=1);else if(typeof r=="string")E=k2(r,o,ge.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=Mn(31,o,s,f),r.elementType=N,r.lanes=g,r;case C:return ga(o.children,f,g,s);case B:E=8,f|=24;break;case W:return r=Mn(12,o,s,f|2),r.elementType=W,r.lanes=g,r;case ue:return r=Mn(13,o,s,f),r.elementType=ue,r.lanes=g,r;case ve:return r=Mn(19,o,s,f),r.elementType=ve,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:case te:E=10;break e;case J:E=9;break e;case re:E=11;break e;case M:E=14;break e;case A:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Mn(E,o,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function ga(r,s,o,u){return r=Mn(7,r,u,s),r.lanes=o,r}function kp(r,s,o){return r=Mn(6,r,null,s),r.lanes=o,r}function Vp(r,s,o){return s=Mn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var bo=[],wo=0,wh=null,Sh=0,Kn=[],$n=0,_a=null,pr=1,mr="";function ya(r,s){bo[wo++]=Sh,bo[wo++]=wh,wh=r,Sh=s}function jv(r,s,o){Kn[$n++]=pr,Kn[$n++]=mr,Kn[$n++]=_a,_a=r;var u=pr;r=mr;var f=32-cn(u)-1;u&=~(1<<f),o+=1;var g=32-cn(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,pr=1<<32-cn(s)+f|o<<f|u,mr=g+r}else pr=1<<g|o<<f|u,mr=r}function Dp(r){r.return!==null&&(ya(r,1),jv(r,1,0))}function Mp(r){for(;r===wh;)wh=bo[--wo],bo[wo]=null,Sh=bo[--wo],bo[wo]=null;for(;r===_a;)_a=Kn[--$n],Kn[$n]=null,mr=Kn[--$n],Kn[$n]=null,pr=Kn[--$n],Kn[$n]=null}var En=null,vt=null,Ye=!1,va=null,Pi=!1,Pp=Error(i(519));function Ta(r){var s=Error(i(418,""));throw nc(Qn(s,r)),Pp}function Bv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Dt]=r,s[At]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<Rc.length;o++)Pe(Rc[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),ra(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ao(s);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),sa(s,u.value,u.defaultValue,u.children),ao(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||sE(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=rd),s=!0):s=!1,s||Ta(r)}function zv(r){for(En=r.return;En;)switch(En.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:En=En.return}}function ec(r){if(r!==En)return!1;if(!Ye)return zv(r),Ye=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Km(r.type,r.memoizedProps)),o=!o),o&&vt&&Ta(r),zv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){vt=di(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}vt=null}}else s===27?(s=vt,ps(r.type)?(r=ng,ng=null,vt=r):vt=s):vt=En?di(r.stateNode.nextSibling):null;return!0}function tc(){vt=En=null,Ye=!1}function Hv(){var r=va;return r!==null&&(Rn===null?Rn=r:Rn.push.apply(Rn,r),va=null),r}function nc(r){va===null?va=[r]:va.push(r)}var Up=ne(null),Ea=null,gr=null;function $r(r,s,o){se(Up,s._currentValue),s._currentValue=o}function _r(r){r._currentValue=Up.current,ce(Up)}function Lp(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Wp(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var O=0;O<s.length;O++)if(S.context===s[O]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Lp(g.return,o,r),u||(E=null);break e}g=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Lp(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ic(r,s,o,u){r=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=f.type;Dn(f.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(f===Ht.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(kc):r=[kc])}f=f.return}r!==null&&Wp(s,r,o,u),s.flags|=262144}function Ih(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ba(r){Ea=r,gr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function un(r){return qv(Ea,r)}function Rh(r,s){return Ea===null&&ba(r),qv(r,s)}function qv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},gr===null){if(r===null)throw Error(i(308));gr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else gr=gr.next=s;return o}var xC=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},kC=n.unstable_scheduleCallback,VC=n.unstable_NormalPriority,Ut={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fp(){return{controller:new xC,data:new Map,refCount:0}}function rc(r){r.refCount--,r.refCount===0&&kC(VC,function(){r.controller.abort()})}var sc=null,jp=0,So=0,Io=null;function DC(r,s){if(sc===null){var o=sc=[];jp=0,So=zm(),Io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return jp++,s.then(Gv,Gv),s}function Gv(){if(--jp===0&&sc!==null){Io!==null&&(Io.status="fulfilled");var r=sc;sc=null,So=0,Io=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function MC(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Zv=Q.S;Q.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&DC(r,s),Zv!==null&&Zv(r,s)};var wa=ne(null);function Bp(){var r=wa.current;return r!==null?r:lt.pooledCache}function Ah(r,s){s===null?se(wa,wa.current):se(wa,s.pool)}function Yv(){var r=Bp();return r===null?null:{parent:Ut._currentValue,pool:r}}var ac=Error(i(460)),Jv=Error(i(474)),Ch=Error(i(542)),zp={then:function(){}};function Qv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Nh(){}function Xv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Nh,Nh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,$v(r),r;default:if(typeof s.status=="string")s.then(Nh,Nh);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,$v(r),r}throw oc=s,ac}}var oc=null;function Kv(){if(oc===null)throw Error(i(459));var r=oc;return oc=null,r}function $v(r){if(r===ac||r===Ch)throw Error(i(483))}var es=!1;function Hp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ns(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Eh(r),Wv(r,null,o),s}return Th(r,u,s,o),Eh(r)}function lc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Pl(r,o)}}function Gp(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Zp=!1;function cc(){if(Zp){var r=Io;if(r!==null)throw r}}function uc(r,s,o,u){Zp=!1;var f=r.updateQueue;es=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,H=O.next;O.next=null,E===null?g=H:E.next=H,E=O;var X=r.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==E&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=O))}if(g!==null){var $=f.baseState;E=0,X=H=O=null,S=g;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(ze&q)===q:(u&q)===q){q!==0&&q===So&&(Zp=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Se=r,ye=S;q=s;var it=o;switch(ye.tag){case 1:if(Se=ye.payload,typeof Se=="function"){$=Se.call(it,$,q);break e}$=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ye.payload,q=typeof Se=="function"?Se.call(it,$,q):Se,q==null)break e;$=y({},$,q);break e;case 2:es=!0}}q=S.callback,q!==null&&(r.flags|=64,G&&(r.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=G,O=$):X=X.next=G,E|=q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);X===null&&(O=$),f.baseState=O,f.firstBaseUpdate=H,f.lastBaseUpdate=X,g===null&&(f.shared.lanes=0),us|=E,r.lanes=E,r.memoizedState=$}}function e0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function t0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)e0(o[r],s)}var Ro=ne(null),Oh=ne(0);function n0(r,s){r=Sr,se(Oh,r),se(Ro,s),Sr=r|s.baseLanes}function Yp(){se(Oh,Sr),se(Ro,Ro.current)}function Jp(){Sr=Oh.current,ce(Ro),ce(Oh)}var is=0,Oe=null,tt=null,Nt=null,xh=!1,Ao=!1,Sa=!1,kh=0,hc=0,Co=null,PC=0;function wt(){throw Error(i(321))}function Qp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Dn(r[o],s[o]))return!1;return!0}function Xp(r,s,o,u,f,g){return is=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=r===null||r.memoizedState===null?W0:F0,Sa=!1,g=o(u,f),Sa=!1,Ao&&(g=r0(s,o,u,f)),i0(r),g}function i0(r){Q.H=Lh;var s=tt!==null&&tt.next!==null;if(is=0,Nt=tt=Oe=null,xh=!1,hc=0,Co=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&Ih(r)&&(Zt=!0))}function r0(r,s,o,u){Oe=r;var f=0;do{if(Ao&&(Co=null),hc=0,Ao=!1,25<=f)throw Error(i(301));if(f+=1,Nt=tt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=zC,g=s(o,u)}while(Ao);return g}function UC(){var r=Q.H,s=r.useState()[0];return s=typeof s.then=="function"?dc(s):s,r=r.useState()[0],(tt!==null?tt.memoizedState:null)!==r&&(Oe.flags|=1024),s}function Kp(){var r=kh!==0;return kh=0,r}function $p(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function em(r){if(xh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xh=!1}is=0,Nt=tt=Oe=null,Ao=!1,hc=kh=0,Co=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Oe.memoizedState=Nt=r:Nt=Nt.next=r,Nt}function Ot(){if(tt===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=tt.next;var s=Nt===null?Oe.memoizedState:Nt.next;if(s!==null)Nt=s,tt=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));tt=r,r={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Oe.memoizedState=Nt=r:Nt=Nt.next=r}return Nt}function tm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dc(r){var s=hc;return hc+=1,Co===null&&(Co=[]),r=Xv(Co,r,s),s=Oe,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?W0:F0),r}function Vh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return dc(r);if(r.$$typeof===te)return un(r)}throw Error(i(438,String(r)))}function nm(r){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=tm(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=V;return s.index++,o}function yr(r,s){return typeof s=="function"?s(r):s}function Dh(r){var s=Ot();return im(s,tt,r)}function im(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{s=f.next;var S=E=null,O=null,H=s,X=!1;do{var $=H.lane&-536870913;if($!==H.lane?(ze&$)===$:(is&$)===$){var q=H.revertLane;if(q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),$===So&&(X=!0);else if((is&q)===q){H=H.next,q===So&&(X=!0);continue}else $={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=$,E=g):O=O.next=$,Oe.lanes|=q,us|=q;$=H.action,Sa&&o(g,$),g=H.hasEagerState?H.eagerState:o(g,$)}else q={lane:$,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(S=O=q,E=g):O=O.next=q,Oe.lanes|=$,us|=$;H=H.next}while(H!==null&&H!==s);if(O===null?E=g:O.next=S,!Dn(g,r.memoizedState)&&(Zt=!0,X&&(o=Io,o!==null)))throw o;r.memoizedState=g,r.baseState=E,r.baseQueue=O,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function rm(r){var s=Ot(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Dn(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function s0(r,s,o){var u=Oe,f=Ot(),g=Ye;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Dn((tt||f).memoizedState,o);E&&(f.memoizedState=o,Zt=!0),f=f.queue;var S=l0.bind(null,u,f,r);if(fc(2048,8,S,[r]),f.getSnapshot!==s||E||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,No(9,Mh(),o0.bind(null,u,f,o,s),null),lt===null)throw Error(i(349));g||(is&124)!==0||a0(u,s,o)}return o}function a0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=tm(),Oe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function o0(r,s,o,u){s.value=o,s.getSnapshot=u,c0(s)&&u0(r)}function l0(r,s,o){return o(function(){c0(s)&&u0(r)})}function c0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Dn(r,o)}catch{return!0}}function u0(r){var s=To(r,2);s!==null&&Fn(s,r,2)}function sm(r){var s=Sn();if(typeof r=="function"){var o=r;if(r=o(),Sa){kn(!0);try{o()}finally{kn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:r},s}function h0(r,s,o,u){return r.baseState=o,im(r,tt,typeof u=="function"?u:yr)}function LC(r,s,o,u,f){if(Uh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,d0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function d0(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var g=Q.T,E={};Q.T=E;try{var S=o(f,u),O=Q.S;O!==null&&O(E,S),f0(r,s,S)}catch(H){am(r,s,H)}finally{Q.T=g}}else try{g=o(f,u),f0(r,s,g)}catch(H){am(r,s,H)}}function f0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){p0(r,s,u)},function(u){return am(r,s,u)}):p0(r,s,o)}function p0(r,s,o){s.status="fulfilled",s.value=o,m0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,d0(r,o)))}function am(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,m0(s),s=s.next;while(s!==u)}r.action=null}function m0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function g0(r,s){return s}function _0(r,s){if(Ye){var o=lt.formState;if(o!==null){e:{var u=Oe;if(Ye){if(vt){t:{for(var f=vt,g=Pi;f.nodeType!==8;){if(!g){f=null;break t}if(f=di(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){vt=di(f.nextSibling),u=f.data==="F!";break e}}Ta(u)}u=!1}u&&(s=o[0])}}return o=Sn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g0,lastRenderedState:s},o.queue=u,o=P0.bind(null,Oe,u),u.dispatch=o,u=sm(!1),g=hm.bind(null,Oe,!1,u.queue),u=Sn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=LC.bind(null,Oe,f,g,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function y0(r){var s=Ot();return v0(s,tt,r)}function v0(r,s,o){if(s=im(r,s,g0)[0],r=Dh(yr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=dc(s)}catch(E){throw E===ac?Ch:E}else u=s;s=Ot();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,No(9,Mh(),WC.bind(null,f,o),null)),[u,g,r]}function WC(r,s){r.action=s}function T0(r){var s=Ot(),o=tt;if(o!==null)return v0(s,o,r);Ot(),s=s.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function No(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=tm(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Mh(){return{destroy:void 0,resource:void 0}}function E0(){return Ot().memoizedState}function Ph(r,s,o,u){var f=Sn();u=u===void 0?null:u,Oe.flags|=r,f.memoizedState=No(1|s,Mh(),o,u)}function fc(r,s,o,u){var f=Ot();u=u===void 0?null:u;var g=f.memoizedState.inst;tt!==null&&u!==null&&Qp(u,tt.memoizedState.deps)?f.memoizedState=No(s,g,o,u):(Oe.flags|=r,f.memoizedState=No(1|s,g,o,u))}function b0(r,s){Ph(8390656,8,r,s)}function w0(r,s){fc(2048,8,r,s)}function S0(r,s){return fc(4,2,r,s)}function I0(r,s){return fc(4,4,r,s)}function R0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function A0(r,s,o){o=o!=null?o.concat([r]):null,fc(4,4,R0.bind(null,s,r),o)}function om(){}function C0(r,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Qp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function N0(r,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Qp(s,u[1]))return u[0];if(u=r(),Sa){kn(!0);try{r()}finally{kn(!1)}}return o.memoizedState=[u,s],u}function lm(r,s,o){return o===void 0||(is&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=kT(),Oe.lanes|=r,us|=r,o)}function O0(r,s,o,u){return Dn(o,s)?o:Ro.current!==null?(r=lm(r,o,u),Dn(r,s)||(Zt=!0),r):(is&42)===0?(Zt=!0,r.memoizedState=o):(r=kT(),Oe.lanes|=r,us|=r,s)}function x0(r,s,o,u,f){var g=le.p;le.p=g!==0&&8>g?g:8;var E=Q.T,S={};Q.T=S,hm(r,!1,s,o);try{var O=f(),H=Q.S;if(H!==null&&H(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=MC(O,u);pc(r,s,X,Wn(r))}else pc(r,s,u,Wn(r))}catch($){pc(r,s,{then:function(){},status:"rejected",reason:$},Wn())}finally{le.p=g,Q.T=E}}function FC(){}function cm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=k0(r).queue;x0(r,f,s,me,o===null?FC:function(){return V0(r),o(u)})}function k0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function V0(r){var s=k0(r).next.queue;pc(r,s,{},Wn())}function um(){return un(kc)}function D0(){return Ot().memoizedState}function M0(){return Ot().memoizedState}function jC(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Wn();r=ts(o);var u=ns(s,r,o);u!==null&&(Fn(u,s,o),lc(u,s,o)),s={cache:Fp()},r.payload=s;return}s=s.return}}function BC(r,s,o){var u=Wn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Uh(r)?U0(s,o):(o=Op(r,s,o,u),o!==null&&(Fn(o,r,u),L0(o,s,u)))}function P0(r,s,o){var u=Wn();pc(r,s,o,u)}function pc(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uh(r))U0(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,S=g(E,o);if(f.hasEagerState=!0,f.eagerState=S,Dn(S,E))return Th(r,s,f,0),lt===null&&vh(),!1}catch{}finally{}if(o=Op(r,s,f,u),o!==null)return Fn(o,r,u),L0(o,s,u),!0}return!1}function hm(r,s,o,u){if(u={lane:2,revertLane:zm(),action:u,hasEagerState:!1,eagerState:null,next:null},Uh(r)){if(s)throw Error(i(479))}else s=Op(r,o,u,2),s!==null&&Fn(s,r,2)}function Uh(r){var s=r.alternate;return r===Oe||s!==null&&s===Oe}function U0(r,s){Ao=xh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function L0(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Pl(r,o)}}var Lh={readContext:un,use:Vh,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},W0={readContext:un,use:Vh,useCallback:function(r,s){return Sn().memoizedState=[r,s===void 0?null:s],r},useContext:un,useEffect:b0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Ph(4194308,4,R0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Ph(4194308,4,r,s)},useInsertionEffect:function(r,s){Ph(4,2,r,s)},useMemo:function(r,s){var o=Sn();s=s===void 0?null:s;var u=r();if(Sa){kn(!0);try{r()}finally{kn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Sn();if(o!==void 0){var f=o(s);if(Sa){kn(!0);try{o(s)}finally{kn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=BC.bind(null,Oe,r),[u.memoizedState,r]},useRef:function(r){var s=Sn();return r={current:r},s.memoizedState=r},useState:function(r){r=sm(r);var s=r.queue,o=P0.bind(null,Oe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:om,useDeferredValue:function(r,s){var o=Sn();return lm(o,r,s)},useTransition:function(){var r=sm(!1);return r=x0.bind(null,Oe,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Oe,f=Sn();if(Ye){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),lt===null)throw Error(i(349));(ze&124)!==0||a0(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,b0(l0.bind(null,u,g,r),[r]),u.flags|=2048,No(9,Mh(),o0.bind(null,u,g,o,s),null),o},useId:function(){var r=Sn(),s=lt.identifierPrefix;if(Ye){var o=mr,u=pr;o=(u&~(1<<32-cn(u)-1)).toString(32)+o,s=""+s+"R"+o,o=kh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=PC++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:um,useFormState:_0,useActionState:_0,useOptimistic:function(r){var s=Sn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=hm.bind(null,Oe,!0,o),o.dispatch=s,[r,s]},useMemoCache:nm,useCacheRefresh:function(){return Sn().memoizedState=jC.bind(null,Oe)}},F0={readContext:un,use:Vh,useCallback:C0,useContext:un,useEffect:w0,useImperativeHandle:A0,useInsertionEffect:S0,useLayoutEffect:I0,useMemo:N0,useReducer:Dh,useRef:E0,useState:function(){return Dh(yr)},useDebugValue:om,useDeferredValue:function(r,s){var o=Ot();return O0(o,tt.memoizedState,r,s)},useTransition:function(){var r=Dh(yr)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:dc(r),s]},useSyncExternalStore:s0,useId:D0,useHostTransitionStatus:um,useFormState:y0,useActionState:y0,useOptimistic:function(r,s){var o=Ot();return h0(o,tt,r,s)},useMemoCache:nm,useCacheRefresh:M0},zC={readContext:un,use:Vh,useCallback:C0,useContext:un,useEffect:w0,useImperativeHandle:A0,useInsertionEffect:S0,useLayoutEffect:I0,useMemo:N0,useReducer:rm,useRef:E0,useState:function(){return rm(yr)},useDebugValue:om,useDeferredValue:function(r,s){var o=Ot();return tt===null?lm(o,r,s):O0(o,tt.memoizedState,r,s)},useTransition:function(){var r=rm(yr)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:dc(r),s]},useSyncExternalStore:s0,useId:D0,useHostTransitionStatus:um,useFormState:T0,useActionState:T0,useOptimistic:function(r,s){var o=Ot();return tt!==null?h0(o,tt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:nm,useCacheRefresh:M0},Oo=null,mc=0;function Wh(r){var s=mc;return mc+=1,Oo===null&&(Oo=[]),Xv(Oo,r,s)}function gc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Fh(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function j0(r){var s=r._init;return s(r._payload)}function B0(r){function s(U,D){if(r){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function o(U,D){if(!r)return null;for(;D!==null;)s(U,D),D=D.sibling;return null}function u(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function f(U,D){return U=fr(U,D),U.index=0,U.sibling=null,U}function g(U,D,z){return U.index=z,r?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=67108866,D):z):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function E(U){return r&&U.alternate===null&&(U.flags|=67108866),U}function S(U,D,z,K){return D===null||D.tag!==6?(D=kp(z,U.mode,K),D.return=U,D):(D=f(D,z),D.return=U,D)}function O(U,D,z,K){var de=z.type;return de===C?X(U,D,z.props.children,K,z.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&j0(de)===D.type)?(D=f(D,z.props),gc(D,z),D.return=U,D):(D=bh(z.type,z.key,z.props,null,U.mode,K),gc(D,z),D.return=U,D)}function H(U,D,z,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Vp(z,U.mode,K),D.return=U,D):(D=f(D,z.children||[]),D.return=U,D)}function X(U,D,z,K,de){return D===null||D.tag!==7?(D=ga(z,U.mode,K,de),D.return=U,D):(D=f(D,z),D.return=U,D)}function $(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=kp(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return z=bh(D.type,D.key,D.props,null,U.mode,z),gc(z,D),z.return=U,z;case R:return D=Vp(D,U.mode,z),D.return=U,D;case A:var K=D._init;return D=K(D._payload),$(U,D,z)}if(_t(D)||F(D))return D=ga(D,U.mode,z,null),D.return=U,D;if(typeof D.then=="function")return $(U,Wh(D),z);if(D.$$typeof===te)return $(U,Rh(U,D),z);Fh(U,D)}return null}function q(U,D,z,K){var de=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:S(U,D,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===de?O(U,D,z,K):null;case R:return z.key===de?H(U,D,z,K):null;case A:return de=z._init,z=de(z._payload),q(U,D,z,K)}if(_t(z)||F(z))return de!==null?null:X(U,D,z,K,null);if(typeof z.then=="function")return q(U,D,Wh(z),K);if(z.$$typeof===te)return q(U,D,Rh(U,z),K);Fh(U,z)}return null}function G(U,D,z,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,S(D,U,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return U=U.get(K.key===null?z:K.key)||null,O(D,U,K,de);case R:return U=U.get(K.key===null?z:K.key)||null,H(D,U,K,de);case A:var Ve=K._init;return K=Ve(K._payload),G(U,D,z,K,de)}if(_t(K)||F(K))return U=U.get(z)||null,X(D,U,K,de,null);if(typeof K.then=="function")return G(U,D,z,Wh(K),de);if(K.$$typeof===te)return G(U,D,z,Rh(D,K),de);Fh(D,K)}return null}function Se(U,D,z,K){for(var de=null,Ve=null,fe=D,Te=D=0,Jt=null;fe!==null&&Te<z.length;Te++){fe.index>Te?(Jt=fe,fe=null):Jt=fe.sibling;var qe=q(U,fe,z[Te],K);if(qe===null){fe===null&&(fe=Jt);break}r&&fe&&qe.alternate===null&&s(U,fe),D=g(qe,D,Te),Ve===null?de=qe:Ve.sibling=qe,Ve=qe,fe=Jt}if(Te===z.length)return o(U,fe),Ye&&ya(U,Te),de;if(fe===null){for(;Te<z.length;Te++)fe=$(U,z[Te],K),fe!==null&&(D=g(fe,D,Te),Ve===null?de=fe:Ve.sibling=fe,Ve=fe);return Ye&&ya(U,Te),de}for(fe=u(fe);Te<z.length;Te++)Jt=G(fe,U,Te,z[Te],K),Jt!==null&&(r&&Jt.alternate!==null&&fe.delete(Jt.key===null?Te:Jt.key),D=g(Jt,D,Te),Ve===null?de=Jt:Ve.sibling=Jt,Ve=Jt);return r&&fe.forEach(function(vs){return s(U,vs)}),Ye&&ya(U,Te),de}function ye(U,D,z,K){if(z==null)throw Error(i(151));for(var de=null,Ve=null,fe=D,Te=D=0,Jt=null,qe=z.next();fe!==null&&!qe.done;Te++,qe=z.next()){fe.index>Te?(Jt=fe,fe=null):Jt=fe.sibling;var vs=q(U,fe,qe.value,K);if(vs===null){fe===null&&(fe=Jt);break}r&&fe&&vs.alternate===null&&s(U,fe),D=g(vs,D,Te),Ve===null?de=vs:Ve.sibling=vs,Ve=vs,fe=Jt}if(qe.done)return o(U,fe),Ye&&ya(U,Te),de;if(fe===null){for(;!qe.done;Te++,qe=z.next())qe=$(U,qe.value,K),qe!==null&&(D=g(qe,D,Te),Ve===null?de=qe:Ve.sibling=qe,Ve=qe);return Ye&&ya(U,Te),de}for(fe=u(fe);!qe.done;Te++,qe=z.next())qe=G(fe,U,Te,qe.value,K),qe!==null&&(r&&qe.alternate!==null&&fe.delete(qe.key===null?Te:qe.key),D=g(qe,D,Te),Ve===null?de=qe:Ve.sibling=qe,Ve=qe);return r&&fe.forEach(function(H2){return s(U,H2)}),Ye&&ya(U,Te),de}function it(U,D,z,K){if(typeof z=="object"&&z!==null&&z.type===C&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var de=z.key;D!==null;){if(D.key===de){if(de=z.type,de===C){if(D.tag===7){o(U,D.sibling),K=f(D,z.props.children),K.return=U,U=K;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&j0(de)===D.type){o(U,D.sibling),K=f(D,z.props),gc(K,z),K.return=U,U=K;break e}o(U,D);break}else s(U,D);D=D.sibling}z.type===C?(K=ga(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=bh(z.type,z.key,z.props,null,U.mode,K),gc(K,z),K.return=U,U=K)}return E(U);case R:e:{for(de=z.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){o(U,D.sibling),K=f(D,z.children||[]),K.return=U,U=K;break e}else{o(U,D);break}else s(U,D);D=D.sibling}K=Vp(z,U.mode,K),K.return=U,U=K}return E(U);case A:return de=z._init,z=de(z._payload),it(U,D,z,K)}if(_t(z))return Se(U,D,z,K);if(F(z)){if(de=F(z),typeof de!="function")throw Error(i(150));return z=de.call(z),ye(U,D,z,K)}if(typeof z.then=="function")return it(U,D,Wh(z),K);if(z.$$typeof===te)return it(U,D,Rh(U,z),K);Fh(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(o(U,D.sibling),K=f(D,z),K.return=U,U=K):(o(U,D),K=kp(z,U.mode,K),K.return=U,U=K),E(U)):o(U,D)}return function(U,D,z,K){try{mc=0;var de=it(U,D,z,K);return Oo=null,de}catch(fe){if(fe===ac||fe===Ch)throw fe;var Ve=Mn(29,fe,null,U.mode);return Ve.lanes=K,Ve.return=U,Ve}finally{}}}var xo=B0(!0),z0=B0(!1),ei=ne(null),Ui=null;function rs(r){var s=r.alternate;se(Lt,Lt.current&1),se(ei,r),Ui===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(Ui=r)}function H0(r){if(r.tag===22){if(se(Lt,Lt.current),se(ei,r),Ui===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Ui=r)}}else ss()}function ss(){se(Lt,Lt.current),se(ei,ei.current)}function vr(r){ce(ei),Ui===r&&(Ui=null),ce(Lt)}var Lt=ne(0);function jh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||tg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function dm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var fm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Wn(),f=ts(u);f.payload=s,o!=null&&(f.callback=o),s=ns(r,f,u),s!==null&&(Fn(s,r,u),lc(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Wn(),f=ts(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ns(r,f,u),s!==null&&(Fn(s,r,u),lc(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Wn(),u=ts(o);u.tag=2,s!=null&&(u.callback=s),s=ns(r,u,o),s!==null&&(Fn(s,r,o),lc(s,r,o))}};function q0(r,s,o,u,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Kl(o,u)||!Kl(f,g):!0}function G0(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&fm.enqueueReplaceState(s,s.state,null)}function Ia(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Bh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Z0(r){Bh(r)}function Y0(r){console.error(r)}function J0(r){Bh(r)}function zh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Q0(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pm(r,s,o){return o=ts(o),o.tag=3,o.payload={element:null},o.callback=function(){zh(r,s)},o}function X0(r){return r=ts(r),r.tag=3,r}function K0(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){Q0(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Q0(s,o,u),typeof f!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function HC(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ic(s,o,f,!0),o=ei.current,o!==null){switch(o.tag){case 13:return Ui===null?Lm():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===zp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Fm(r,u,f)),!1;case 22:return o.flags|=65536,u===zp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Fm(r,u,f)),!1}throw Error(i(435,o.tag))}return Fm(r,u,f),Lm(),!1}if(Ye)return s=ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Pp&&(r=Error(i(422),{cause:u}),nc(Qn(r,o)))):(u!==Pp&&(s=Error(i(423),{cause:u}),nc(Qn(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Qn(u,o),f=pm(r.stateNode,u,f),Gp(r,f),Tt!==4&&(Tt=2)),!1;var g=Error(i(520),{cause:u});if(g=Qn(g,o),wc===null?wc=[g]:wc.push(g),Tt!==4&&(Tt=2),s===null)return!0;u=Qn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=pm(o.stateNode,u,r),Gp(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hs===null||!hs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=X0(f),K0(f,r,o,u),Gp(o,f),!1}o=o.return}while(o!==null);return!1}var $0=Error(i(461)),Zt=!1;function rn(r,s,o,u){s.child=r===null?z0(s,null,o,u):xo(s,r.child,o,u)}function eT(r,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return ba(s),u=Xp(r,s,o,E,g,f),S=Kp(),r!==null&&!Zt?($p(r,s,f),Tr(r,s,f)):(Ye&&S&&Dp(s),s.flags|=1,rn(r,s,u,f),s.child)}function tT(r,s,o,u,f){if(r===null){var g=o.type;return typeof g=="function"&&!xp(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,nT(r,s,g,u,f)):(r=bh(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!bm(r,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Kl,o(E,u)&&r.ref===s.ref)return Tr(r,s,f)}return s.flags|=1,r=fr(g,u),r.ref=s.ref,r.return=s,s.child=r}function nT(r,s,o,u,f){if(r!==null){var g=r.memoizedProps;if(Kl(g,u)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=u=g,bm(r,f))(r.flags&131072)!==0&&(Zt=!0);else return s.lanes=r.lanes,Tr(r,s,f)}return mm(r,s,o,u,f)}function iT(r,s,o){var u=s.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(f=s.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return rT(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ah(s,g!==null?g.cachePool:null),g!==null?n0(s,g):Yp(),H0(s);else return s.lanes=s.childLanes=536870912,rT(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Ah(s,g.cachePool),n0(s,g),ss(),s.memoizedState=null):(r!==null&&Ah(s,null),Yp(),ss());return rn(r,s,f,o),s.child}function rT(r,s,o,u){var f=Bp();return f=f===null?null:{parent:Ut._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&Ah(s,null),Yp(),H0(s),r!==null&&ic(r,s,u,!0),null}function Hh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function mm(r,s,o,u,f){return ba(s),o=Xp(r,s,o,u,void 0,f),u=Kp(),r!==null&&!Zt?($p(r,s,f),Tr(r,s,f)):(Ye&&u&&Dp(s),s.flags|=1,rn(r,s,o,f),s.child)}function sT(r,s,o,u,f,g){return ba(s),s.updateQueue=null,o=r0(s,u,o,f),i0(r),u=Kp(),r!==null&&!Zt?($p(r,s,g),Tr(r,s,g)):(Ye&&u&&Dp(s),s.flags|=1,rn(r,s,o,g),s.child)}function aT(r,s,o,u,f){if(ba(s),s.stateNode===null){var g=Eo,E=o.contextType;typeof E=="object"&&E!==null&&(g=un(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Hp(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?un(E):Eo,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(dm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&fm.enqueueReplaceState(g,g.state,null),uc(s,u,g,f),cc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var S=s.memoizedProps,O=Ia(o,S);g.props=O;var H=g.context,X=o.contextType;E=Eo,typeof X=="object"&&X!==null&&(E=un(X));var $=o.getDerivedStateFromProps;X=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||H!==E)&&G0(s,g,u,E),es=!1;var q=s.memoizedState;g.state=q,uc(s,u,g,f),cc(),H=s.memoizedState,S||q!==H||es?(typeof $=="function"&&(dm(s,o,$,u),H=s.memoizedState),(O=es||q0(s,o,O,u,q,H,E))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),g.props=u,g.state=H,g.context=E,u=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,qp(r,s),E=s.memoizedProps,X=Ia(o,E),g.props=X,$=s.pendingProps,q=g.context,H=o.contextType,O=Eo,typeof H=="object"&&H!==null&&(O=un(H)),S=o.getDerivedStateFromProps,(H=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==$||q!==O)&&G0(s,g,u,O),es=!1,q=s.memoizedState,g.state=q,uc(s,u,g,f),cc();var G=s.memoizedState;E!==$||q!==G||es||r!==null&&r.dependencies!==null&&Ih(r.dependencies)?(typeof S=="function"&&(dm(s,o,S,u),G=s.memoizedState),(X=es||q0(s,o,X,u,q,G,O)||r!==null&&r.dependencies!==null&&Ih(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=O,u=X):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&q===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&q===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Hh(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=xo(s,r.child,null,f),s.child=xo(s,null,o,f)):rn(r,s,o,f),s.memoizedState=g.state,r=s.child):r=Tr(r,s,f),r}function oT(r,s,o,u){return tc(),s.flags|=256,rn(r,s,o,u),s.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(r){return{baseLanes:r,cachePool:Yv()}}function ym(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ti),r}function lT(r,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(Lt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ye){if(f?rs(s):ss(),Ye){var S=vt,O;if(O=S){e:{for(O=S,S=Pi;O.nodeType!==8;){if(!S){S=null;break e}if(O=di(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(s.memoizedState={dehydrated:S,treeContext:_a!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},O=Mn(18,null,null,0),O.stateNode=S,O.return=s,s.child=O,En=s,vt=null,O=!0):O=!1}O||Ta(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return tg(S)?s.lanes=32:s.lanes=536870912,null;vr(s)}return S=u.children,u=u.fallback,f?(ss(),f=s.mode,S=qh({mode:"hidden",children:S},f),u=ga(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,f=s.child,f.memoizedState=_m(o),f.childLanes=ym(r,E,o),s.memoizedState=gm,u):(rs(s),vm(s,S))}if(O=r.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(g)s.flags&256?(rs(s),s.flags&=-257,s=Tm(r,s,o)):s.memoizedState!==null?(ss(),s.child=r.child,s.flags|=128,s=null):(ss(),f=u.fallback,S=s.mode,u=qh({mode:"visible",children:u.children},S),f=ga(f,S,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,xo(s,r.child,null,o),u=s.child,u.memoizedState=_m(o),u.childLanes=ym(r,E,o),s.memoizedState=gm,s=f);else if(rs(s),tg(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(i(419)),u.stack="",u.digest=E,nc({value:u,source:null,stack:null}),s=Tm(r,s,o)}else if(Zt||ic(r,s,o,!1),E=(o&r.childLanes)!==0,Zt||E){if(E=lt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Gr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,To(r,u),Fn(E,r,u),$0;S.data==="$?"||Lm(),s=Tm(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=O.treeContext,vt=di(S.nextSibling),En=s,Ye=!0,va=null,Pi=!1,r!==null&&(Kn[$n++]=pr,Kn[$n++]=mr,Kn[$n++]=_a,pr=r.id,mr=r.overflow,_a=s),s=vm(s,u.children),s.flags|=4096);return s}return f?(ss(),f=u.fallback,S=s.mode,O=r.child,H=O.sibling,u=fr(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,H!==null?f=fr(H,f):(f=ga(f,S,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,S=r.child.memoizedState,S===null?S=_m(o):(O=S.cachePool,O!==null?(H=Ut._currentValue,O=O.parent!==H?{parent:H,pool:H}:O):O=Yv(),S={baseLanes:S.baseLanes|o,cachePool:O}),f.memoizedState=S,f.childLanes=ym(r,E,o),s.memoizedState=gm,u):(rs(s),o=r.child,r=o.sibling,o=fr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function vm(r,s){return s=qh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function qh(r,s){return r=Mn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Tm(r,s,o){return xo(s,r.child,null,o),r=vm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function cT(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Lp(r.return,s,o)}function Em(r,s,o,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function uT(r,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(rn(r,s,u.children,o),u=Lt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cT(r,o,s);else if(r.tag===19)cT(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(se(Lt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&jh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Em(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&jh(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Em(s,!0,o,null,g);break;case"together":Em(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),us|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(ic(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=fr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=fr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function bm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ih(r)))}function qC(r,s,o){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),$r(s,Ut,r.memoizedState.cache),tc();break;case 27:case 5:qr(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:$r(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(rs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?lT(r,s,o):(rs(s),r=Tr(r,s,o),r!==null?r.sibling:null);rs(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ic(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return uT(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Lt,Lt.current),u)break;return null;case 22:case 23:return s.lanes=0,iT(r,s,o);case 24:$r(s,Ut,r.memoizedState.cache)}return Tr(r,s,o)}function hT(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!bm(r,o)&&(s.flags&128)===0)return Zt=!1,qC(r,s,o);Zt=(r.flags&131072)!==0}else Zt=!1,Ye&&(s.flags&1048576)!==0&&jv(s,Sh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")xp(u)?(r=Ia(u,r),s.tag=1,s=aT(null,s,u,r,o)):(s.tag=0,s=mm(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===re){s.tag=11,s=eT(null,s,u,r,o);break e}else if(f===M){s.tag=14,s=tT(null,s,u,r,o);break e}}throw s=en(u)||u,Error(i(306,s,""))}}return s;case 0:return mm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ia(u,s.pendingProps),aT(r,s,u,f,o);case 3:e:{if(ot(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,qp(r,s),uc(s,u,null,o);var E=s.memoizedState;if(u=E.cache,$r(s,Ut,u),u!==g.cache&&Wp(s,[Ut],o,!0),cc(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=oT(r,s,u,o);break e}else if(u!==f){f=Qn(Error(i(424)),s),nc(f),s=oT(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(vt=di(r.firstChild),En=s,Ye=!0,va=null,Pi=!0,o=z0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(tc(),u===f){s=Tr(r,s,o);break e}rn(r,s,u,o)}s=s.child}return s;case 26:return Hh(r,s),r===null?(o=mE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ye||(o=s.type,r=s.pendingProps,u=sd(Re.current).createElement(o),u[Dt]=s,u[At]=r,an(u,o,r),bt(u),s.stateNode=u):s.memoizedState=mE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return qr(s),r===null&&Ye&&(u=s.stateNode=dE(s.type,s.pendingProps,Re.current),En=s,Pi=!0,f=vt,ps(s.type)?(ng=f,vt=di(u.firstChild)):vt=f),rn(r,s,s.pendingProps.children,o),Hh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ye&&((f=u=vt)&&(u=v2(u,s.type,s.pendingProps,Pi),u!==null?(s.stateNode=u,En=s,vt=di(u.firstChild),Pi=!1,f=!0):f=!1),f||Ta(s)),qr(s),f=s.type,g=s.pendingProps,E=r!==null?r.memoizedProps:null,u=g.children,Km(f,g)?u=null:E!==null&&Km(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Xp(r,s,UC,null,null,o),kc._currentValue=f),Hh(r,s),rn(r,s,u,o),s.child;case 6:return r===null&&Ye&&((r=o=vt)&&(o=T2(o,s.pendingProps,Pi),o!==null?(s.stateNode=o,En=s,vt=null,r=!0):r=!1),r||Ta(s)),null;case 13:return lT(r,s,o);case 4:return ot(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=xo(s,null,u,o):rn(r,s,u,o),s.child;case 11:return eT(r,s,s.type,s.pendingProps,o);case 7:return rn(r,s,s.pendingProps,o),s.child;case 8:return rn(r,s,s.pendingProps.children,o),s.child;case 12:return rn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,$r(s,s.type,u.value),rn(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ba(s),f=un(f),u=u(f),s.flags|=1,rn(r,s,u,o),s.child;case 14:return tT(r,s,s.type,s.pendingProps,o);case 15:return nT(r,s,s.type,s.pendingProps,o);case 19:return uT(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=qh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=fr(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return iT(r,s,o);case 24:return ba(s),u=un(Ut),r===null?(f=Bp(),f===null&&(f=lt,g=Fp(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},Hp(s),$r(s,Ut,f)):((r.lanes&o)!==0&&(qp(r,s),uc(s,null,null,o),cc()),f=r.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),$r(s,Ut,u)):(u=g.cache,$r(s,Ut,u),u!==f.cache&&Wp(s,[Ut],o,!0))),rn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Er(r){r.flags|=4}function dT(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!TE(s)){if(s=ei.current,s!==null&&((ze&4194048)===ze?Ui!==null:(ze&62914560)!==ze&&(ze&536870912)===0||s!==Ui))throw oc=zp,Jv;r.flags|=8192}}function Gh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Dl():536870912,r.lanes|=s,Mo|=s)}function _c(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function GC(r,s,o){var u=s.pendingProps;switch(Mp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),_r(Ut),Si(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ec(s)?Er(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hv())),gt(s),null;case 26:return o=s.memoizedState,r===null?(Er(s),o!==null?(gt(s),dT(s,o)):(gt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Er(s),gt(s),dT(s,o)):(gt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Er(s),gt(s),s.flags&=-16777217),null;case 27:er(s),o=Re.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Er(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=ge.current,ec(s)?Bv(s):(r=dE(f,u,o),s.stateNode=r,Er(s))}return gt(s),null;case 5:if(er(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Er(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(r=ge.current,ec(s))Bv(s);else{switch(f=sd(Re.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[Dt]=s,r[At]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(an(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Er(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Er(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Re.current,ec(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=En,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Dt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||sE(r.nodeValue,o)),r||Ta(s)}else r=sd(r).createTextNode(u),r[Dt]=s,s.stateNode=r}return gt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=ec(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Dt]=s}else tc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else f=Hv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(vr(s),s):(vr(s),null)}if(vr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Gh(s,s.updateQueue),gt(s),null;case 4:return Si(),r===null&&Zm(s.stateNode.containerInfo),gt(s),null;case 10:return _r(s.type),gt(s),null;case 19:if(ce(Lt),f=s.memoizedState,f===null)return gt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)_c(f,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=jh(r),g!==null){for(s.flags|=128,_c(f,!1),r=g.updateQueue,s.updateQueue=r,Gh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Fv(o,r),o=o.sibling;return se(Lt,Lt.current&1|2),s.child}r=r.sibling}f.tail!==null&&Hn()>Jh&&(s.flags|=128,u=!0,_c(f,!1),s.lanes=4194304)}else{if(!u)if(r=jh(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Gh(s,r),_c(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ye)return gt(s),null}else 2*Hn()-f.renderingStartTime>Jh&&o!==536870912&&(s.flags|=128,u=!0,_c(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(r=f.last,r!==null?r.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Hn(),s.sibling=null,r=Lt.current,se(Lt,u?r&1|2:r&1),s):(gt(s),null);case 22:case 23:return vr(s),Jp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&Gh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ce(wa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),_r(Ut),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ZC(r,s){switch(Mp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return _r(Ut),Si(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return er(s),null;case 13:if(vr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));tc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(Lt),null;case 4:return Si(),null;case 10:return _r(s.type),null;case 22:case 23:return vr(s),Jp(),r!==null&&ce(wa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return _r(Ut),null;case 25:return null;default:return null}}function fT(r,s){switch(Mp(s),s.tag){case 3:_r(Ut),Si();break;case 26:case 27:case 5:er(s);break;case 4:Si();break;case 13:vr(s);break;case 19:ce(Lt);break;case 10:_r(s.type);break;case 22:case 23:vr(s),Jp(),r!==null&&ce(wa);break;case 24:_r(Ut)}}function yc(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){st(s,s.return,S)}}function as(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=s;var O=o,H=S;try{H()}catch(X){st(f,O,X)}}}u=u.next}while(u!==g)}}catch(X){st(s,s.return,X)}}function pT(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{t0(s,o)}catch(u){st(r,r.return,u)}}}function mT(r,s,o){o.props=Ia(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){st(r,s,u)}}function vc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){st(r,s,f)}}function Li(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){st(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){st(r,s,f)}else o.current=null}function gT(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){st(r,r.return,f)}}function wm(r,s,o){try{var u=r.stateNode;p2(u,r.type,o,s),u[At]=s}catch(f){st(r,r.return,f)}}function _T(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ps(r.type)||r.tag===4}function Sm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_T(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ps(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Im(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=rd));else if(u!==4&&(u===27&&ps(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Im(r,s,o),r=r.sibling;r!==null;)Im(r,s,o),r=r.sibling}function Zh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&ps(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Zh(r,s,o),r=r.sibling;r!==null;)Zh(r,s,o),r=r.sibling}function yT(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);an(s,u,o),s[Dt]=r,s[At]=o}catch(g){st(r,r.return,g)}}var br=!1,St=!1,Rm=!1,vT=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function YC(r,s){if(r=r.containerInfo,Qm=hd,r=Ov(r),Sp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,S=-1,O=-1,H=0,X=0,$=r,q=null;t:for(;;){for(var G;$!==o||f!==0&&$.nodeType!==3||(S=E+f),$!==g||u!==0&&$.nodeType!==3||(O=E+u),$.nodeType===3&&(E+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===r)break t;if(q===o&&++H===f&&(S=E),q===g&&++X===u&&(O=E),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}o=S===-1||O===-1?null:{start:S,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xm={focusedElem:r,selectionRange:o},hd=!1,Yt=s;Yt!==null;)if(s=Yt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Yt=r;else for(;Yt!==null;){switch(s=Yt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Se=Ia(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Se,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(ye){st(o,o.return,ye)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)eg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":eg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Yt=r;break}Yt=s.return}}function TT(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:os(r,o),u&4&&yc(5,o);break;case 1:if(os(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){st(o,o.return,E)}else{var f=Ia(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){st(o,o.return,E)}}u&64&&pT(o),u&512&&vc(o,o.return);break;case 3:if(os(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{t0(r,s)}catch(E){st(o,o.return,E)}}break;case 27:s===null&&u&4&&yT(o);case 26:case 5:os(r,o),s===null&&u&4&&gT(o),u&512&&vc(o,o.return);break;case 12:os(r,o);break;case 13:os(r,o),u&4&&wT(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=i2.bind(null,o),E2(r,o))));break;case 22:if(u=o.memoizedState!==null||br,!u){s=s!==null&&s.memoizedState!==null||St,f=br;var g=St;br=u,(St=s)&&!g?ls(r,o,(o.subtreeFlags&8772)!==0):os(r,o),br=f,St=g}break;case 30:break;default:os(r,o)}}function ET(r){var s=r.alternate;s!==null&&(r.alternate=null,ET(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Jr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,In=!1;function wr(r,s,o){for(o=o.child;o!==null;)bT(r,s,o),o=o.sibling}function bT(r,s,o){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:St||Li(o,s),wr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Li(o,s);var u=ft,f=In;ps(o.type)&&(ft=o.stateNode,In=!1),wr(r,s,o),Cc(o.stateNode),ft=u,In=f;break;case 5:St||Li(o,s);case 6:if(u=ft,f=In,ft=null,wr(r,s,o),ft=u,In=f,ft!==null)if(In)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){st(o,s,g)}else try{ft.removeChild(o.stateNode)}catch(g){st(o,s,g)}break;case 18:ft!==null&&(In?(r=ft,uE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Pc(r)):uE(ft,o.stateNode));break;case 4:u=ft,f=In,ft=o.stateNode.containerInfo,In=!0,wr(r,s,o),ft=u,In=f;break;case 0:case 11:case 14:case 15:St||as(2,o,s),St||as(4,o,s),wr(r,s,o);break;case 1:St||(Li(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&mT(o,s,u)),wr(r,s,o);break;case 21:wr(r,s,o);break;case 22:St=(u=St)||o.memoizedState!==null,wr(r,s,o),St=u;break;default:wr(r,s,o)}}function wT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Pc(r)}catch(o){st(s,s.return,o)}}function JC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new vT),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new vT),s;default:throw Error(i(435,r.tag))}}function Am(r,s){var o=JC(r);s.forEach(function(u){var f=r2.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function Pn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=r,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(ps(S.type)){ft=S.stateNode,In=!1;break e}break;case 5:ft=S.stateNode,In=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(ft===null)throw Error(i(160));bT(g,E,f),ft=null,In=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ST(s,r),s=s.sibling}var hi=null;function ST(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Pn(s,r),Un(r),u&4&&(as(3,r,r.return),yc(3,r),as(5,r,r.return));break;case 1:Pn(s,r),Un(r),u&512&&(St||o===null||Li(o,o.return)),u&64&&br&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=hi;if(Pn(s,r),Un(r),u&512&&(St||o===null||Li(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ea]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),an(g,u,o),g[Dt]=r,bt(g),u=g;break e;case"link":var E=yE("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(g=E[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}g=f.createElement(u),an(g,u,o),f.head.appendChild(g);break;case"meta":if(E=yE("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(g=E[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}g=f.createElement(u),an(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[Dt]=r,bt(g),u=g}r.stateNode=u}else vE(f,r.type,r.stateNode);else r.stateNode=_E(f,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?vE(f,r.type,r.stateNode):_E(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&wm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Pn(s,r),Un(r),u&512&&(St||o===null||Li(o,o.return)),o!==null&&u&4&&wm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Pn(s,r),Un(r),u&512&&(St||o===null||Li(o,o.return)),r.flags&32){f=r.stateNode;try{Gn(f,"")}catch(G){st(r,r.return,G)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,wm(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Rm=!0);break;case 6:if(Pn(s,r),Un(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(G){st(r,r.return,G)}}break;case 3:if(ld=null,f=hi,hi=ad(s.containerInfo),Pn(s,r),hi=f,Un(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Pc(s.containerInfo)}catch(G){st(r,r.return,G)}Rm&&(Rm=!1,IT(r));break;case 4:u=hi,hi=ad(r.stateNode.containerInfo),Pn(s,r),Un(r),hi=u;break;case 12:Pn(s,r),Un(r);break;case 13:Pn(s,r),Un(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vm=Hn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Am(r,u)));break;case 22:f=r.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,H=br,X=St;if(br=H||f,St=X||O,Pn(s,r),St=X,br=H,Un(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||O||br||St||Ra(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(g=O.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var $=O.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(G){st(O,O.return,G)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(G){st(O,O.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Am(r,o))));break;case 19:Pn(s,r),Un(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Am(r,u)));break;case 30:break;case 21:break;default:Pn(s,r),Un(r)}}function Un(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(_T(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=Sm(r);Zh(r,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Gn(E,""),o.flags&=-33);var S=Sm(r);Zh(r,S,E);break;case 3:case 4:var O=o.stateNode.containerInfo,H=Sm(r);Im(r,H,O);break;default:throw Error(i(161))}}catch(X){st(r,r.return,X)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function IT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;IT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function os(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)TT(r,s.alternate,s),s=s.sibling}function Ra(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:as(4,s,s.return),Ra(s);break;case 1:Li(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&mT(s,s.return,o),Ra(s);break;case 27:Cc(s.stateNode);case 26:case 5:Li(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}r=r.sibling}}function ls(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:ls(f,g,o),yc(4,g);break;case 1:if(ls(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){st(u,u.return,H)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)e0(O[f],S)}catch(H){st(u,u.return,H)}}o&&E&64&&pT(g),vc(g,g.return);break;case 27:yT(g);case 26:case 5:ls(f,g,o),o&&u===null&&E&4&&gT(g),vc(g,g.return);break;case 12:ls(f,g,o);break;case 13:ls(f,g,o),o&&E&4&&wT(f,g);break;case 22:g.memoizedState===null&&ls(f,g,o),vc(g,g.return);break;case 30:break;default:ls(f,g,o)}s=s.sibling}}function Cm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&rc(o))}function Nm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&rc(r))}function Wi(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)RT(r,s,o,u),s=s.sibling}function RT(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(r,s,o,u),f&2048&&yc(9,s);break;case 1:Wi(r,s,o,u);break;case 3:Wi(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&rc(r)));break;case 12:if(f&2048){Wi(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,E=g.id,S=g.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){st(s,s.return,O)}}else Wi(r,s,o,u);break;case 13:Wi(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Wi(r,s,o,u):Tc(r,s):g._visibility&2?Wi(r,s,o,u):(g._visibility|=2,ko(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Cm(E,s);break;case 24:Wi(r,s,o,u),f&2048&&Nm(s.alternate,s);break;default:Wi(r,s,o,u)}}function ko(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,E=s,S=o,O=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:ko(g,E,S,O,f),yc(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?ko(g,E,S,O,f):Tc(g,E):(X._visibility|=2,ko(g,E,S,O,f)),f&&H&2048&&Cm(E.alternate,E);break;case 24:ko(g,E,S,O,f),f&&H&2048&&Nm(E.alternate,E);break;default:ko(g,E,S,O,f)}s=s.sibling}}function Tc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:Tc(o,u),f&2048&&Cm(u.alternate,u);break;case 24:Tc(o,u),f&2048&&Nm(u.alternate,u);break;default:Tc(o,u)}s=s.sibling}}var Ec=8192;function Vo(r){if(r.subtreeFlags&Ec)for(r=r.child;r!==null;)AT(r),r=r.sibling}function AT(r){switch(r.tag){case 26:Vo(r),r.flags&Ec&&r.memoizedState!==null&&D2(hi,r.memoizedState,r.memoizedProps);break;case 5:Vo(r);break;case 3:case 4:var s=hi;hi=ad(r.stateNode.containerInfo),Vo(r),hi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ec,Ec=16777216,Vo(r),Ec=s):Vo(r));break;default:Vo(r)}}function CT(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function bc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,OT(u,r)}CT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)NT(r),r=r.sibling}function NT(r){switch(r.tag){case 0:case 11:case 15:bc(r),r.flags&2048&&as(9,r,r.return);break;case 3:bc(r);break;case 12:bc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Yh(r)):bc(r);break;default:bc(r)}}function Yh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,OT(u,r)}CT(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:as(8,s,s.return),Yh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Yh(s));break;default:Yh(s)}r=r.sibling}}function OT(r,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:as(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:rc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=r;Yt!==null;){u=Yt;var f=u.sibling,g=u.return;if(ET(u),u===o){Yt=null;break e}if(f!==null){f.return=g,Yt=f;break e}Yt=g}}}var QC={getCacheForType:function(r){var s=un(Ut),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},XC=typeof WeakMap=="function"?WeakMap:Map,Ke=0,lt=null,Me=null,ze=0,$e=0,Ln=null,cs=!1,Do=!1,Om=!1,Sr=0,Tt=0,us=0,Aa=0,xm=0,ti=0,Mo=0,wc=null,Rn=null,km=!1,Vm=0,Jh=1/0,Qh=null,hs=null,sn=0,ds=null,Po=null,Uo=0,Dm=0,Mm=null,xT=null,Sc=0,Pm=null;function Wn(){if((Ke&2)!==0&&ze!==0)return ze&-ze;if(Q.T!==null){var r=So;return r!==0?r:zm()}return Zr()}function kT(){ti===0&&(ti=(ze&536870912)===0||Ye?Vl():536870912);var r=ei.current;return r!==null&&(r.flags|=32),ti}function Fn(r,s,o){(r===lt&&($e===2||$e===9)||r.cancelPendingCommit!==null)&&(Lo(r,0),fs(r,ze,ti,!1)),nr(r,o),((Ke&2)===0||r!==lt)&&(r===lt&&((Ke&2)===0&&(Aa|=o),Tt===4&&fs(r,ze,ti,!1)),Fi(r))}function VT(r,s,o){if((Ke&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||$s(r,s),f=u?e2(r,s):Wm(r,s,!0),g=u;do{if(f===0){Do&&!u&&fs(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!KC(o)){f=Wm(r,s,!1),g=!1;continue}if(f===2){if(g=s,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=r;f=wc;var O=S.current.memoizedState.isDehydrated;if(O&&(Lo(S,E).flags|=256),E=Wm(S,E,!1),E!==2){if(Om&&!O){S.errorRecoveryDisabledLanes|=g,Aa|=g,f=4;break e}g=Rn,Rn=f,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){Lo(r,0),fs(r,s,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:fs(u,s,ti,!cs);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Vm+300-Hn(),10<f)){if(fs(u,s,ti,!cs),eo(u,0,!0)!==0)break e;u.timeoutHandle=lE(DT.bind(null,u,o,Rn,Qh,km,s,ti,Aa,Mo,cs,g,2,-0,0),f);break e}DT(u,o,Rn,Qh,km,s,ti,Aa,Mo,cs,g,0,-0,0)}}break}while(!0);Fi(r)}function DT(r,s,o,u,f,g,E,S,O,H,X,$,q,G){if(r.timeoutHandle=-1,$=s.subtreeFlags,($&8192||($&16785408)===16785408)&&(xc={stylesheets:null,count:0,unsuspend:V2},AT(s),$=M2(),$!==null)){r.cancelPendingCommit=$(jT.bind(null,r,s,g,o,u,f,E,S,O,X,1,q,G)),fs(r,g,E,!H);return}jT(r,s,g,o,u,f,E,S,O)}function KC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Dn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fs(r,s,o,u){s&=~xm,s&=~Aa,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var g=31-cn(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&Ii(r,o,s)}function Xh(){return(Ke&6)===0?(Ic(0),!1):!0}function Um(){if(Me!==null){if($e===0)var r=Me.return;else r=Me,gr=Ea=null,em(r),Oo=null,mc=0,r=Me;for(;r!==null;)fT(r.alternate,r),r=r.return;Me=null}}function Lo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,g2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Um(),lt=r,Me=o=fr(r.current,null),ze=s,$e=0,Ln=null,cs=!1,Do=$s(r,s),Om=!1,Mo=ti=xm=Aa=us=Tt=0,Rn=wc=null,km=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-cn(u),g=1<<f;s|=r[f],u&=~g}return Sr=s,vh(),o}function MT(r,s){Oe=null,Q.H=Lh,s===ac||s===Ch?(s=Kv(),$e=3):s===Jv?(s=Kv(),$e=4):$e=s===$0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Me===null&&(Tt=1,zh(r,Qn(s,r.current)))}function PT(){var r=Q.H;return Q.H=Lh,r===null?Lh:r}function UT(){var r=Q.A;return Q.A=QC,r}function Lm(){Tt=4,cs||(ze&4194048)!==ze&&ei.current!==null||(Do=!0),(us&134217727)===0&&(Aa&134217727)===0||lt===null||fs(lt,ze,ti,!1)}function Wm(r,s,o){var u=Ke;Ke|=2;var f=PT(),g=UT();(lt!==r||ze!==s)&&(Qh=null,Lo(r,s)),s=!1;var E=Tt;e:do try{if($e!==0&&Me!==null){var S=Me,O=Ln;switch($e){case 8:Um(),E=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(s=!0);var H=$e;if($e=0,Ln=null,Wo(r,S,O,H),o&&Do){E=0;break e}break;default:H=$e,$e=0,Ln=null,Wo(r,S,O,H)}}$C(),E=Tt;break}catch(X){MT(r,X)}while(!0);return s&&r.shellSuspendCounter++,gr=Ea=null,Ke=u,Q.H=f,Q.A=g,Me===null&&(lt=null,ze=0,vh()),E}function $C(){for(;Me!==null;)LT(Me)}function e2(r,s){var o=Ke;Ke|=2;var u=PT(),f=UT();lt!==r||ze!==s?(Qh=null,Jh=Hn()+500,Lo(r,s)):Do=$s(r,s);e:do try{if($e!==0&&Me!==null){s=Me;var g=Ln;t:switch($e){case 1:$e=0,Ln=null,Wo(r,s,g,1);break;case 2:case 9:if(Qv(g)){$e=0,Ln=null,WT(s);break}s=function(){$e!==2&&$e!==9||lt!==r||($e=7),Fi(r)},g.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Qv(g)?($e=0,Ln=null,WT(s)):($e=0,Ln=null,Wo(r,s,g,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var S=Me;if(!E||TE(E)){$e=0,Ln=null;var O=S.sibling;if(O!==null)Me=O;else{var H=S.return;H!==null?(Me=H,Kh(H)):Me=null}break t}}$e=0,Ln=null,Wo(r,s,g,5);break;case 6:$e=0,Ln=null,Wo(r,s,g,6);break;case 8:Um(),Tt=6;break e;default:throw Error(i(462))}}t2();break}catch(X){MT(r,X)}while(!0);return gr=Ea=null,Q.H=u,Q.A=f,Ke=o,Me!==null?0:(lt=null,ze=0,vh(),Tt)}function t2(){for(;Me!==null&&!Nl();)LT(Me)}function LT(r){var s=hT(r.alternate,r,Sr);r.memoizedProps=r.pendingProps,s===null?Kh(r):Me=s}function WT(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=sT(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=sT(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:em(s);default:fT(o,s),s=Me=Fv(s,Sr),s=hT(o,s,Sr)}r.memoizedProps=r.pendingProps,s===null?Kh(r):Me=s}function Wo(r,s,o,u){gr=Ea=null,em(s),Oo=null,mc=0;var f=s.return;try{if(HC(r,f,s,o,ze)){Tt=1,zh(r,Qn(o,r.current)),Me=null;return}}catch(g){if(f!==null)throw Me=f,g;Tt=1,zh(r,Qn(o,r.current)),Me=null;return}s.flags&32768?(Ye||u===1?r=!0:Do||(ze&536870912)!==0?r=!1:(cs=r=!0,(u===2||u===9||u===3||u===6)&&(u=ei.current,u!==null&&u.tag===13&&(u.flags|=16384))),FT(s,r)):Kh(s)}function Kh(r){var s=r;do{if((s.flags&32768)!==0){FT(s,cs);return}r=s.return;var o=GC(s.alternate,s,Sr);if(o!==null){Me=o;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=r}while(s!==null);Tt===0&&(Tt=5)}function FT(r,s){do{var o=ZC(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);Tt=6,Me=null}function jT(r,s,o,u,f,g,E,S,O){r.cancelPendingCommit=null;do $h();while(sn!==0);if((Ke&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Np,Ml(r,o,g,E,S,O),r===lt&&(Me=lt=null,ze=0),Po=s,ds=r,Uo=o,Dm=g,Mm=f,xT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,s2(Js,function(){return GT(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=le.p,le.p=2,E=Ke,Ke|=4;try{YC(r,s,o)}finally{Ke=E,le.p=f,Q.T=u}}sn=1,BT(),zT(),HT()}}function BT(){if(sn===1){sn=0;var r=ds,s=Po,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=le.p;le.p=2;var f=Ke;Ke|=4;try{ST(s,r);var g=Xm,E=Ov(r.containerInfo),S=g.focusedElem,O=g.selectionRange;if(E!==S&&S&&S.ownerDocument&&Nv(S.ownerDocument.documentElement,S)){if(O!==null&&Sp(S)){var H=O.start,X=O.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var $=S.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),Se=S.textContent.length,ye=Math.min(O.start,Se),it=O.end===void 0?ye:Math.min(O.end,Se);!G.extend&&ye>it&&(E=it,it=ye,ye=E);var U=Cv(S,ye),D=Cv(S,it);if(U&&D&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var z=$.createRange();z.setStart(U.node,U.offset),G.removeAllRanges(),ye>it?(G.addRange(z),G.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),G.addRange(z))}}}}for($=[],G=S;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var K=$[S];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}hd=!!Qm,Xm=Qm=null}finally{Ke=f,le.p=u,Q.T=o}}r.current=s,sn=2}}function zT(){if(sn===2){sn=0;var r=ds,s=Po,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=le.p;le.p=2;var f=Ke;Ke|=4;try{TT(r,s.alternate,s)}finally{Ke=f,le.p=u,Q.T=o}}sn=3}}function HT(){if(sn===4||sn===3){sn=0,Yu();var r=ds,s=Po,o=Uo,u=xT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sn=5:(sn=0,Po=ds=null,qT(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(hs=null),to(o),s=s.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(yt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,f=le.p,le.p=2,Q.T=null;try{for(var g=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];g(S.value,{componentStack:S.stack})}}finally{Q.T=s,le.p=f}}(Uo&3)!==0&&$h(),Fi(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Pm?Sc++:(Sc=0,Pm=r):Sc=0,Ic(0)}}function qT(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,rc(s)))}function $h(r){return BT(),zT(),HT(),GT()}function GT(){if(sn!==5)return!1;var r=ds,s=Dm;Dm=0;var o=to(Uo),u=Q.T,f=le.p;try{le.p=32>o?32:o,Q.T=null,o=Mm,Mm=null;var g=ds,E=Uo;if(sn=0,Po=ds=null,Uo=0,(Ke&6)!==0)throw Error(i(331));var S=Ke;if(Ke|=4,NT(g.current),RT(g,g.current,E,o),Ke=S,Ic(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{le.p=f,Q.T=u,qT(r,s)}}function ZT(r,s,o){s=Qn(o,s),s=pm(r.stateNode,s,2),r=ns(r,s,2),r!==null&&(nr(r,2),Fi(r))}function st(r,s,o){if(r.tag===3)ZT(r,r,o);else for(;s!==null;){if(s.tag===3){ZT(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){r=Qn(o,r),o=X0(2),u=ns(s,o,2),u!==null&&(K0(o,u,s,r),nr(u,2),Fi(u));break}}s=s.return}}function Fm(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new XC;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Om=!0,f.add(o),r=n2.bind(null,r,s,o),s.then(r,r))}function n2(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,lt===r&&(ze&o)===o&&(Tt===4||Tt===3&&(ze&62914560)===ze&&300>Hn()-Vm?(Ke&2)===0&&Lo(r,0):xm|=o,Mo===ze&&(Mo=0)),Fi(r)}function YT(r,s){s===0&&(s=Dl()),r=To(r,s),r!==null&&(nr(r,s),Fi(r))}function i2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),YT(r,o)}function r2(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),YT(r,o)}function s2(r,s){return Zs(r,s)}var ed=null,Fo=null,jm=!1,td=!1,Bm=!1,Ca=0;function Fi(r){r!==Fo&&r.next===null&&(Fo===null?ed=Fo=r:Fo=Fo.next=r),td=!0,jm||(jm=!0,o2())}function Ic(r,s){if(!Bm&&td){Bm=!0;do for(var o=!1,u=ed;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-cn(42|r)+1)-1,g&=f&~(E&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,KT(u,g))}else g=ze,g=eo(u,u===lt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||$s(u,g)||(o=!0,KT(u,g));u=u.next}while(o);Bm=!1}}function a2(){JT()}function JT(){td=jm=!1;var r=0;Ca!==0&&(m2()&&(r=Ca),Ca=0);for(var s=Hn(),o=null,u=ed;u!==null;){var f=u.next,g=QT(u,s);g===0?(u.next=null,o===null?ed=f:o.next=f,f===null&&(Fo=o)):(o=u,(r!==0||(g&3)!==0)&&(td=!0)),u=f}Ic(r)}function QT(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-cn(g),S=1<<E,O=f[E];O===-1?((S&o)===0||(S&u)!==0)&&(f[E]=kl(S,s)):O<=s&&(r.expiredLanes|=S),g&=~S}if(s=lt,o=ze,o=eo(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&($e===2||$e===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ys(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||$s(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Ys(u),to(o)){case 2:case 8:o=Ka;break;case 32:o=Js;break;case 268435456:o=$a;break;default:o=Js}return u=XT.bind(null,r),o=Zs(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Ys(u),r.callbackPriority=2,r.callbackNode=null,2}function XT(r,s){if(sn!==0&&sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if($h()&&r.callbackNode!==o)return null;var u=ze;return u=eo(r,r===lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(VT(r,u,s),QT(r,Hn()),r.callbackNode!=null&&r.callbackNode===o?XT.bind(null,r):null)}function KT(r,s){if($h())return null;VT(r,s,!0)}function o2(){_2(function(){(Ke&6)!==0?Zs(Ol,a2):JT()})}function zm(){return Ca===0&&(Ca=Vl()),Ca}function $T(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:oo(""+r)}function eE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function l2(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=$T((f[At]||null).action),E=u.submitter;E&&(s=(s=E[At]||null)?$T(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var S=new lo("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ca!==0){var O=E?eE(f,E):new FormData(f);cm(o,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(S.preventDefault(),O=E?eE(f,E):new FormData(f),cm(o,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var Hm=0;Hm<Cp.length;Hm++){var qm=Cp[Hm],c2=qm.toLowerCase(),u2=qm[0].toUpperCase()+qm.slice(1);ui(c2,"on"+u2)}ui(Vv,"onAnimationEnd"),ui(Dv,"onAnimationIteration"),ui(Mv,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(AC,"onTransitionRun"),ui(CC,"onTransitionStart"),ui(NC,"onTransitionCancel"),ui(Pv,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rc));function tE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var S=u[E],O=S.instance,H=S.currentTarget;if(S=S.listener,O!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=H;try{g(f)}catch(X){Bh(X)}f.currentTarget=null,g=O}else for(E=0;E<u.length;E++){if(S=u[E],O=S.instance,H=S.currentTarget,S=S.listener,O!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=H;try{g(f)}catch(X){Bh(X)}f.currentTarget=null,g=O}}}}function Pe(r,s){var o=s[Ul];o===void 0&&(o=s[Ul]=new Set);var u=r+"__bubble";o.has(u)||(nE(s,r,2,!1),o.add(u))}function Gm(r,s,o){var u=0;s&&(u|=4),nE(o,r,u,s)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Zm(r){if(!r[nd]){r[nd]=!0,Ll.forEach(function(o){o!=="selectionchange"&&(h2.has(o)||Gm(o,!1,r),Gm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[nd]||(s[nd]=!0,Gm("selectionchange",!1,s))}}function nE(r,s,o,u){switch(RE(s)){case 2:var f=L2;break;case 8:f=W2;break;default:f=og}o=f.bind(null,s,o,r),f=void 0,!Yn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Ym(r,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ir(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=g=E;continue e}S=S.parentNode}}u=u.return}rh(function(){var H=g,X=Zn(o),$=[];e:{var q=Uv.get(r);if(q!==void 0){var G=lo,Se=r;switch(r){case"keypress":if(xi(o)===0)break e;case"keydown":case"keyup":G=mo;break;case"focusin":Se="focus",G=ho;break;case"focusout":Se="blur",G=ho;break;case"beforeblur":case"afterblur":G=ho;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=dh;break;case Vv:case Dv:case Mv:G=fo;break;case Pv:G=ph;break;case"scroll":case"scrollend":G=sh;break;case"wheel":G=go;break;case"copy":case"cut":case"paste":G=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ql;break;case"toggle":case"beforetoggle":G=gh}var ye=(s&4)!==0,it=!ye&&(r==="scroll"||r==="scrollend"),U=ye?q!==null?q+"Capture":null:q;ye=[];for(var D=H,z;D!==null;){var K=D;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=oa(D,U),K!=null&&ye.push(Ac(D,K,z))),it)break;D=D.return}0<ye.length&&(q=new G(q,Se,null,o,X),$.push({event:q,listeners:ye}))}}if((s&7)===0){e:{if(q=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",q&&o!==or&&(Se=o.relatedTarget||o.fromElement)&&(ir(Se)||Se[qn]))break e;if((G||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,G?(Se=o.relatedTarget||o.toElement,G=H,Se=Se?ir(Se):null,Se!==null&&(it=l(Se),ye=Se.tag,Se!==it||ye!==5&&ye!==27&&ye!==6)&&(Se=null)):(G=null,Se=H),G!==Se)){if(ye=Jn,K="onMouseLeave",U="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ye=Ql,K="onPointerLeave",U="onPointerEnter",D="pointer"),it=G==null?q:Ai(G),z=Se==null?q:Ai(Se),q=new ye(K,D+"leave",G,o,X),q.target=it,q.relatedTarget=z,K=null,ir(X)===H&&(ye=new ye(U,D+"enter",Se,o,X),ye.target=z,ye.relatedTarget=it,K=ye),it=K,G&&Se)t:{for(ye=G,U=Se,D=0,z=ye;z;z=jo(z))D++;for(z=0,K=U;K;K=jo(K))z++;for(;0<D-z;)ye=jo(ye),D--;for(;0<z-D;)U=jo(U),z--;for(;D--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=jo(ye),U=jo(U)}ye=null}else ye=null;G!==null&&iE($,q,G,ye,!1),Se!==null&&it!==null&&iE($,it,Se,ye,!0)}}e:{if(q=H?Ai(H):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var de=bv;else if(Pt(q))if(wv)de=SC;else{de=bC;var Ve=EC}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&zl(H.elementType)&&(de=bv):de=wC;if(de&&(de=de(r,H))){dr($,de,o,X);break e}Ve&&Ve(r,q,H),r==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Xr(q,"number",q.value)}switch(Ve=H?Ai(H):window,r){case"focusin":(Pt(Ve)||Ve.contentEditable==="true")&&(_o=Ve,Ip=H,$l=null);break;case"focusout":$l=Ip=_o=null;break;case"mousedown":Rp=!0;break;case"contextmenu":case"mouseup":case"dragend":Rp=!1,xv($,o,X);break;case"selectionchange":if(RC)break;case"keydown":case"keyup":xv($,o,X)}var fe;if(Di)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?Z(r,o)&&(Te="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(v&&o.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(fe=ql()):(Oi=X,Kr="value"in Oi?Oi.value:Oi.textContent,je=!0)),Ve=id(H,Te),0<Ve.length&&(Te=new Yl(Te,r,null,o,X),$.push({event:Te,listeners:Ve}),fe?Te.data=fe:(fe=ae(o),fe!==null&&(Te.data=fe)))),(fe=_?Mt(r,o):Be(r,o))&&(Te=id(H,"onBeforeInput"),0<Te.length&&(Ve=new Yl("onBeforeInput","beforeinput",null,o,X),$.push({event:Ve,listeners:Te}),Ve.data=fe)),l2($,r,H,o,X)}tE($,s)})}function Ac(r,s,o){return{instance:r,listener:s,currentTarget:o}}function id(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=oa(r,o),f!=null&&u.unshift(Ac(r,f,g)),f=oa(r,s),f!=null&&u.push(Ac(r,f,g))),r.tag===3)return u;r=r.return}return[]}function jo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function iE(r,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var S=o,O=S.alternate,H=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||H===null||(O=H,f?(H=oa(o,g),H!=null&&E.unshift(Ac(o,H,O))):f||(H=oa(o,g),H!=null&&E.push(Ac(o,H,O)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var d2=/\r\n?/g,f2=/\u0000|\uFFFD/g;function rE(r){return(typeof r=="string"?r:""+r).replace(d2,`
`).replace(f2,"")}function sE(r,s){return s=rE(s),rE(r)===s}function rd(){}function nt(r,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Gn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Gn(r,""+u);break;case"className":Ci(r,"class",u);break;case"tabIndex":Ci(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(r,o,u);break;case"style":Bl(r,u,g);break;case"data":if(s!=="object"){Ci(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=oo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&nt(r,s,"name",f.name,f,null),nt(r,s,"formEncType",f.formEncType,f,null),nt(r,s,"formMethod",f.formMethod,f,null),nt(r,s,"formTarget",f.formTarget,f,null)):(nt(r,s,"encType",f.encType,f,null),nt(r,s,"method",f.method,f,null),nt(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=oo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=rd);break;case"onScroll":u!=null&&Pe("scroll",r);break;case"onScrollEnd":u!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=oo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),Qr(r,"popover",u);break;case"xlinkActuate":tn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":tn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":tn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":tn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":tn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":tn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":tn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":tn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":tn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=yp.get(o)||o,Qr(r,o,u))}}function Jm(r,s,o,u,f,g){switch(o){case"style":Bl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Gn(r,u):(typeof u=="number"||typeof u=="bigint")&&Gn(r,""+u);break;case"onScroll":u!=null&&Pe("scroll",r);break;case"onScrollEnd":u!=null&&Pe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=r[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Qr(r,o,u)}}}function an(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:nt(r,s,g,E,o,null)}}f&&nt(r,s,"srcSet",o.srcSet,o,null),u&&nt(r,s,"src",o.src,o,null);return;case"input":Pe("invalid",r);var S=g=E=f=null,O=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":E=X;break;case"checked":O=X;break;case"defaultChecked":H=X;break;case"value":g=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:nt(r,s,u,X,o,null)}}ra(r,g,S,O,H,E,f,!1),ao(r);return;case"select":Pe("invalid",r),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:nt(r,s,f,S,o,null)}s=g,o=E,r.multiple=!!u,s!=null?ar(r,!!u,s,!1):o!=null&&ar(r,!!u,o,!0);return;case"textarea":Pe("invalid",r),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:nt(r,s,E,S,o,null)}sa(r,u,f,g),ao(r);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(r,s,O,u,o,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(u=0;u<Rc.length;u++)Pe(Rc[u],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:nt(r,s,H,u,o,null)}return;default:if(zl(s)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&Jm(r,s,X,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&nt(r,s,S,u,o,null))}function p2(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,S=null,O=null,H=null,X=null;for(G in o){var $=o[G];if(o.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=$;default:u.hasOwnProperty(G)||nt(r,s,G,null,u,$)}}for(var q in u){var G=u[q];if($=o[q],u.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":g=G;break;case"name":f=G;break;case"checked":H=G;break;case"defaultChecked":X=G;break;case"value":E=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:G!==$&&nt(r,s,q,G,u,$)}}Vn(r,E,S,O,H,X,g,f);return;case"select":G=E=S=q=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":G=O;default:u.hasOwnProperty(g)||nt(r,s,g,null,u,O)}for(f in u)if(g=u[f],O=o[f],u.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":q=g;break;case"defaultValue":S=g;break;case"multiple":E=g;default:g!==O&&nt(r,s,f,g,u,O)}s=S,o=E,u=G,q!=null?ar(r,!!o,q,!1):!!u!=!!o&&(s!=null?ar(r,!!o,s,!0):ar(r,!!o,o?[]:"",!1));return;case"textarea":G=q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:nt(r,s,S,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&nt(r,s,E,f,u,g)}et(r,q,G);return;case"option":for(var Se in o)if(q=o[Se],o.hasOwnProperty(Se)&&q!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:nt(r,s,Se,null,u,q)}for(O in u)if(q=u[O],G=o[O],u.hasOwnProperty(O)&&q!==G&&(q!=null||G!=null))switch(O){case"selected":r.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:nt(r,s,O,q,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in o)q=o[ye],o.hasOwnProperty(ye)&&q!=null&&!u.hasOwnProperty(ye)&&nt(r,s,ye,null,u,q);for(H in u)if(q=u[H],G=o[H],u.hasOwnProperty(H)&&q!==G&&(q!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:nt(r,s,H,q,u,G)}return;default:if(zl(s)){for(var it in o)q=o[it],o.hasOwnProperty(it)&&q!==void 0&&!u.hasOwnProperty(it)&&Jm(r,s,it,void 0,u,q);for(X in u)q=u[X],G=o[X],!u.hasOwnProperty(X)||q===G||q===void 0&&G===void 0||Jm(r,s,X,q,u,G);return}}for(var U in o)q=o[U],o.hasOwnProperty(U)&&q!=null&&!u.hasOwnProperty(U)&&nt(r,s,U,null,u,q);for($ in u)q=u[$],G=o[$],!u.hasOwnProperty($)||q===G||q==null&&G==null||nt(r,s,$,q,u,G)}var Qm=null,Xm=null;function sd(r){return r.nodeType===9?r:r.ownerDocument}function aE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Km(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $m=null;function m2(){var r=window.event;return r&&r.type==="popstate"?r===$m?!1:($m=r,!0):($m=null,!1)}var lE=typeof setTimeout=="function"?setTimeout:void 0,g2=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,_2=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(r){return cE.resolve(null).then(r).catch(y2)}:lE;function y2(r){setTimeout(function(){throw r})}function ps(r){return r==="head"}function uE(r,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&Cc(E.documentElement),o&2&&Cc(E.body),o&4)for(o=E.head,Cc(o),E=o.firstChild;E;){var S=E.nextSibling,O=E.nodeName;E[ea]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(f===0){r.removeChild(g),Pc(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Pc(s)}function eg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":eg(o),Jr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function v2(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ea])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=di(r.nextSibling),r===null)break}return null}function T2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=di(r.nextSibling),r===null))return null;return r}function tg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function E2(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var ng=null;function hE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function dE(r,s,o){switch(s=sd(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Cc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Jr(r)}var ni=new Map,fE=new Set;function ad(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ir=le.d;le.d={f:b2,r:w2,D:S2,C:I2,L:R2,m:A2,X:N2,S:C2,M:O2};function b2(){var r=Ir.f(),s=Xh();return r||s}function w2(r){var s=Ri(r);s!==null&&s.tag===5&&s.type==="form"?V0(s):Ir.r(r)}var Bo=typeof document>"u"?null:document;function pE(r,s,o){var u=Bo;if(u&&typeof s=="string"&&s){var f=Ct(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),fE.has(f)||(fE.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),an(s,"link",r),bt(s),u.head.appendChild(s)))}}function S2(r){Ir.D(r),pE("dns-prefetch",r,null)}function I2(r,s){Ir.C(r,s),pE("preconnect",r,s)}function R2(r,s,o){Ir.L(r,s,o);var u=Bo;if(u&&r&&s){var f='link[rel="preload"][as="'+Ct(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ct(o.imageSizes)+'"]')):f+='[href="'+Ct(r)+'"]';var g=f;switch(s){case"style":g=zo(r);break;case"script":g=Ho(r)}ni.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ni.set(g,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(Nc(g))||s==="script"&&u.querySelector(Oc(g))||(s=u.createElement("link"),an(s,"link",r),bt(s),u.head.appendChild(s)))}}function A2(r,s){Ir.m(r,s);var o=Bo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Ct(u)+'"][href="'+Ct(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ho(r)}if(!ni.has(g)&&(r=y({rel:"modulepreload",href:r},s),ni.set(g,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Oc(g)))return}u=o.createElement("link"),an(u,"link",r),bt(u),o.head.appendChild(u)}}}function C2(r,s,o){Ir.S(r,s,o);var u=Bo;if(u&&r){var f=yn(u).hoistableStyles,g=zo(r);s=s||"default";var E=f.get(g);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Nc(g)))S.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ni.get(g))&&ig(r,o);var O=E=u.createElement("link");bt(O),an(O,"link",r),O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,od(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(g,E)}}}function N2(r,s){Ir.X(r,s);var o=Bo;if(o&&r){var u=yn(o).hoistableScripts,f=Ho(r),g=u.get(f);g||(g=o.querySelector(Oc(f)),g||(r=y({src:r,async:!0},s),(s=ni.get(f))&&rg(r,s),g=o.createElement("script"),bt(g),an(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function O2(r,s){Ir.M(r,s);var o=Bo;if(o&&r){var u=yn(o).hoistableScripts,f=Ho(r),g=u.get(f);g||(g=o.querySelector(Oc(f)),g||(r=y({src:r,async:!0,type:"module"},s),(s=ni.get(f))&&rg(r,s),g=o.createElement("script"),bt(g),an(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function mE(r,s,o,u){var f=(f=Re.current)?ad(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=zo(o.href),o=yn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=zo(o.href);var g=yn(f).hoistableStyles,E=g.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=f.querySelector(Nc(r)))&&!g._p&&(E.instance=g,E.state.loading=5),ni.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(r,o),g||x2(f,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(o),o=yn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zo(r){return'href="'+Ct(r)+'"'}function Nc(r){return'link[rel="stylesheet"]['+r+"]"}function gE(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function x2(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),an(s,"link",o),bt(s),r.head.appendChild(s))}function Ho(r){return'[src="'+Ct(r)+'"]'}function Oc(r){return"script[async]"+r}function _E(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),an(u,"style",f),od(u,o.precedence,r),s.instance=u;case"stylesheet":f=zo(o.href);var g=r.querySelector(Nc(f));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=gE(o),(f=ni.get(f))&&ig(u,f),g=(r.ownerDocument||r).createElement("link"),bt(g);var E=g;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),an(g,"link",u),s.state.loading|=4,od(g,o.precedence,r),s.instance=g;case"script":return g=Ho(o.src),(f=r.querySelector(Oc(g)))?(s.instance=f,bt(f),f):(u=o,(f=ni.get(g))&&(u=y({},o),rg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),bt(f),an(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,od(u,o.precedence,r));return s.instance}function od(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===s)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ig(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function rg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ld=null;function yE(r,s,o){if(ld===null){var u=new Map,f=ld=new Map;f.set(o,u)}else f=ld,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[ea]||g[Dt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=r+E;var S=u.get(E);S?S.push(g):u.set(E,[g])}}return u}function vE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function k2(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function TE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var xc=null;function V2(){}function D2(r,s,o){if(xc===null)throw Error(i(475));var u=xc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=zo(o.href),g=r.querySelector(Nc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=cd.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=r.ownerDocument||r,o=gE(o),(f=ni.get(f))&&ig(o,f),g=g.createElement("link"),bt(g);var E=g;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),an(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=cd.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function M2(){if(xc===null)throw Error(i(475));var r=xc;return r.stylesheets&&r.count===0&&sg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&sg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function cd(){if(this.count--,this.count===0){if(this.stylesheets)sg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ud=null;function sg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ud=new Map,s.forEach(P2,r),ud=null,cd.call(r))}function P2(r,s){if(!(s.state.loading&4)){var o=ud.get(r);if(o)var u=o.get(null);else{o=new Map,ud.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=cd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var kc={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function U2(r,s,o,u,f,g,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function EE(r,s,o,u,f,g,E,S,O,H,X,$){return r=new U2(r,s,o,E,S,O,H,$),s=1,g===!0&&(s|=24),g=Mn(3,null,null,s),r.current=g,g.stateNode=r,s=Fp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Hp(g),r}function bE(r){return r?(r=Eo,r):Eo}function wE(r,s,o,u,f,g){f=bE(f),u.context===null?u.context=f:u.pendingContext=f,u=ts(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ns(r,u,s),o!==null&&(Fn(o,r,s),lc(o,r,s))}function SE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function ag(r,s){SE(r,s),(r=r.alternate)&&SE(r,s)}function IE(r){if(r.tag===13){var s=To(r,67108864);s!==null&&Fn(s,r,67108864),ag(r,67108864)}}var hd=!0;function L2(r,s,o,u){var f=Q.T;Q.T=null;var g=le.p;try{le.p=2,og(r,s,o,u)}finally{le.p=g,Q.T=f}}function W2(r,s,o,u){var f=Q.T;Q.T=null;var g=le.p;try{le.p=8,og(r,s,o,u)}finally{le.p=g,Q.T=f}}function og(r,s,o,u){if(hd){var f=lg(u);if(f===null)Ym(r,s,u,dd,o),AE(r,u);else if(j2(f,r,s,o,u))u.stopPropagation();else if(AE(r,u),s&4&&-1<F2.indexOf(r)){for(;f!==null;){var g=Ri(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=oi(g.pendingLanes);if(E!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-cn(E);S.entanglements[1]|=O,E&=~O}Fi(g),(Ke&6)===0&&(Jh=Hn()+500,Ic(0))}}break;case 13:S=To(g,2),S!==null&&Fn(S,g,2),Xh(),ag(g,2)}if(g=lg(u),g===null&&Ym(r,s,u,dd,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Ym(r,s,u,null,o)}}function lg(r){return r=Zn(r),cg(r)}var dd=null;function cg(r){if(dd=null,r=ir(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return dd=r,null}function RE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dp()){case Ol:return 2;case Ka:return 8;case Js:case fp:return 32;case $a:return 268435456;default:return 32}default:return 32}}var ug=!1,ms=null,gs=null,_s=null,Vc=new Map,Dc=new Map,ys=[],F2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AE(r,s){switch(r){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Vc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(s.pointerId)}}function Mc(r,s,o,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ri(s),s!==null&&IE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function j2(r,s,o,u,f){switch(s){case"focusin":return ms=Mc(ms,r,s,o,u,f),!0;case"dragenter":return gs=Mc(gs,r,s,o,u,f),!0;case"mouseover":return _s=Mc(_s,r,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return Vc.set(g,Mc(Vc.get(g)||null,r,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Dc.set(g,Mc(Dc.get(g)||null,r,s,o,u,f)),!0}return!1}function CE(r){var s=ir(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Xu(r.priority,function(){if(o.tag===13){var u=Wn();u=Gr(u);var f=To(o,u);f!==null&&Fn(f,o,u),ag(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=lg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);or=u,o.target.dispatchEvent(u),or=null}else return s=Ri(o),s!==null&&IE(s),r.blockedOn=o,!1;s.shift()}return!0}function NE(r,s,o){fd(r)&&o.delete(s)}function B2(){ug=!1,ms!==null&&fd(ms)&&(ms=null),gs!==null&&fd(gs)&&(gs=null),_s!==null&&fd(_s)&&(_s=null),Vc.forEach(NE),Dc.forEach(NE)}function pd(r,s){r.blockedOn===s&&(r.blockedOn=null,ug||(ug=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,B2)))}var md=null;function OE(r){md!==r&&(md=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){md===r&&(md=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(cg(u||o)===null)continue;break}var g=Ri(o);g!==null&&(r.splice(s,3),s-=3,cm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Pc(r){function s(O){return pd(O,r)}ms!==null&&pd(ms,r),gs!==null&&pd(gs,r),_s!==null&&pd(_s,r),Vc.forEach(s),Dc.forEach(s);for(var o=0;o<ys.length;o++){var u=ys[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ys.length&&(o=ys[0],o.blockedOn===null);)CE(o),o.blockedOn===null&&ys.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[At]||null;if(typeof g=="function")E||OE(o);else if(E){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[At]||null)S=E.formAction;else if(cg(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),OE(o)}}}function hg(r){this._internalRoot=r}gd.prototype.render=hg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Wn();wE(o,u,r,s,null,null)},gd.prototype.unmount=hg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;wE(r.current,2,null,r,null,null),Xh(),s[qn]=null}};function gd(r){this._internalRoot=r}gd.prototype.unstable_scheduleHydration=function(r){if(r){var s=Zr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ys.length&&s!==0&&s<ys[o].priority;o++);ys.splice(o,0,r),o===0&&CE(r)}};var xE=e.version;if(xE!=="19.1.0")throw Error(i(527,xE,"19.1.0"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var z2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{yt=_d.inject(z2),Xe=_d}catch{}}return Lc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=Z0,g=Y0,E=J0,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=EE(r,1,!1,null,null,o,u,f,g,E,S,null),r[qn]=s.current,Zm(r),new hg(s)},Lc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",g=Z0,E=Y0,S=J0,O=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=EE(r,1,!0,s,o??null,u,f,g,E,S,O,H),s.context=bE(null),o=s.current,u=Wn(),u=Gr(u),f=ts(u),f.callback=null,ns(o,f,u),o=u,s.current.lanes=o,nr(s,o),Fi(s),r[qn]=s.current,Zm(r),new gd(s)},Lc.version="19.1.0",Lc}var jE;function tN(){if(jE)return pg.exports;jE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pg.exports=eN(),pg.exports}var nN=tN(),Wc={},BE;function iN(){if(BE)return Wc;BE=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.parse=c,Wc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,R){const C=new l,B=b.length;if(B<2)return C;const W=(R==null?void 0:R.decode)||y;let Y=0;do{const J=b.indexOf("=",Y);if(J===-1)break;const te=b.indexOf(";",Y),re=te===-1?B:te;if(J>re){Y=b.lastIndexOf(";",J-1)+1;continue}const ue=d(b,Y,J),ve=p(b,J,ue),M=b.slice(ue,ve);if(C[M]===void 0){let A=d(b,J+1,re),N=p(b,re,A);const V=W(b.slice(A,N));C[M]=V}Y=re+1}while(Y<B);return C}function d(b,R,C){do{const B=b.charCodeAt(R);if(B!==32&&B!==9)return R}while(++R<C);return C}function p(b,R,C){for(;R>C;){const B=b.charCodeAt(--R);if(B!==32&&B!==9)return R+1}return C}function m(b,R,C){const B=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const W=B(R);if(!e.test(W))throw new TypeError(`argument val is invalid: ${R}`);let Y=b+"="+W;if(!C)return Y;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);Y+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);Y+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);Y+="; Path="+C.path}if(C.expires){if(!T(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);Y+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(Y+="; HttpOnly"),C.secure&&(Y+="; Secure"),C.partitioned&&(Y+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return Y}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return Wc}iN();var zE="popstate";function rN(n={}){function e(a,l){let{pathname:c="/",search:d="",hash:p=""}=qa(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Gg("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=a.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof l=="string"?l:cu(l))}function i(a,l){ri(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return aN(e,t,i,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ri(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sN(){return Math.random().toString(36).substring(2,10)}function HE(n,e){return{usr:n.state,key:n.key,idx:e}}function Gg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:t,key:e&&e.key||i||sN()}}function cu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function aN(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let W=y(),Y=W==null?null:W-m;m=W,p&&p({action:d,location:B.location,delta:Y})}function b(W,Y){d="PUSH";let J=Gg(B.location,W,Y);t&&t(J,W),m=y()+1;let te=HE(J,m),re=B.createHref(J);try{c.pushState(te,"",re)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(re)}l&&p&&p({action:d,location:B.location,delta:1})}function R(W,Y){d="REPLACE";let J=Gg(B.location,W,Y);t&&t(J,W),m=y();let te=HE(J,m),re=B.createHref(J);c.replaceState(te,"",re),l&&p&&p({action:d,location:B.location,delta:0})}function C(W){return oN(W)}let B={get action(){return d},get location(){return n(a,c)},listen(W){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(zE,T),p=W,()=>{a.removeEventListener(zE,T),p=null}},createHref(W){return e(a,W)},createURL:C,encodeLocation(W){let Y=C(W);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:R,go(W){return c.go(W)}};return B}function oN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:cu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function w1(n,e,t="/"){return lN(n,e,t,!1)}function lN(n,e,t,i){let a=typeof e=="string"?qa(e):e,l=Vr(a.pathname||"/",t);if(l==null)return null;let c=S1(n);cN(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=TN(l);d=yN(c[p],m,i)}return d}function S1(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Or([i,p.relativePath]),y=t.concat(p);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),S1(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:gN(m,l.index),routesMeta:y})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of I1(l.path))a(l,c,p)}),e}function I1(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=I1(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function cN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_N(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var uN=/^:[\w-]+$/,hN=3,dN=2,fN=1,pN=10,mN=-2,qE=n=>n==="*";function gN(n,e){let t=n.split("/"),i=t.length;return t.some(qE)&&(i+=mN),e&&(i+=dN),t.filter(a=>!qE(a)).reduce((a,l)=>a+(uN.test(l)?hN:l===""?fN:pN),i)}function _N(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function yN(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=Hd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),b=p.route;if(!T&&m&&t&&!i[i.length-1].route.index&&(T=Hd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Or([l,T.pathname]),pathnameBase:SN(Or([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=Or([l,T.pathnameBase]))}return c}function Hd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=vN(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:T},b)=>{if(y==="*"){let C=d[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const R=d[b];return T&&!R?m[y]=void 0:m[y]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function vN(n,e=!1,t=!0){ri(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function TN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Vr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function EN(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?qa(n):n;return{pathname:t?t.startsWith("/")?t:bN(t,e):e,search:IN(i),hash:RN(a)}}function bN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function yg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function B_(n){let e=wN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function z_(n,e,t,i=!1){let a;typeof n=="string"?a=qa(n):(a={...n},mt(!a.pathname||!a.pathname.includes("?"),yg("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),yg("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),yg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}d=T>=0?e[T]:"/"}let p=EN(a,d),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Or=n=>n.join("/").replace(/\/\/+/g,"/"),SN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,RN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var R1=["POST","PUT","PATCH","DELETE"];new Set(R1);var CN=["GET",...R1];new Set(CN);var gl=L.createContext(null);gl.displayName="DataRouter";var xf=L.createContext(null);xf.displayName="DataRouterState";var A1=L.createContext({isTransitioning:!1});A1.displayName="ViewTransition";var NN=L.createContext(new Map);NN.displayName="Fetchers";var ON=L.createContext(null);ON.displayName="Await";var bi=L.createContext(null);bi.displayName="Navigation";var Cu=L.createContext(null);Cu.displayName="Location";var Ki=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var H_=L.createContext(null);H_.displayName="RouteError";function xN(n,{relative:e}={}){mt(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(bi),{hash:a,pathname:l,search:c}=Nu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Or([t,l])),i.createHref({pathname:d,search:c,hash:a})}function _l(){return L.useContext(Cu)!=null}function zs(){return mt(_l(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Cu).location}var C1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N1(n){L.useContext(bi).static||L.useLayoutEffect(n)}function yl(){let{isDataRoute:n}=L.useContext(Ki);return n?HN():kN()}function kN(){mt(_l(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(gl),{basename:e,navigator:t}=L.useContext(bi),{matches:i}=L.useContext(Ki),{pathname:a}=zs(),l=JSON.stringify(B_(i)),c=L.useRef(!1);return N1(()=>{c.current=!0}),L.useCallback((p,m={})=>{if(ri(c.current,C1),!c.current)return;if(typeof p=="number"){t.go(p);return}let y=z_(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Or([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}L.createContext(null);function Nu(n,{relative:e}={}){let{matches:t}=L.useContext(Ki),{pathname:i}=zs(),a=JSON.stringify(B_(t));return L.useMemo(()=>z_(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function VN(n,e){return O1(n,e)}function O1(n,e,t,i){var Y;mt(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(bi),{matches:l}=L.useContext(Ki),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let J=y&&y.path||"";x1(p,!y||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let T=zs(),b;if(e){let J=typeof e=="string"?qa(e):e;mt(m==="/"||((Y=J.pathname)==null?void 0:Y.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${J.pathname}" was given in the \`location\` prop.`),b=J}else b=T;let R=b.pathname||"/",C=R;if(m!=="/"){let J=m.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(J.length).join("/")}let B=w1(n,{pathname:C});ri(y||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ri(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=LN(B&&B.map(J=>Object.assign({},J,{params:Object.assign({},d,J.params),pathname:Or([m,a.encodeLocation?a.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?m:Or([m,a.encodeLocation?a.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),l,t,i);return e&&W?L.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},W):W}function DN(){let n=zN(),e=AN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:a},t):null,c)}var MN=L.createElement(DN,null),PN=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(Ki.Provider,{value:this.props.routeContext},L.createElement(H_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UN({routeContext:n,match:e,children:t}){let i=L.useContext(gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Ki.Provider,{value:n},t)}function LN(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:T}=t,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let T,b=!1,R=null,C=null;t&&(T=l&&m.route.id?l[m.route.id]:void 0,R=m.route.errorElement||MN,c&&(d<0&&y===0?(x1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):d===y&&(b=!0,C=m.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,y+1)),W=()=>{let Y;return T?Y=R:b?Y=C:m.route.Component?Y=L.createElement(m.route.Component,null):m.route.element?Y=m.route.element:Y=p,L.createElement(UN,{match:m,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:Y})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?L.createElement(PN,{location:t.location,revalidation:t.revalidation,component:R,error:T,children:W(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):W()},null)}function q_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WN(n){let e=L.useContext(gl);return mt(e,q_(n)),e}function FN(n){let e=L.useContext(xf);return mt(e,q_(n)),e}function jN(n){let e=L.useContext(Ki);return mt(e,q_(n)),e}function G_(n){let e=jN(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BN(){return G_("useRouteId")}function zN(){var i;let n=L.useContext(H_),e=FN("useRouteError"),t=G_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function HN(){let{router:n}=WN("useNavigate"),e=G_("useNavigate"),t=L.useRef(!1);return N1(()=>{t.current=!0}),L.useCallback(async(a,l={})=>{ri(t.current,C1),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var GE={};function x1(n,e,t){!e&&!GE[n]&&(GE[n]=!0,ri(!1,t))}L.memo(qN);function qN({routes:n,future:e,state:t}){return O1(n,void 0,t,e)}function vg({to:n,replace:e,state:t,relative:i}){mt(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(bi);ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(Ki),{pathname:c}=zs(),d=yl(),p=z_(n,B_(l),c,i==="path"),m=JSON.stringify(p);return L.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function xt(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){mt(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=qa(t));let{pathname:p="/",search:m="",hash:y="",state:T=null,key:b="default"}=t,R=L.useMemo(()=>{let C=Vr(p,c);return C==null?null:{location:{pathname:C,search:m,hash:y,state:T,key:b},navigationType:i}},[c,p,m,y,T,b,i]);return ri(R!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:L.createElement(bi.Provider,{value:d},L.createElement(Cu.Provider,{children:e,value:R}))}function ZE({children:n,location:e}){return VN(Zg(n),e)}function Zg(n,e=[]){let t=[];return L.Children.forEach(n,(i,a)=>{if(!L.isValidElement(i))return;let l=[...e,a];if(i.type===L.Fragment){t.push.apply(t,Zg(i.props.children,l));return}mt(i.type===xt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Zg(i.props.children,l)),t.push(c)}),t}var xd="get",kd="application/x-www-form-urlencoded";function kf(n){return n!=null&&typeof n.tagName=="string"}function ZN(n){return kf(n)&&n.tagName.toLowerCase()==="button"}function YN(n){return kf(n)&&n.tagName.toLowerCase()==="form"}function JN(n){return kf(n)&&n.tagName.toLowerCase()==="input"}function QN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XN(n,e){return n.button===0&&(!e||e==="_self")&&!QN(n)}var yd=null;function KN(){if(yd===null)try{new FormData(document.createElement("form"),0),yd=!1}catch{yd=!0}return yd}var $N=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(n){return n!=null&&!$N.has(n)?(ri(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):n}function eO(n,e){let t,i,a,l,c;if(YN(n)){let d=n.getAttribute("action");i=d?Vr(d,e):null,t=n.getAttribute("method")||xd,a=Tg(n.getAttribute("enctype"))||kd,l=new FormData(n)}else if(ZN(n)||JN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Vr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||xd,a=Tg(n.getAttribute("formenctype"))||Tg(d.getAttribute("enctype"))||kd,l=new FormData(d,n),!KN()){let{name:m,type:y,value:T}=n;if(y==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,T)}}else{if(kf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xd,i=null,a=kd,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Z_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function tO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function iO(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await tO(l,t);return c.links?c.links():[]}return[]}));return oO(i.flat(1).filter(nO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function YE(n,e,t,i,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>{var y;return t[m].pathname!==p.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{var T;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function rO(n,e,{includeHydrateFallback:t}={}){return sO(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function sO(n){return[...new Set(n)]}function aO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function oO(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(aO(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lO=new Set([100,101,204,205]);function cO(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Vr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function k1(){let n=L.useContext(gl);return Z_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function uO(){let n=L.useContext(xf);return Z_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Y_=L.createContext(void 0);Y_.displayName="FrameworkContext";function V1(){let n=L.useContext(Y_);return Z_(n,"You must render this element inside a <HydratedRouter> element"),n}function hO(n,e){let t=L.useContext(Y_),[i,a]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:T}=e,b=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let B=Y=>{Y.forEach(J=>{c(J.isIntersecting)})},W=new IntersectionObserver(B,{threshold:.5});return b.current&&W.observe(b.current),()=>{W.disconnect()}}},[n]),L.useEffect(()=>{if(i){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[i]);let R=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Fc(d,R),onBlur:Fc(p,C),onMouseEnter:Fc(m,R),onMouseLeave:Fc(y,C),onTouchStart:Fc(T,R)}]:[!1,b,{}]}function Fc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dO({page:n,...e}){let{router:t}=k1(),i=L.useMemo(()=>w1(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(pO,{page:n,matches:i,...e}):null}function fO(n){let{manifest:e,routeModules:t}=V1(),[i,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return iO(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function pO({page:n,matches:e,...t}){let i=zs(),{manifest:a,routeModules:l}=V1(),{basename:c}=k1(),{loaderData:d,matches:p}=uO(),m=L.useMemo(()=>YE(n,e,p,a,i,"data"),[n,e,p,a,i]),y=L.useMemo(()=>YE(n,e,p,a,i,"assets"),[n,e,p,a,i]),T=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,B=!1;if(e.forEach(Y=>{var te;let J=a.routes[Y.route.id];!J||!J.hasLoader||(!m.some(re=>re.route.id===Y.route.id)&&Y.route.id in d&&((te=l[Y.route.id])!=null&&te.shouldRevalidate)||J.hasClientLoader?B=!0:C.add(Y.route.id))}),C.size===0)return[];let W=cO(n,c);return B&&C.size>0&&W.searchParams.set("_routes",e.filter(Y=>C.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[W.pathname+W.search]},[c,d,i,a,m,e,n,l]),b=L.useMemo(()=>rO(y,a),[y,a]),R=fO(y);return L.createElement(L.Fragment,null,T.map(C=>L.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>L.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),R.map(({key:C,link:B})=>L.createElement("link",{key:C,...B})))}function mO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D1&&(window.__reactRouterVersion="7.6.2")}catch{}function gO({basename:n,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=rN({window:t,v5Compat:!0}));let a=i.current,[l,c]=L.useState({action:a.action,location:a.location}),d=L.useCallback(p=>{L.startTransition(()=>c(p))},[c]);return L.useLayoutEffect(()=>a.listen(d),[a,d]),L.createElement(GN,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var M1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:y,viewTransition:T,...b},R){let{basename:C}=L.useContext(bi),B=typeof m=="string"&&M1.test(m),W,Y=!1;if(typeof m=="string"&&B&&(W=m,D1))try{let N=new URL(window.location.href),V=m.startsWith("//")?new URL(N.protocol+m):new URL(m),P=Vr(V.pathname,C);V.origin===N.origin&&P!=null?m=P+V.search+V.hash:Y=!0}catch{ri(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=xN(m,{relative:a}),[te,re,ue]=hO(i,b),ve=TO(m,{replace:c,state:d,target:p,preventScrollReset:y,relative:a,viewTransition:T});function M(N){e&&e(N),N.defaultPrevented||ve(N)}let A=L.createElement("a",{...b,...ue,href:W||J,onClick:Y||l?e:M,ref:mO(R,re),target:p,"data-discover":!B&&t==="render"?"true":void 0});return te&&!B?L.createElement(L.Fragment,null,A,L.createElement(dO,{page:J})):A});It.displayName="Link";var _O=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},y){let T=Nu(c,{relative:m.relative}),b=zs(),R=L.useContext(xf),{navigator:C,basename:B}=L.useContext(bi),W=R!=null&&IO(T)&&d===!0,Y=C.encodeLocation?C.encodeLocation(T).pathname:T.pathname,J=b.pathname,te=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(J=J.toLowerCase(),te=te?te.toLowerCase():null,Y=Y.toLowerCase()),te&&B&&(te=Vr(te,B)||te);const re=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=J===Y||!a&&J.startsWith(Y)&&J.charAt(re)==="/",ve=te!=null&&(te===Y||!a&&te.startsWith(Y)&&te.charAt(Y.length)==="/"),M={isActive:ue,isPending:ve,isTransitioning:W},A=ue?e:void 0,N;typeof i=="function"?N=i(M):N=[i,ue?"active":null,ve?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(M):l;return L.createElement(It,{...m,"aria-current":A,className:N,ref:y,style:V,to:c,viewTransition:d},typeof p=="function"?p(M):p)});_O.displayName="NavLink";var yO=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=xd,action:d,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:T,...b},R)=>{let C=wO(),B=SO(d,{relative:m}),W=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&M1.test(d),J=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let re=te.nativeEvent.submitter,ue=(re==null?void 0:re.getAttribute("formmethod"))||c;C(re||te.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:T})};return L.createElement("form",{ref:R,method:W,action:B,onSubmit:i?p:J,...b,"data-discover":!Y&&n==="render"?"true":void 0})});yO.displayName="Form";function vO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P1(n){let e=L.useContext(gl);return mt(e,vO(n)),e}function TO(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=yl(),p=zs(),m=Nu(n,{relative:l});return L.useCallback(y=>{if(XN(y,e)){y.preventDefault();let T=t!==void 0?t:cu(p)===cu(m);d(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,t,i,e,n,a,l,c])}var EO=0,bO=()=>`__${String(++EO)}__`;function wO(){let{router:n}=P1("useSubmit"),{basename:e}=L.useContext(bi),t=BN();return L.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=eO(i,e);if(a.navigate===!1){let y=a.fetcherKey||bO();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function SO(n,{relative:e}={}){let{basename:t}=L.useContext(bi),i=L.useContext(Ki);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Nu(n||".",{relative:e})},c=zs();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Or([t,l.pathname])),cu(l)}function IO(n,e={}){let t=L.useContext(A1);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=P1("useViewTransitionState"),a=Nu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Vr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Vr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Hd(a.pathname,c)!=null||Hd(a.pathname,l)!=null}[...lO];const RO=""+new URL("logo-g-kdmh2X.png",import.meta.url).href;var Eg={exports:{}},bg,JE;function AO(){if(JE)return bg;JE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bg=n,bg}var wg,QE;function CO(){if(QE)return wg;QE=1;var n=AO();function e(){}function t(){}return t.resetWarningCache=e,wg=function(){function i(c,d,p,m,y,T){if(T!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},wg}var XE;function NO(){return XE||(XE=1,Eg.exports=CO()()),Eg.exports}var OO=NO();const Ie=b1(OO);var xO=["color","size","title","className"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yg.apply(null,arguments)}function kO(n,e){if(n==null)return{};var t,i,a=VO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function VO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var U1=L.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,c=n.title,d=c===void 0?null:c,p=n.className,m=p===void 0?"":p,y=kO(n,xO);return rt.createElement("svg",Yg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-arrow-repeat",m].filter(Boolean).join(" ")},y),d?rt.createElement("title",null,d):null,rt.createElement("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"}),rt.createElement("path",{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"}))});U1.propTypes={color:Ie.string,size:Ie.oneOfType([Ie.string,Ie.number]),title:Ie.string,className:Ie.string};var DO=["color","size","title","className"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jg.apply(null,arguments)}function MO(n,e){if(n==null)return{};var t,i,a=PO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function PO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var L1=L.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,c=n.title,d=c===void 0?null:c,p=n.className,m=p===void 0?"":p,y=MO(n,DO);return rt.createElement("svg",Jg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-box-arrow-right",m].filter(Boolean).join(" ")},y),d?rt.createElement("title",null,d):null,rt.createElement("path",{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"}),rt.createElement("path",{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"}))});L1.propTypes={color:Ie.string,size:Ie.oneOfType([Ie.string,Ie.number]),title:Ie.string,className:Ie.string};var UO=["color","size","title","className"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qg.apply(null,arguments)}function LO(n,e){if(n==null)return{};var t,i,a=WO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function WO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var J_=L.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,c=n.title,d=c===void 0?null:c,p=n.className,m=p===void 0?"":p,y=LO(n,UO);return rt.createElement("svg",Qg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-clipboard2",m].filter(Boolean).join(" ")},y),d?rt.createElement("title",null,d):null,rt.createElement("path",{d:"M3.5 2a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5H12a.5.5 0 0 1 0-1h.5A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1H4a.5.5 0 0 1 0 1z"}),rt.createElement("path",{d:"M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5"}))});J_.propTypes={color:Ie.string,size:Ie.oneOfType([Ie.string,Ie.number]),title:Ie.string,className:Ie.string};var FO=["color","size","title","className"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Xg.apply(null,arguments)}function jO(n,e){if(n==null)return{};var t,i,a=BO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function BO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var W1=L.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,c=n.title,d=c===void 0?null:c,p=n.className,m=p===void 0?"":p,y=jO(n,FO);return rt.createElement("svg",Xg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-github",m].filter(Boolean).join(" ")},y),d?rt.createElement("title",null,d):null,rt.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"}))});W1.propTypes={color:Ie.string,size:Ie.oneOfType([Ie.string,Ie.number]),title:Ie.string,className:Ie.string};var zO=["color","size","title","className"];function Kg(){return Kg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kg.apply(null,arguments)}function HO(n,e){if(n==null)return{};var t,i,a=qO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function qO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var F1=L.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,c=n.title,d=c===void 0?null:c,p=n.className,m=p===void 0?"":p,y=HO(n,zO);return rt.createElement("svg",Kg({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-instagram",m].filter(Boolean).join(" ")},y),d?rt.createElement("title",null,d):null,rt.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"}))});F1.propTypes={color:Ie.string,size:Ie.oneOfType([Ie.string,Ie.number]),title:Ie.string,className:Ie.string};var GO=["color","size","title","className"];function $g(){return $g=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$g.apply(null,arguments)}function ZO(n,e){if(n==null)return{};var t,i,a=YO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function YO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var j1=L.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,c=n.title,d=c===void 0?null:c,p=n.className,m=p===void 0?"":p,y=ZO(n,GO);return rt.createElement("svg",$g({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-person-circle",m].filter(Boolean).join(" ")},y),d?rt.createElement("title",null,d):null,rt.createElement("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"}),rt.createElement("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"}))});j1.propTypes={color:Ie.string,size:Ie.oneOfType([Ie.string,Ie.number]),title:Ie.string,className:Ie.string};var JO=["color","size","title","className"];function e_(){return e_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},e_.apply(null,arguments)}function QO(n,e){if(n==null)return{};var t,i,a=XO(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function XO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var B1=L.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,c=n.title,d=c===void 0?null:c,p=n.className,m=p===void 0?"":p,y=QO(n,JO);return rt.createElement("svg",e_({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-twitter",m].filter(Boolean).join(" ")},y),d?rt.createElement("title",null,d):null,rt.createElement("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334q.002-.211-.006-.422A6.7 6.7 0 0 0 16 3.542a6.7 6.7 0 0 1-1.889.518 3.3 3.3 0 0 0 1.447-1.817 6.5 6.5 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.32 9.32 0 0 1-6.767-3.429 3.29 3.29 0 0 0 1.018 4.382A3.3 3.3 0 0 1 .64 6.575v.045a3.29 3.29 0 0 0 2.632 3.218 3.2 3.2 0 0 1-.865.115 3 3 0 0 1-.614-.057 3.28 3.28 0 0 0 3.067 2.277A6.6 6.6 0 0 1 .78 13.58a6 6 0 0 1-.78-.045A9.34 9.34 0 0 0 5.026 15"}))});B1.propTypes={color:Ie.string,size:Ie.oneOfType([Ie.string,Ie.number]),title:Ie.string,className:Ie.string};var KO=["color","size","title","className"];function t_(){return t_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},t_.apply(null,arguments)}function $O(n,e){if(n==null)return{};var t,i,a=ex(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function ex(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var z1=L.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,a=n.size,l=a===void 0?"1em":a,c=n.title,d=c===void 0?null:c,p=n.className,m=p===void 0?"":p,y=$O(n,KO);return rt.createElement("svg",t_({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:i,className:["bi","bi-youtube",m].filter(Boolean).join(" ")},y),d?rt.createElement("title",null,d):null,rt.createElement("path",{d:"M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"}))});z1.propTypes={color:Ie.string,size:Ie.oneOfType([Ie.string,Ie.number]),title:Ie.string,className:Ie.string};const tx=({user:n,setUser:e,adminLoggedIn:t,setAdminLoggedIn:i})=>{const[a,l]=L.useState(!1),[c,d]=L.useState(!1),p=yl();L.useEffect(()=>{const T=()=>{l(window.scrollY>0)};return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[]);const m=()=>{d(!c)},y=()=>{console.log("Logout clicked"),e(null),i(!1),localStorage.removeItem("user"),localStorage.removeItem("adminLoggedIn"),d(!1),alert("Logout successfully"),p("/")};return w.jsxs("header",{className:`menu-bar${a?" menu-bar--blur":""}`,children:[w.jsxs("div",{className:"menu-bar-logo",children:[w.jsx("img",{src:RO,alt:"Logo"}),w.jsx(It,{to:"/",children:"Prime"})]}),w.jsx("div",{className:"menu-bar-toggle",children:w.jsx("button",{className:"menu-toggle",onClick:m,"aria-label":"Toggle menu",children:""})}),w.jsx("nav",{className:`menu-bar-nav${c?" open":""}`,children:w.jsx("ul",{children:t?w.jsxs(w.Fragment,{children:[w.jsx("li",{children:w.jsx(It,{to:"/admin",onClick:()=>d(!1),className:"bg-color",children:"Admin Dashboard"})}),w.jsx("li",{children:w.jsx(It,{to:"/gallery",onClick:()=>d(!1),className:"bg-color",children:"Gallery"})}),w.jsx("li",{children:w.jsx(It,{to:"/trending",onClick:()=>d(!1),className:"bg-color",children:"Trending"})}),w.jsx("li",{children:w.jsx(It,{to:"/admin/profile",onClick:()=>d(!1),className:"bg-color",children:"Admin Profile"})}),w.jsx("li",{children:w.jsx(L1,{size:24,className:"user-logo-a user-logo-pointer logout-icon",onClick:y,title:"Logout",style:{cursor:"pointer",color:"white"}})})]}):w.jsxs(w.Fragment,{children:[w.jsx("li",{children:w.jsx(It,{to:"/",onClick:()=>d(!1),className:"bg-color",children:"Home"})}),w.jsx("li",{children:w.jsx(It,{to:"/gallery",onClick:()=>d(!1),className:"bg-color",children:"Gallery"})}),w.jsx("li",{children:w.jsx(It,{to:"/trending",onClick:()=>d(!1),className:"bg-color",children:"Trending"})}),w.jsx("li",{children:w.jsx(It,{to:"/about",onClick:()=>d(!1),className:"bg-color",children:"About"})}),w.jsx("li",{children:w.jsx(It,{to:"/contact",onClick:()=>d(!1),className:"bg-color",children:"Contact"})}),!n&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"ls",children:[w.jsx("li",{className:"menu-bar-login",children:w.jsx(It,{to:"/login",onClick:()=>d(!1),children:"Login"})}),w.jsx("li",{className:"menu-bar-signup",children:w.jsx(It,{to:"/signup",onClick:()=>d(!1),children:"Sign-Up"})})]})}),n&&w.jsxs(w.Fragment,{children:[w.jsx("li",{className:"menu-bar-profile-small-screen",children:w.jsx(It,{to:"/profile",onClick:()=>d(!1),children:"Profile"})}),w.jsx("li",{className:"menu-bar-logout-small-screen",children:w.jsx(It,{to:"/login",onClick:()=>{y(),d(!1)},children:"Logout"})}),w.jsxs("li",{className:"menu-bar-user-logo ",children:[w.jsx(j1,{size:24,className:"user-logo user-logo-pointer",onClick:()=>d(!c)}),c&&w.jsx("div",{className:"user-menu-dropdown",children:w.jsxs("div",{className:"user-menu-item",children:[w.jsx("li",{children:n&&w.jsx(It,{to:"/profile",onClick:()=>d(!1),className:"user-menu-link",children:"Profile"})}),w.jsxs("li",{children:[w.jsx(It,{to:"/login",onClick:y,className:"user-menu-link",children:"Logout"})," "]})]})})]})]})]})})})]})};let vd=20;class nx extends L.Component{render(){return w.jsx(w.Fragment,{children:w.jsx("footer",{children:w.jsxs("div",{className:"footer-content",children:[w.jsxs("div",{className:"footer-section-First",children:[w.jsx("h2",{children:"Contact Us"}),w.jsx("p",{children:"1234 Xprime St, Tech City, TX 12345"}),w.jsx("p",{children:"Email: Xprime@gmail.com"})]}),w.jsxs("div",{className:"footer-section-Middle",children:[w.jsx("h2",{children:"Xprime"}),w.jsx("p",{children:" 2025 Xprime. All rights reserved."})]}),w.jsx("div",{className:"footer-section-Left",children:w.jsx("ul",{children:w.jsxs("li",{children:[w.jsx("a",{href:"",children:w.jsx(F1,{size:vd})}),w.jsx("a",{href:"",children:w.jsx(B1,{size:vd})}),w.jsx("a",{href:"",children:w.jsx(W1,{size:vd})}),w.jsx("a",{href:"",children:w.jsx(z1,{size:vd})})]})})})]})})})}}const ix=JSON.parse(`[{"id":1,"title":"Background Image","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxoTXpkbU9XVm1OQzAzT1dWaUxUUTNNbUV0T1dReFppMHdNREV5T0daak1qQTJOelVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--7b8a1c3ee1b87b4d4c745002a416611e1dfe2315/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-292090eccda.jpg","prompt":"a  white-skinned short haired brunette rapper stands near the cadillac confidently on a vibrant urban street. The sun sets, casting a warm golden glow, while a crowd gathers, captivated by his powerful lyrics."},{"id":2,"title":"Victorian Royal","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt4T0dJd1pXUXpNUzAyTlRkaExUUmpZV010T1RnM01TMHdNbVZoTlRFeVptRTRZamtHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--1559e12a0eed7bb9b9df779e362d1c15cfdf9d06/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-50b8cd54682.png","prompt":"photography, snap shot, male model, front pose, full-body, surrounded by a blurred motion, wearing camouflage color loose fit hoody and denim cargo pants, Vans sneakers, Sony 9, minimalistic open space with soft, contrasting with the transient figures around him, plain wall background with a subtle texture to keep the attention on the motion effect, rich details --ar 9:16 --style raw --stylize 700 --v 6.1"},{"id":3,"title":"Gothic Elegance","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWsyTUdSa1kyTmhZeTA1TjJReExUUmpNV1l0WWpGak5pMWhZbU15WkdReU1UZGhaak1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--2972e232dcbf737a7d3762f7832f054b406812f9/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-86d658d77e6.png","prompt":"RAW photo, (detailed face)+, portrait of a beautiful lady, (freckles)-, (dark makeup)-, hyperdetailed photography, soft light, head and shoulders portrait, 80mm, f22, trending on ArtStation Pixiv, high detail, sharp focus, aesthetic, 8k uhd, DSLR, intricate details, soft lighting, high quality,"},{"id":4,"title":"Fantasy Warrior","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt3TW1ReU4yWTBaaTFtTUdGbExUUTROekl0WVRoaFl5MHlZelF6TUdSbFpqVTVZV0VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--ab41f0133e2e96fa21209ad7656bdbd70b5260c8/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-fbf8e952f1b.png","prompt":"three-quarter close-up portrait, stunningly handsome 30 y.o man, overweight figure, stunning face, (expressive and deep [symmetrical eyes]), curious and friendly expression, tidy goatee, (neatly short spiked hair with shaved sides [natural brown] hair)+++ | ([maximum detailed mechanic : firefly sci-fi TV series style | maximum detailed mechanic serenity style | (intricately detailed:1. 2) | (intricately detailed sci-fi millennium falcon interior [((intricately detailed starship lounge)) : oppressive and contrasting background:1. 3)+, (in semi-darkness)++, backlighting from inside, dramatic expressive background, gloomy horror crushing atmosphere | cinematic shot photographed from below with DSLR, aperture f/7, shutter speed 1/100 sec, ISO 150 | super detailed, hyper photorealistic, (8kK, UHD, super resolution, diffused lighting)+, textures of natural reflections, cinematic lighting"},{"id":5,"title":"Cybernetic Angel","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpTUdNM05UQmtOUzFpWkRRNUxUUXhOMll0T0RGaE5DMHlNMlkyTURjM01UZzFNallHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--b5c8d94650f637dcfa930be54918b618c00d6301/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-b72678492ea.png","prompt":"young girl with a red robot suit standing in the rain, in the style of detailed hyperrealism, skottie young, 32k uhd, daria endresen, close up, webcore, eve ventrue --ar 9:16 --stylize 750 --v 6"},{"id":6,"title":"Urban Street Style","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt5Tm1NM1pUaGlZUzFqTkRnNUxUUm1aR1l0T0RsaFpDMDRNRE15TXpjeVptRXpaVFVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--803e2372342b54439379f9350f9ad3533abe7c64/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-40027a6637d.png","prompt":"stunning sketch portrait by Michelangelo, charcoal drawing, face only, an absolutely gorgeous woman, side view, ultra-detailed, hint of a smile, no coloring, no color--quality 2 --s 750 --v 5.2"},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWs0WVdObU5EZ3paQzB3TmpBeUxUUTNOek10T0Raak5DMDNaamxqWkRBMk56QTFNMlFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--5e5150dfde7263e5a8848a0e89cd8e18e80cf89e/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-ed3f5fb81b5.png","title":"Man with Black dress","prompt":"A captivating portrait focusing on the character's face, now reimagined with a more serious, intense, but hot expression. His eyes exude raw emotion while his jet black hair frames his features powerfully. The pose is subtly adjustedhis shoulders are slightly broader, lending him an enhanced presence and a confident stance. The background remains a dark dance studio, featuring low ambient lighting, gentle reflections from mirrored surfaces, and the intimate expanse of a rehearsal space. The overall scene preserves the original art style, with painterly brushstrokes and a muted, atmospheric color palette that highlights the renewed expressiveness and strength of the characters visage.","id":7},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt3TlRWallUSTNZeTB5TXpZeUxUUTFOamt0WWpCaFl5MDBPV0V4TjJObE5UUmpZVElHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--f8ac62650ef0662635655a2cba4b9e18afef1041/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-276ea4fb893.png","title":"","prompt":"Image Type: Digital photograph, formal portrait.  Overall Photographic Style: Photorealistic, high-resolution, sharp focus on the subject's face, professional and classic portraiture. The style emphasizes clarity, detail, and a timeless quality.  Lighting: Soft, even, and diffused lighting. The main light source appears to be from the front-left, creating subtle highlights on the forehead, cheekbones, and the top of the hair. There are gentle, soft shadows on the right side of the face, defining contours without being harsh. The overall illumination is balanced and natural.  Depth of Field: Shallow to moderate depth of field. The subject's face and upper body are in sharp focus, while the background is subtly blurred, providing a soft, indistinct backdrop that keeps the focus entirely on the subject.  Color Palette: Monochromatic (black and white tones). The image exhibits a rich grayscale range, with deep blacks in the suit, bright whites in the hair and shirt collar, and a full spectrum of nuanced mid-grays","id":8},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6WkRneVlXTmpPUzA1WkRsa0xUUmhabVV0WWpReE15MDRZV00yTURsaE5tSTVPV0lHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--26c412019254bc27499fe427bfad33b990d32e74/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-c27f152cfe4.jpg","title":"","prompt":"Close-up photo of a worried girl, with messy hair, hands on forehead, looking far, vibrant colors, digital colors","id":9},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt4WWpSbE1HTmlNeTAxTVRGa0xUUmxOMkV0WWpFME9TMHlPRFE1WWpWak9USXdNRE1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--2556ddee9565cfde19b31a5544c09d7827ee6366/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-9f749cbcbd1.png","title":"","prompt":"modelshoot style, (extremely detailed CG unity 8k wallpaper), full shot body photo of the most beautiful artwork in the world, female medieval rugged thief, ruined coat, angry, night, dark dirty alley in the background, dirty, ugly environment, professional majestic oil painting by Ed Blinkey, Atey Ghailan, Studio Ghibli, by Jeremy Mann, Greg Manchess, Antonio Moro, trending on ArtStation, trending on CGSociety, Intricate, High Detail, Sharp focus, dramatic, photorealistic painting art by midjourney and greg rutkowski","id":10},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpWWpRNE5XTTVOaTB5TmpNeExUUXdaRFl0WWpBd09TMDNOelF5TmpBMFlXTTBNR1FHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--89c035c570f1cc70f69490b9fca6239fa04eb115/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-81c018b9647.png","title":"","prompt":"portrait of a young ranger man with a cold stare wearing a ((black cloak)) and armor (holding a sword), grizzled, bald, angry, grim, dark colors, forest background, sharp, highly detailed, concept art, realistic hands, dynamic pose, dynamic shotfantastic location, majestic cluttered environment)), full body 8k unity render, action shot, skin pores, very dark lighting, heavy shadows, detailed, detailed face, (vibrant, photorealistic, realistic, dramatic, dark, sharp focus, 8k), (weathered damaged old worn leather outfit:1.4), (intricate:1.4), decadent, (highly detailed:1.4), digital painting, octane render, artstation, concept art, smooth, sharp focus, illustration, art by artgerm, (loish:0.23), wlop ilya kuvshinov, and greg rutkowski and alphonse mucha gracias, (global illumination, studio light, volumetric light), heavy rain, particles floating, dim light, trim light, two-tone lighting, <lora:epiNoiseoffset_v2:2>","id":11},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWs1TnpBeU5qSXhNQzB6TjJNNExUUTNPVFV0T1dRMk55MWpOemt6WVdVMk5HWmhZbVVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--2992eb46e2766d52ec664605c71bd399318de0a2/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-2e5c681626c.png","title":"","prompt":"Ultrarealistic portrait photograph show full body triangulation from head to toe 28 years old israeli Caucasian male, hero pose, winner pose, ubermensch, Delta Force, militant, Wide field of view Long shot Full-length shows full body from head to toes triangulation of a 28 years old dominant alpha male, muscles, perfect male body, hairy chest, smaller head, shiny hair handsome, pale skin, sharp jawline, small nose, the background is nyc sunny day time, (high detailed skin:1.2), 8k uhd, dslr, soft lighting, Breeches and Leather Uniform, tall leather boots, driving boots, hairy chest, laceless shoes boots, eyes wide open, correct anatomy, Hasselblad X1D - 50c, Cinematic, Blur Effect, Long Exposure, 8K, Ultra-HD, Natural Lighting, Moody Lighting, Cinematic Lighting, hyper-realistic, vibrant, 8k, detailed, ultra detail, sci-fi, shiny hair, at the spaceport, against the background of a sci-fi ship taking off, overcast, plate leather armor, isolated leather armor, lots of fine detail in the style of 'pursuit' by gesaffelstein, photorealistic, cinematic lighting, light atmosphere, volumetric lighting, action pose, epic scene, lots of fine detail, movie style, photography, natural textures, natural light, natural blur, photorealism, cinematic rendering, ray tracing, highest quality, highest detail, Cinematic, Blur Effect, Long Exposure, 8K, Ultra-HD, Natural Lighting, Moody bright Lighting, Cinematic Lighting, hyper-realistic, vibrant, detailed, ultra detail, RAW photo","id":12},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWszTkdabU56Wm1OQzAzT0RFeExUUXhObVV0WWpOaVlTMDFZak01TmpabFl6Y3lOR1VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--a20de84ed6ad6cb3a46293673695a75101110c6c/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-7d1552a8afa.png","title":"","prompt":"full body shot, portrait of a young woman, wearing dark sunglasses, wearing chanel strappy high heels, wearing a beautiful multicolored dior dress, intricate artwork by Joaquin Sorolla, soft natural light, 85mm, sunshine on her face, cinematic lighting, lumen reflections, photography, stunning environment, Hyperrealism, cgi, octane render, raytracing --v 4 --style 4c --ar 4:7","id":13},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpTldSbU4yVXlNUzFqWWpsbExUUmlaR0V0WW1ZNVppMDJOalV6WVdJNVpXUmxZemNHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--c044840f0e236ba43fcf53e3aed34b13d48922ba/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-46041c0dbdf.png","title":"","prompt":"Mood: serenity; atmosphere peaceful; fashion photography; Mario Testino; Female Model full body; design dress; ultralight shapes; detailed skin; beautiful eyes; incredible body composition --ar 4:6 --chaos 7 --s 1000 --q 5  --q 2    --s 750 --v 5","id":14},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWs0TUdFNE1EY3daaTFsTTJReExUUTJaall0WW1Kall5MW1NV1prWlRNME1tSTNZek1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--53da0f273f2c59888c6b964c3b0b72f0dba82f7f/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-234d46b3a67.png","title":"","prompt":"Vogue style photo shoot of Dwayne Johnson as character therock from the movie The Royal Tenenbaums pastel colored background in Wes Anderson style, hyper - realistic photography, Wes Anderson style, full body, 8k, close - up shot, close - up photo","id":15},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWsxT0dNMk1EUm1OeTA1WlRnMExUUmlPVFl0T0dVMU5DMW1ZbVEzTm1VNU0yWmlOemdHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--52bad843d12ad2a2d51d817bce742c785af07063/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-f70199a2018.png","title":"","prompt":"the girl is wielding a sword in the background, in the style of xiaofei yue, ethereal images, light white and red, colorful costumes, movie still, weathercore, dynamic and action-packed --ar 1:2 --stylize 750 --v 6","id":16},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpWVRjNE5URTNNUzFpT0RGbExUUTJNMkl0T1dFMk1TMHhaRGszTWpCa1pqa3paamNHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--e29de2ce94a7d55a7cab1aa3f23041f4034b5aa4/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-21b19fb0e78.png","title":"","prompt":"A close-up shot of a wolf is made of neon rays, ultra detailed, fairy lighting, photorealistic, bright colors, volumetric rays of light, hdr. --ar 9:16","id":18},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt3T0dWbE5UVXdaaTA1WVdJMkxUUmhOVEl0T1RRMU55MDVNbVkyWlRkaU9XTXlORGdHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--e08029b8c1c1421a162396fdb2e5871dca2ba97e/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-3a8d3d3d502.png","title":"","prompt":"A professional photograph, 9:16 portrait aspect ratio, of Calamity Jane Monroe (around 21-25 years old), with her back partially to the camera, looking over her shoulder with a captivating smile. She is behind the bar, pouring a drink. Her red silk blouse has slightly rolled-up sleeves, and her leather pants are visible. Her hat is still on. The background shows the vibrant activity of the saloon, with her youthful energy evident","id":19},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6TkRSa1ptRXhZaTFqWTJKbUxUUTJNemN0WW1Rek1pMDNOR1l5WW1FM1pqRm1Nek1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--60d648277dd8ab2ddd9eef494b3acc28bee4bebc/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-66eb135e131.png","title":"","prompt":"Watercolor portrait of a woman, vibrant --chaos 75 --ar 1:2 --sref 1753425260 --profile oh3iyx5 --stylize 750","id":21},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrTnpJNVltTmpOeTAwWXpFeExUUXdOek10T1dNNU5TMHlZemhrWlRZd01HRTRNV1VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--23abb198aa073f59fdb3868bf7b36c279c3a0602/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-714df5f34e6.png","title":"","prompt":"A striking fashion runway scene featuring a tall, confident model walking down the catwalk. She wears a chic all-black ensemble: a deep V-neck black mini dress with a wrap-style skirt creating an asymmetrical hemline, paired with a loose, long black blazer that flows as she walks. The outfit is accessorized with a bold chunky gold chain necklace, a structured black handbag with gold hardware, and black lace-up combat boots. The model has long, sleek dark hair worn down, minimal natural makeup, and a fierce, focused expression. The background is a dimly lit runway with a blurred audience seated on either side, dramatic lighting casting soft shadows on the floor, capturing the high-fashion atmosphere. Hyper-realistic style, emphasis on fabric texture and metallic details, cinematic mood.","id":24}]`),rx=[{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrWVRkbU1XRTJZUzAxT1RSbUxUUmxaV1F0WWpZelppMWxZek15TURrME56STNaakFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--8f9c34fac05a95ae36047bee3cde3b88dd6cc6ba/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-b8b5880994e.png",title:"",prompt:"An image of a woman sitting down with her body slightly turned to her left. She is looking at the camera with a relaxed expression. Her right arm is resting by her side, and her left arm is bent with her hand on her thigh. She has light-colored wavy hair over her shoulders. She wears a patterned blouse with rolled-up sleeves and light-colored pants. The background is softly blurred with hints of an airplane and airport equipment, bathed in the warm glow of dawn or dusk.",id:1},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpWWpRNE5XTTVOaTB5TmpNeExUUXdaRFl0WWpBd09TMDNOelF5TmpBMFlXTTBNR1FHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--89c035c570f1cc70f69490b9fca6239fa04eb115/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-81c018b9647.png",title:"",prompt:"portrait of a young ranger man with a cold stare wearing a ((black cloak)) and armor (holding a sword), grizzled, bald, angry, grim, dark colors, forest background, sharp, highly detailed, concept art, realistic hands, dynamic pose, dynamic shotfantastic location, majestic cluttered environment)), full body 8k unity render, action shot, skin pores, very dark lighting, heavy shadows, detailed, detailed face, (vibrant, photorealistic, realistic, dramatic, dark, sharp focus, 8k), (weathered damaged old worn leather outfit:1.4), (intricate:1.4), decadent, (highly detailed:1.4), digital painting, octane render, artstation, concept art, smooth, sharp focus, illustration, art by artgerm, (loish:0.23), wlop ilya kuvshinov, and greg rutkowski and alphonse mucha gracias, (global illumination, studio light, volumetric light), heavy rain, particles floating, dim light, trim light, two-tone lighting, <lora:epiNoiseoffset_v2:2>",id:2},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrTnpJNVltTmpOeTAwWXpFeExUUXdOek10T1dNNU5TMHlZemhrWlRZd01HRTRNV1VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--23abb198aa073f59fdb3868bf7b36c279c3a0602/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-714df5f34e6.png",title:"",prompt:"A striking fashion runway scene featuring a tall, confident model walking down the catwalk. She wears a chic all-black ensemble: a deep V-neck black mini dress with a wrap-style skirt creating an asymmetrical hemline, paired with a loose, long black blazer that flows as she walks. The outfit is accessorized with a bold chunky gold chain necklace, a structured black handbag with gold hardware, and black lace-up combat boots. The model has long, sleek dark hair worn down, minimal natural makeup, and a fierce, focused expression. The background is a dimly lit runway with a blurred audience seated on either side, dramatic lighting casting soft shadows on the floor, capturing the high-fashion atmosphere. Hyper-realistic style, emphasis on fabric texture and metallic details, cinematic mood.",id:3},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpTldSbU4yVXlNUzFqWWpsbExUUmlaR0V0WW1ZNVppMDJOalV6WVdJNVpXUmxZemNHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--c044840f0e236ba43fcf53e3aed34b13d48922ba/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-46041c0dbdf.png",title:"",prompt:"Mood: serenity; atmosphere peaceful; fashion photography; Mario Testino; Female Model full body; design dress; ultralight shapes; detailed skin; beautiful eyes; incredible body composition --ar 4:6 --chaos 7 --s 1000 --q 5  --q 2    --s 750 --v 5",id:4},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt4WWpSbE1HTmlNeTAxTVRGa0xUUmxOMkV0WWpFME9TMHlPRFE1WWpWak9USXdNRE1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--2556ddee9565cfde19b31a5544c09d7827ee6366/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-9f749cbcbd1.png",title:"",prompt:"modelshoot style, (extremely detailed CG unity 8k wallpaper), full shot body photo of the most beautiful artwork in the world, female medieval rugged thief, ruined coat, angry, night, dark dirty alley in the background, dirty, ugly environment, professional majestic oil painting by Ed Blinkey, Atey Ghailan, Studio Ghibli, by Jeremy Mann, Greg Manchess, Antonio Moro, trending on ArtStation, trending on CGSociety, Intricate, High Detail, Sharp focus, dramatic, photorealistic painting art by midjourney and greg rutkowski",id:5},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt3TlRWallUSTNZeTB5TXpZeUxUUTFOamt0WWpCaFl5MDBPV0V4TjJObE5UUmpZVElHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--f8ac62650ef0662635655a2cba4b9e18afef1041/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-276ea4fb893.png",title:"",prompt:"Image Type: Digital photograph, formal portrait.  Overall Photographic Style: Photorealistic, high-resolution, sharp focus on the subject's face, professional and classic portraiture. The style emphasizes clarity, detail, and a timeless quality.  Lighting: Soft, even, and diffused lighting. The main light source appears to be from the front-left, creating subtle highlights on the forehead, cheekbones, and the top of the hair. There are gentle, soft shadows on the right side of the face, defining contours without being harsh. The overall illumination is balanced and natural.  Depth of Field: Shallow to moderate depth of field. The subject's face and upper body are in sharp focus, while the background is subtly blurred, providing a soft, indistinct backdrop that keeps the focus entirely on the subject.  Color Palette: Monochromatic (black and white tones). The image exhibits a rich grayscale range, with deep blacks in the suit, bright whites in the hair and shirt collar, and a full spectrum of nuanced mid-grays",id:6},{image:"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWs0WVdObU5EZ3paQzB3TmpBeUxUUTNOek10T0Raak5DMDNaamxqWkRBMk56QTFNMlFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--5e5150dfde7263e5a8848a0e89cd8e18e80cf89e/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-ed3f5fb81b5.png",title:"Man with Black dress",prompt:"A captivating portrait focusing on the character's face, now reimagined with a more serious, intense, but hot expression. His eyes exude raw emotion while his jet black hair frames his features powerfully. The pose is subtly adjustedhis shoulders are slightly broader, lending him an enhanced presence and a confident stance. The background remains a dark dance studio, featuring low ambient lighting, gentle reflections from mirrored surfaces, and the intimate expanse of a rehearsal space. The overall scene preserves the original art style, with painterly brushstrokes and a muted, atmospheric color palette that highlights the renewed expressiveness and strength of the characters visage.",id:7}];function sx(){const[n,e]=L.useState(0),[t,i]=L.useState(""),a=rx.slice();return L.useEffect(()=>{const l=setInterval(()=>{e(c=>(c+1)%a.length)},3e3);return()=>clearInterval(l)},[a.length]),L.useEffect(()=>{fetch("https://xprime-zxu1.onrender.com/api/hello").then(c=>c.text()).then(c=>{i(c),console.log("Backend says:",c)}).catch(c=>{console.error("Error fetching backend message:",c),i(" Could not connect to backend.")})},[]),w.jsx(w.Fragment,{children:w.jsxs("div",{className:"main-content-Top",children:[w.jsxs("div",{className:"main-content-Top--conatiner",children:[w.jsxs("h1",{children:[w.jsx("b",{children:"X"})," prime"]}),w.jsxs("p",{children:[w.jsx("b",{children:" Xprime  A Prompt-to-Image Showcase "}),"Explore a visual gallery of AI-generated images, each paired with the prompt that created it. Get inspired, copy any prompt, and generate your own masterpiece using your favorite AI tool. Simple, creative, and ready to spark ideas."]}),w.jsx("div",{className:"main-content-Top--conatiner--icons",children:w.jsx("li",{children:w.jsx(It,{to:"/gallery",children:"Gallery"})})})]}),w.jsx("div",{className:"sidepanel",children:w.jsxs("div",{className:"sidepanel--container",children:[w.jsx("div",{className:"slider",children:w.jsxs("div",{className:"slider-image-container",children:[w.jsx("img",{src:a[n].image,alt:a[n].title,className:"slider-image"}),w.jsx("div",{className:"slider-overlay"})]})}),w.jsx("div",{className:"slider-dots",children:a.map((l,c)=>w.jsx("span",{className:`slider-dot${c===n?" active":""}`},c))})]})})]})})}const ax=""+new URL("user-BrQhXqmf.png",import.meta.url).href,ox=()=>{};var KE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=function(n,e){if(!n)throw vl(e)},vl=function(n){return new Error("Firebase Database ("+H1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},lx=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|m>>6,R=m&63;p||(R=64,c||(b=64)),i.push(t[y],t[T],t[b],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(q1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||m==null||T==null)throw new cx;const b=l<<2|d>>4;if(i.push(b),m!==64){const R=d<<4&240|m>>2;if(i.push(R),T!==64){const C=m<<6&192|T;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(n){const e=q1(n);return Q_.encodeByteArray(e,!0)},qd=function(n){return G1(n).replace(/\./g,"")},Gd=function(n){try{return Q_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n){return Z1(void 0,n)}function Z1(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!hx(t)||(n[t]=Z1(n[t],e[t]));return n}function hx(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=()=>dx().__FIREBASE_DEFAULTS__,px=()=>{if(typeof process>"u"||typeof KE>"u")return;const n=KE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Gd(n[1]);return e&&JSON.parse(e)},Vf=()=>{try{return ox()||fx()||px()||mx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Y1=n=>{var e,t;return(t=(e=Vf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},X_=n=>{const e=Y1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},J1=()=>{var n;return(n=Vf())===null||n===void 0?void 0:n.config},Q1=n=>{var e;return(e=Vf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(n){return n.endsWith(".cloudworkstations.dev")}async function Mf(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qd(JSON.stringify(t)),qd(JSON.stringify(c)),""].join(".")}const Xc={};function gx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Xc))Xc[e]?n.emulator.push(e):n.prod.push(e);return n}function _x(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $E=!1;function Pf(n,e){if(typeof window>"u"||typeof document>"u"||!Fr(window.location.host)||Xc[n]===e||Xc[n]||$E)return;Xc[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=gx().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{$E=!0,c()},b}function y(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=_x(i),R=t("text"),C=document.getElementById(R)||document.createElement("span"),B=t("learnmore"),W=document.getElementById(B)||document.createElement("a"),Y=t("preprendIcon"),J=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const te=b.element;d(te),y(W,B);const re=m();p(J,Y),te.append(J,C,W,re),document.body.appendChild(te)}l?(C.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function yx(){var n;const e=(n=Vf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function K1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tx(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ex(){return H1.NODE_ADMIN===!0}function bx(){return!yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function wx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="FirebaseError";class ai extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Sx,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Ix(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ai(a,d,i)}}function Ix(n,e){return n.replace(Rx,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Rx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){return JSON.parse(n)}function Wt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=function(n){let e={},t={},i={},a="";try{const l=n.split(".");e=uu(Gd(l[0])||""),t=uu(Gd(l[1])||""),a=l[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:a}},Ax=function(n){const e=tS(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Cx=function(n){const e=tS(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function rl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function n_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zd(n,e,t){const i={};for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=e.call(t,n[a],a,n));return i}function Dr(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(eb(l)&&eb(c)){if(!Dr(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function eb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Gc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let T=0;T<16;T++)i[T]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let T=0;T<16;T++)i[T]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let T=16;T<80;T++){const b=i[T-3]^i[T-8]^i[T-14]^i[T-16];i[T]=(b<<1|b>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,y;for(let T=0;T<80;T++){T<40?T<20?(m=d^l&(c^d),y=1518500249):(m=l^c^d,y=1859775393):T<60?(m=l&c|d&(l|c),y=2400959708):(m=l^c^d,y=3395469782);const b=(a<<5|a>>>27)+m+p+y+i[T]&4294967295;p=d,d=c,c=(l<<30|l>>>2)&4294967295,l=a,a=b}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let a=0;const l=this.buf_;let c=this.inbuf_;for(;a<t;){if(c===0)for(;a<=i;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<t;)if(l[c]=e.charCodeAt(a),++c,++a,c===this.blockSize){this.compress_(l),c=0;break}}else for(;a<t;)if(l[c]=e[a],++c,++a,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[a]>>l&255,++i;return e}}function Ox(n,e){const t=new xx(n,e);return t.subscribe.bind(t)}class xx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Sg),a.error===void 0&&(a.error=Sg),a.complete===void 0&&(a.complete=Sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sg(){}function ey(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);if(a>=55296&&a<=56319){const l=a-55296;i++,oe(i<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(i)-56320;a=65536+(l<<10)+c}a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):a<65536?(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Uf=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=1e3,Mx=2,Px=4*60*60*1e3,Ux=.5;function tb(n,e=Dx,t=Mx){const i=e*Math.pow(t,n),a=Math.round(Ux*i*(Math.random()-.5)*2);return Math.min(Px,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n){return n&&n._delegate?n._delegate:n}class zn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Df;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fx(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Wx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wx(n){return n===Na?void 0:n}function Fx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Lx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const Bx={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},zx=Ue.INFO,Hx={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},qx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=Hx[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ou{constructor(e){this.name=e,this._logLevel=zx,this._logHandler=qx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Gx=(n,e)=>e.some(t=>n instanceof t);let nb,ib;function Zx(){return nb||(nb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yx(){return ib||(ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,i_=new WeakMap,iS=new WeakMap,Ig=new WeakMap,ty=new WeakMap;function Jx(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Rs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&nS.set(t,n)}).catch(()=>{}),ty.set(e,n),e}function Qx(n){if(i_.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});i_.set(n,e)}let r_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return i_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Xx(n){r_=n(r_)}function Kx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Rg(this),e,...t);return iS.set(i,e.sort?e.sort():[e]),Rs(i)}:Yx().includes(n)?function(...e){return n.apply(Rg(this),e),Rs(nS.get(this))}:function(...e){return Rs(n.apply(Rg(this),e))}}function $x(n){return typeof n=="function"?Kx(n):(n instanceof IDBTransaction&&Qx(n),Gx(n,Zx())?new Proxy(n,r_):n)}function Rs(n){if(n instanceof IDBRequest)return Jx(n);if(Ig.has(n))return Ig.get(n);const e=$x(n);return e!==n&&(Ig.set(n,e),ty.set(e,n)),e}const Rg=n=>ty.get(n);function rS(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Rs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Rs(c.result),p.oldVersion,p.newVersion,Rs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const ek=["get","getKey","getAll","getAllKeys","count"],tk=["put","add","delete","clear"],Ag=new Map;function rb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ag.get(e))return Ag.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=tk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||ek.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return Ag.set(e,l),l}Xx(n=>({...n,get:(e,t,i)=>rb(e,t)||n.get(e,t,i),has:(e,t)=>!!rb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ik(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function ik(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s_="@firebase/app",sb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Ou("@firebase/app"),rk="@firebase/app-compat",sk="@firebase/analytics-compat",ak="@firebase/analytics",ok="@firebase/app-check-compat",lk="@firebase/app-check",ck="@firebase/auth",uk="@firebase/auth-compat",hk="@firebase/database",dk="@firebase/data-connect",fk="@firebase/database-compat",pk="@firebase/functions",mk="@firebase/functions-compat",gk="@firebase/installations",_k="@firebase/installations-compat",yk="@firebase/messaging",vk="@firebase/messaging-compat",Tk="@firebase/performance",Ek="@firebase/performance-compat",bk="@firebase/remote-config",wk="@firebase/remote-config-compat",Sk="@firebase/storage",Ik="@firebase/storage-compat",Rk="@firebase/firestore",Ak="@firebase/ai",Ck="@firebase/firestore-compat",Nk="firebase",Ok="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="[DEFAULT]",xk={[s_]:"fire-core",[rk]:"fire-core-compat",[ak]:"fire-analytics",[sk]:"fire-analytics-compat",[lk]:"fire-app-check",[ok]:"fire-app-check-compat",[ck]:"fire-auth",[uk]:"fire-auth-compat",[hk]:"fire-rtdb",[dk]:"fire-data-connect",[fk]:"fire-rtdb-compat",[pk]:"fire-fn",[mk]:"fire-fn-compat",[gk]:"fire-iid",[_k]:"fire-iid-compat",[yk]:"fire-fcm",[vk]:"fire-fcm-compat",[Tk]:"fire-perf",[Ek]:"fire-perf-compat",[bk]:"fire-rc",[wk]:"fire-rc-compat",[Sk]:"fire-gcs",[Ik]:"fire-gcs-compat",[Rk]:"fire-fst",[Ck]:"fire-fst-compat",[Ak]:"fire-vertex","fire-js":"fire-js",[Nk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,kk=new Map,o_=new Map;function ab(n,e){try{n.container.addComponent(e)}catch(t){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function si(n){const e=n.name;if(o_.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;o_.set(e,n);for(const t of Yd.values())ab(t,n);for(const t of kk.values())ab(t,n);return!0}function Br(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new Ga("app","Firebase",Vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=Ok;function sS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:a_,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw As.create("bad-app-name",{appName:String(a)});if(t||(t=J1()),!t)throw As.create("no-options");const l=Yd.get(a);if(l){if(Dr(t,l.options)&&Dr(i,l.config))return l;throw As.create("duplicate-app",{appName:a})}const c=new jx(a);for(const p of o_.values())c.addComponent(p);const d=new Dk(t,i,c);return Yd.set(a,d),d}function xu(n=a_){const e=Yd.get(n);if(!e&&n===a_&&J1())return sS();if(!e)throw As.create("no-app",{appName:n});return e}function gn(n,e,t){var i;let a=(i=xk[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(d.join(" "));return}si(new zn(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="firebase-heartbeat-database",Pk=1,hu="firebase-heartbeat-store";let Cg=null;function aS(){return Cg||(Cg=rS(Mk,Pk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw As.create("idb-open",{originalErrorMessage:n.message})})),Cg}async function Uk(n){try{const t=(await aS()).transaction(hu),i=await t.objectStore(hu).get(oS(n));return await t.done,i}catch(e){if(e instanceof ai)Mr.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(t.message)}}}async function ob(n,e){try{const i=(await aS()).transaction(hu,"readwrite");await i.objectStore(hu).put(e,oS(n)),await i.done}catch(t){if(t instanceof ai)Mr.warn(t.message);else{const i=As.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mr.warn(i.message)}}}function oS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=1024,Wk=30;class Fk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=lb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Wk){const c=zk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Mr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lb(),{heartbeatsToSend:i,unsentEntries:a}=jk(this._heartbeatsCache.heartbeats),l=qd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Mr.warn(t),""}}}function lb(){return new Date().toISOString().substring(0,10)}function jk(n,e=Lk){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),cb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),cb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Bk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Uk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return ob(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return ob(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function cb(n){return qd(JSON.stringify({version:2,heartbeats:n})).length}function zk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){si(new zn("platform-logger",e=>new nk(e),"PRIVATE")),si(new zn("heartbeat",e=>new Fk(e),"PRIVATE")),gn(s_,sb,n),gn(s_,sb,"esm2017"),gn("fire-js","")}Hk("");var qk="firebase",Gk="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn(qk,Gk,"app");function ny(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function lS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zk=lS,cS=new Ga("auth","Firebase",lS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Ou("@firebase/auth");function Yk(n,...e){Jd.logLevel<=Ue.WARN&&Jd.warn(`Auth (${Hs}): ${n}`,...e)}function Vd(n,...e){Jd.logLevel<=Ue.ERROR&&Jd.error(`Auth (${Hs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(n,...e){throw iy(n,...e)}function Bi(n,...e){return iy(n,...e)}function uS(n,e,t){const i=Object.assign(Object.assign({},Zk()),{[e]:t});return new Ga("auth","Firebase",i).create(e,{appName:n.name})}function zi(n){return uS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return cS.create(n,...e)}function Ee(n,e,...t){if(!n)throw iy(e,...t)}function Ar(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vd(e),new Error(e)}function Pr(n,e){n||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Jk(){return ub()==="http:"||ub()==="https:"}function ub(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jk()||X1()||"connection"in navigator)?navigator.onLine:!0}function Xk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pr(t>e,"Short delay should be less than long delay!"),this.isMobile=$_()||K1()}get(){return Qk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(n,e){Pr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eV=new ku(3e4,6e4);function zr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function wi(n,e,t,i,a={}){return dS(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Tl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return vx()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Fr(n.emulatorConfig.host)&&(m.credentials="include"),hS.fetch()(await fS(n,n.config.apiHost,t,d),m)})}async function dS(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Kk),e);try{const a=new nV(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Td(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Td(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Td(n,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw uS(n,y,m);Ei(n,y)}}catch(a){if(a instanceof ai)throw a;Ei(n,"network-request-failed",{message:String(a)})}}async function Vu(n,e,t,i,a={}){const l=await wi(n,e,t,i,a);return"mfaPendingCredential"in l&&Ei(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function fS(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?ry(n.config,a):`${n.config.apiScheme}://${a}`;return $k.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function tV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Bi(this.auth,"network-request-failed")),eV.get())})}}function Td(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Bi(n,e,i);return a.customData._tokenResponse=t,a}function hb(n){return n!==void 0&&n.enterprise!==void 0}class iV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rV(n,e){return wi(n,"GET","/v2/recaptchaConfig",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(n,e){return wi(n,"POST","/v1/accounts:delete",e)}async function Qd(n,e){return wi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aV(n,e=!1){const t=ht(n),i=await t.getIdToken(e),a=sy(i);Ee(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Kc(Ng(a.auth_time)),issuedAtTime:Kc(Ng(a.iat)),expirationTime:Kc(Ng(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ng(n){return Number(n)*1e3}function sy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Gd(t);return a?JSON.parse(a):(Vd("Failed to decode base64 JWT payload"),null)}catch(a){return Vd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function db(n){const e=sy(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ai&&oV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function oV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Ma(n,Qd(t,{idToken:i}));Ee(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?pS(l.providerUserInfo):[],d=uV(n.providerData,c),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),y=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new c_(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,T)}async function cV(n){const e=ht(n);await Xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uV(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function pS(n){return n.map(e=>{var{providerId:t}=e,i=ny(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(n,e){const t=await dS(n,{},async()=>{const i=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await fS(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&Fr(n.emulatorConfig.host)&&(p.credentials="include"),hS.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function dV(n,e){return wi(n,"POST","/v2/accounts:revokeToken",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=db(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await hV(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Ko;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ee(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new c_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ma(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aV(this,e)}reload(){return cV(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Ma(this,sV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,p,m,y;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,B=(d=t.tenantId)!==null&&d!==void 0?d:void 0,W=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(m=t.createdAt)!==null&&m!==void 0?m:void 0,J=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:te,emailVerified:re,isAnonymous:ue,providerData:ve,stsTokenManager:M}=t;Ee(te&&M,e,"internal-error");const A=Ko.fromJSON(this.name,M);Ee(typeof te=="string",e,"internal-error"),Ts(T,e.name),Ts(b,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof ue=="boolean",e,"internal-error"),Ts(R,e.name),Ts(C,e.name),Ts(B,e.name),Ts(W,e.name),Ts(Y,e.name),Ts(J,e.name);const N=new mi({uid:te,auth:e,email:b,emailVerified:re,displayName:T,isAnonymous:ue,photoURL:C,phoneNumber:R,tenantId:B,stsTokenManager:A,createdAt:Y,lastLoginAt:J});return ve&&Array.isArray(ve)&&(N.providerData=ve.map(V=>Object.assign({},V))),W&&(N._redirectEventId=W),N}static async _fromIdTokenResponse(e,t,i=!1){const a=new Ko;a.updateFromServerResponse(t);const l=new mi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ko;d.updateFromIdToken(i);const p=new mi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new c_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;function Cr(n){Pr(n instanceof Function,"Expected a class definition");let e=fb.get(n);return e?(Pr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mS.type="NONE";const pb=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n,e,t){return`firebase:${n}:${e}:${t}`}class $o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Dd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Dd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Qd(this.auth,{idToken:e}).catch(()=>{});return t?mi._fromGetAccountInfoResponse(this.auth,t,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $o(Cr(pb),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Cr(pb);const c=Dd(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const y=await m._get(c);if(y){let T;if(typeof y=="string"){const b=await Qd(e,{idToken:y}).catch(()=>{});if(!b)break;T=await mi._fromGetAccountInfoResponse(e,b,y)}else T=mi._fromJSON(e,y);m!==l&&(d=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new $o(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new $o(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ES(e))return"Blackberry";if(bS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||yS(e))&&!e.includes("edge/"))return"Chrome";if(TS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function gS(n=_n()){return/firefox\//i.test(n)}function _S(n=_n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yS(n=_n()){return/crios\//i.test(n)}function vS(n=_n()){return/iemobile/i.test(n)}function TS(n=_n()){return/android/i.test(n)}function ES(n=_n()){return/blackberry/i.test(n)}function bS(n=_n()){return/webos/i.test(n)}function ay(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fV(n=_n()){var e;return ay(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pV(){return Tx()&&document.documentMode===10}function wS(n=_n()){return ay(n)||TS(n)||bS(n)||ES(n)||/windows phone/i.test(n)||vS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n,e=[]){let t;switch(n){case"Browser":t=mb(_n());break;case"Worker":t=`${mb(_n())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(n,e={}){return wi(n,"GET","/v2/passwordPolicy",zr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=6;class yV{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:_V,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gb(this),this.idTokenSubscription=new gb(this),this.beforeStateQueue=new mV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cr(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qd(this,{idToken:e}),i=await mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(zi(this));const t=e?ht(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gV(this),t=new yV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await dV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Yk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qs(n){return ht(n)}class gb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ox(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TV(n){Lf=n}function IS(n){return Lf.loadJS(n)}function EV(){return Lf.recaptchaEnterpriseScript}function bV(){return Lf.gapiScript}function wV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class SV{constructor(){this.enterprise=new IV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const RV="recaptcha-enterprise",RS="NO_RECAPTCHA";class AV{constructor(e){this.type=RV,this.auth=qs(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{rV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new iV(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;hb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(RS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&hb(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=EV();p.length!==0&&(p+=d),IS(p).then(()=>{a(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function _b(n,e,t,i=!1,a=!1){const l=new AV(n);let c;if(a)c=RS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Kd(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _b(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await _b(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(n,e){const t=Br(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Dr(l,e??{}))return a;Ei(a,"already-initialized")}return t.initialize({options:e})}function NV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Cr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function OV(n,e,t){const i=qs(n);Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=AS(e),{host:c,port:d}=xV(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ee(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ee(Dr(m,i.config.emulator)&&Dr(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Fr(c)?(Mf(`${l}//${c}${p}`),Pf("Auth",!0)):kV()}function AS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xV(n){const e=AS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:yb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:yb(c)}}}function yb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function VV(n,e){return wi(n,"POST","/v1/accounts:update",e)}async function DV(n,e){return wi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(n,e){return Vu(n,"POST","/v1/accounts:signInWithPassword",zr(n,e))}async function PV(n,e){return wi(n,"POST","/v1/accounts:sendOobCode",zr(n,e))}async function UV(n,e){return PV(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(n,e){return Vu(n,"POST","/v1/accounts:signInWithEmailLink",zr(n,e))}async function WV(n,e){return Vu(n,"POST","/v1/accounts:signInWithEmailLink",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends oy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new du(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new du(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,t,"signInWithPassword",MV);case"emailLink":return LV(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,i,"signUpPassword",DV);case"emailLink":return WV(e,{idToken:t,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e){return Vu(n,"POST","/v1/accounts:signInWithIdp",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="http://localhost";class Pa extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ei("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=ny(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Pa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,el(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:FV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BV(n){const e=qc(Gc(n)).link,t=e?qc(Gc(e)).deep_link_id:null,i=qc(Gc(n)).deep_link_id;return(i?qc(Gc(i)).link:null)||i||t||e||n}class ly{constructor(e){var t,i,a,l,c,d;const p=qc(Gc(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,y=(i=p.oobCode)!==null&&i!==void 0?i:null,T=jV((a=p.mode)!==null&&a!==void 0?a:null);Ee(m&&y&&T,"argument-error"),this.apiKey=m,this.operation=T,this.code=y,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=BV(e);try{return new ly(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,t){return du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ly.parseLink(t);return Ee(i,"argument-error"),du._fromEmailAndCode(e,i.code,i.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends CS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Du{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return bs.credential(t,i)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Du{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Du{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ss.credential(t,i)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(n,e){return Vu(n,"POST","/v1/accounts:signUp",zr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await mi._fromIdTokenResponse(e,i,a),c=vb(i);return new Ua({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=vb(i);return new Ua({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function vb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends ai{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new $d(e,t,i,a)}}function NS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(n,l,e,i):l})}async function HV(n,e,t=!1){const i=await Ma(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ua._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,e,t=!1){const{auth:i}=n;if(bn(i.app))return Promise.reject(zi(i));const a="reauthenticate";try{const l=await Ma(n,NS(i,a,e,n),t);Ee(l.idToken,i,"internal-error");const c=sy(l.idToken);Ee(c,i,"internal-error");const{sub:d}=c;return Ee(n.uid===d,i,"user-mismatch"),Ua._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ei(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(n,e,t=!1){if(bn(n.app))return Promise.reject(zi(n));const i="signIn",a=await NS(n,i,e),l=await Ua._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function GV(n,e){return OS(qs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(n){const e=qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZV(n,e,t){const i=qs(n);await Kd(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UV)}async function kS(n,e,t){if(bn(n.app))return Promise.reject(zi(n));const i=qs(n),c=await Kd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zV).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xS(n),p}),d=await Ua._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function YV(n,e,t){return bn(n.app)?Promise.reject(zi(n)):GV(ht(n),El.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&xS(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(n,e){return wi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ht(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Ma(i,JV(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function XV(n,e){const t=ht(n);return bn(t.auth.app)?Promise.reject(zi(t.auth)):KV(t,e)}async function KV(n,e,t){const{auth:i}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e);const c=await Ma(n,VV(i,l));await n._updateTokensIfNecessary(c,!0)}function $V(n,e,t,i){return ht(n).onIdTokenChanged(e,t,i)}function eD(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function tD(n,e,t,i){return ht(n).onAuthStateChanged(e,t,i)}function nD(n){return ht(n).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1e3,rD=10;class DS extends VS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);pV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,rD):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},iD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DS.type="LOCAL";const sD=DS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends VS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MS.type="SESSION";const PS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Wf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await aD(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=cy("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function lD(n){Hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function cD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hD(){return US()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firebaseLocalStorageDb",dD=1,tf="firebaseLocalStorage",WS="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ff(n,e){return n.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function fD(){const n=indexedDB.deleteDatabase(LS);return new Mu(n).toPromise()}function u_(){const n=indexedDB.open(LS,dD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(tf,{keyPath:WS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(tf)?e(i):(i.close(),await fD(),e(await u_()))})})}async function Tb(n,e,t){const i=Ff(n,!0).put({[WS]:e,value:t});return new Mu(i).toPromise()}async function pD(n,e){const t=Ff(n,!1).get(e),i=await new Mu(t).toPromise();return i===void 0?null:i.value}function Eb(n,e){const t=Ff(n,!0).delete(e);return new Mu(t).toPromise()}const mD=800,gD=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>gD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return US()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(hD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await cD(),!this.activeServiceWorker)return;this.sender=new oD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await u_();return await Tb(e,ef,"1"),await Eb(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>pD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Eb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ff(a,!1).getAll();return new Mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const _D=FS;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n,e){return e?Cr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vD(n){return OS(n.auth,new uy(n),n.bypassAuthState)}function TD(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),qV(t,new uy(n),n.bypassAuthState)}async function ED(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),HV(t,new uy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vD;case"linkViaPopup":case"linkViaRedirect":return ED;case"reauthViaPopup":case"reauthViaRedirect":return TD;default:Ei(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new ku(2e3,1e4);class Qo extends jS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bD.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="pendingRedirect",Md=new Map;class SD extends jS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const i=await ID(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ID(n,e){const t=CD(e),i=AD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function RD(n,e){Md.set(n._key(),e)}function AD(n){return Cr(n._redirectPersistence)}function CD(n){return Dd(wD,n.config.apiKey,n.name)}async function ND(n,e,t=!1){if(bn(n.app))return Promise.reject(zi(n));const i=qs(n),a=yD(i,e),c=await new SD(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=10*60*1e3;class xD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!BS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Bi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OD&&this.cachedEventUids.clear(),this.cachedEventUids.has(bb(e))}saveEventToCache(e){this.cachedEventUids.add(bb(e)),this.lastProcessedEventTime=Date.now()}}function bb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e={}){return wi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MD=/^https?/;async function PD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await VD(n);for(const t of e)try{if(UD(t))return}catch{}Ei(n,"unauthorized-domain")}function UD(n){const e=l_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!MD.test(t))return!1;if(DD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new ku(3e4,6e4);function wb(){const n=Hi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WD(n){return new Promise((e,t)=>{var i,a,l;function c(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),t(Bi(n,"network-request-failed"))},timeout:LD.get()})}if(!((a=(i=Hi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Hi().gapi)===null||l===void 0)&&l.load)c();else{const d=wV("iframefcb");return Hi()[d]=()=>{gapi.load?c():t(Bi(n,"network-request-failed"))},IS(`${bV()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function FD(n){return Pd=Pd||WD(n),Pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new ku(5e3,15e3),BD="__/auth/iframe",zD="emulator/auth/iframe",HD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GD(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ry(e,zD):`https://${n.config.authDomain}/${BD}`,i={apiKey:e.apiKey,appName:n.name,v:Hs},a=qD.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Tl(i).slice(1)}`}async function ZD(n){const e=await FD(n),t=Hi().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:GD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HD,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Bi(n,"network-request-failed"),d=Hi().setTimeout(()=>{l(c)},jD.get());function p(){Hi().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JD=500,QD=600,XD="_blank",KD="http://localhost";class Sb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $D(n,e,t,i=JD,a=QD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},YD),{width:i.toString(),height:a.toString(),top:l,left:c}),m=_n().toLowerCase();t&&(d=yS(m)?XD:t),gS(m)&&(e=e||KD,p.scrollbars="yes");const y=Object.entries(p).reduce((b,[R,C])=>`${b}${R}=${C},`,"");if(fV(m)&&d!=="_self")return eM(e||"",d),new Sb(null);const T=window.open(e||"",d,y);Ee(T,n,"popup-blocked");try{T.focus()}catch{}return new Sb(T)}function eM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="__/auth/handler",nM="emulator/auth/handler",iM=encodeURIComponent("fac");async function Ib(n,e,t,i,a,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Hs,eventId:a};if(e instanceof CS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",n_(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof Du){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await n._getAppCheckToken(),m=p?`#${iM}=${encodeURIComponent(p)}`:"";return`${rM(n)}?${Tl(d).slice(1)}${m}`}function rM({config:n}){return n.emulator?ry(n,nM):`https://${n.authDomain}/${tM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class sM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PS,this._completeRedirectFn=ND,this._overrideRedirectResult=RD}async _openPopup(e,t,i,a){var l;Pr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Ib(e,t,i,l_(),a);return $D(e,c,cy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Ib(e,t,i,l_(),a);return lD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Pr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ZD(e),i=new xD(e);return t.register("authEvent",a=>(Ee(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Og,{type:Og},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Og];c!==void 0&&t(!!c),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wS()||_S()||ay()}}const aM=sM;var Rb="@firebase/auth",Ab="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cM(n){si(new zn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(n)},m=new vV(i,a,l,p);return NV(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),si(new zn("auth-internal",e=>{const t=qs(e.getProvider("auth").getImmediate());return(i=>new oM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(Rb,Ab,lM(n)),gn(Rb,Ab,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=5*60,hM=Q1("authIdTokenMaxAge")||uM;let Cb=null;const dM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>hM)return;const a=t==null?void 0:t.token;Cb!==a&&(Cb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function hy(n=xu()){const e=Br(n,"auth");if(e.isInitialized())return e.getImmediate();const t=CV(n,{popupRedirectResolver:aM,persistence:[_D,sD,PS]}),i=Q1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=dM(l.toString());eD(t,c,()=>c(t.currentUser)),$V(t,d=>c(d))}}const a=Y1("auth");return a&&OV(t,`http://${a}`),t}function fM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Bi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",fM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cM("Browser");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,zS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function N(){}N.prototype=A.prototype,M.D=A.prototype,M.prototype=new N,M.prototype.constructor=M,M.C=function(V,P,F){for(var x=Array(arguments.length-2),en=2;en<arguments.length;en++)x[en-2]=arguments[en];return A.prototype[P].apply(V,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,A,N){N||(N=0);var V=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)V[P]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(P=0;16>P;++P)V[P]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=M.g[0],N=M.g[1],P=M.g[2];var F=M.g[3],x=A+(F^N&(P^F))+V[0]+3614090360&4294967295;A=N+(x<<7&4294967295|x>>>25),x=F+(P^A&(N^P))+V[1]+3905402710&4294967295,F=A+(x<<12&4294967295|x>>>20),x=P+(N^F&(A^N))+V[2]+606105819&4294967295,P=F+(x<<17&4294967295|x>>>15),x=N+(A^P&(F^A))+V[3]+3250441966&4294967295,N=P+(x<<22&4294967295|x>>>10),x=A+(F^N&(P^F))+V[4]+4118548399&4294967295,A=N+(x<<7&4294967295|x>>>25),x=F+(P^A&(N^P))+V[5]+1200080426&4294967295,F=A+(x<<12&4294967295|x>>>20),x=P+(N^F&(A^N))+V[6]+2821735955&4294967295,P=F+(x<<17&4294967295|x>>>15),x=N+(A^P&(F^A))+V[7]+4249261313&4294967295,N=P+(x<<22&4294967295|x>>>10),x=A+(F^N&(P^F))+V[8]+1770035416&4294967295,A=N+(x<<7&4294967295|x>>>25),x=F+(P^A&(N^P))+V[9]+2336552879&4294967295,F=A+(x<<12&4294967295|x>>>20),x=P+(N^F&(A^N))+V[10]+4294925233&4294967295,P=F+(x<<17&4294967295|x>>>15),x=N+(A^P&(F^A))+V[11]+2304563134&4294967295,N=P+(x<<22&4294967295|x>>>10),x=A+(F^N&(P^F))+V[12]+1804603682&4294967295,A=N+(x<<7&4294967295|x>>>25),x=F+(P^A&(N^P))+V[13]+4254626195&4294967295,F=A+(x<<12&4294967295|x>>>20),x=P+(N^F&(A^N))+V[14]+2792965006&4294967295,P=F+(x<<17&4294967295|x>>>15),x=N+(A^P&(F^A))+V[15]+1236535329&4294967295,N=P+(x<<22&4294967295|x>>>10),x=A+(P^F&(N^P))+V[1]+4129170786&4294967295,A=N+(x<<5&4294967295|x>>>27),x=F+(N^P&(A^N))+V[6]+3225465664&4294967295,F=A+(x<<9&4294967295|x>>>23),x=P+(A^N&(F^A))+V[11]+643717713&4294967295,P=F+(x<<14&4294967295|x>>>18),x=N+(F^A&(P^F))+V[0]+3921069994&4294967295,N=P+(x<<20&4294967295|x>>>12),x=A+(P^F&(N^P))+V[5]+3593408605&4294967295,A=N+(x<<5&4294967295|x>>>27),x=F+(N^P&(A^N))+V[10]+38016083&4294967295,F=A+(x<<9&4294967295|x>>>23),x=P+(A^N&(F^A))+V[15]+3634488961&4294967295,P=F+(x<<14&4294967295|x>>>18),x=N+(F^A&(P^F))+V[4]+3889429448&4294967295,N=P+(x<<20&4294967295|x>>>12),x=A+(P^F&(N^P))+V[9]+568446438&4294967295,A=N+(x<<5&4294967295|x>>>27),x=F+(N^P&(A^N))+V[14]+3275163606&4294967295,F=A+(x<<9&4294967295|x>>>23),x=P+(A^N&(F^A))+V[3]+4107603335&4294967295,P=F+(x<<14&4294967295|x>>>18),x=N+(F^A&(P^F))+V[8]+1163531501&4294967295,N=P+(x<<20&4294967295|x>>>12),x=A+(P^F&(N^P))+V[13]+2850285829&4294967295,A=N+(x<<5&4294967295|x>>>27),x=F+(N^P&(A^N))+V[2]+4243563512&4294967295,F=A+(x<<9&4294967295|x>>>23),x=P+(A^N&(F^A))+V[7]+1735328473&4294967295,P=F+(x<<14&4294967295|x>>>18),x=N+(F^A&(P^F))+V[12]+2368359562&4294967295,N=P+(x<<20&4294967295|x>>>12),x=A+(N^P^F)+V[5]+4294588738&4294967295,A=N+(x<<4&4294967295|x>>>28),x=F+(A^N^P)+V[8]+2272392833&4294967295,F=A+(x<<11&4294967295|x>>>21),x=P+(F^A^N)+V[11]+1839030562&4294967295,P=F+(x<<16&4294967295|x>>>16),x=N+(P^F^A)+V[14]+4259657740&4294967295,N=P+(x<<23&4294967295|x>>>9),x=A+(N^P^F)+V[1]+2763975236&4294967295,A=N+(x<<4&4294967295|x>>>28),x=F+(A^N^P)+V[4]+1272893353&4294967295,F=A+(x<<11&4294967295|x>>>21),x=P+(F^A^N)+V[7]+4139469664&4294967295,P=F+(x<<16&4294967295|x>>>16),x=N+(P^F^A)+V[10]+3200236656&4294967295,N=P+(x<<23&4294967295|x>>>9),x=A+(N^P^F)+V[13]+681279174&4294967295,A=N+(x<<4&4294967295|x>>>28),x=F+(A^N^P)+V[0]+3936430074&4294967295,F=A+(x<<11&4294967295|x>>>21),x=P+(F^A^N)+V[3]+3572445317&4294967295,P=F+(x<<16&4294967295|x>>>16),x=N+(P^F^A)+V[6]+76029189&4294967295,N=P+(x<<23&4294967295|x>>>9),x=A+(N^P^F)+V[9]+3654602809&4294967295,A=N+(x<<4&4294967295|x>>>28),x=F+(A^N^P)+V[12]+3873151461&4294967295,F=A+(x<<11&4294967295|x>>>21),x=P+(F^A^N)+V[15]+530742520&4294967295,P=F+(x<<16&4294967295|x>>>16),x=N+(P^F^A)+V[2]+3299628645&4294967295,N=P+(x<<23&4294967295|x>>>9),x=A+(P^(N|~F))+V[0]+4096336452&4294967295,A=N+(x<<6&4294967295|x>>>26),x=F+(N^(A|~P))+V[7]+1126891415&4294967295,F=A+(x<<10&4294967295|x>>>22),x=P+(A^(F|~N))+V[14]+2878612391&4294967295,P=F+(x<<15&4294967295|x>>>17),x=N+(F^(P|~A))+V[5]+4237533241&4294967295,N=P+(x<<21&4294967295|x>>>11),x=A+(P^(N|~F))+V[12]+1700485571&4294967295,A=N+(x<<6&4294967295|x>>>26),x=F+(N^(A|~P))+V[3]+2399980690&4294967295,F=A+(x<<10&4294967295|x>>>22),x=P+(A^(F|~N))+V[10]+4293915773&4294967295,P=F+(x<<15&4294967295|x>>>17),x=N+(F^(P|~A))+V[1]+2240044497&4294967295,N=P+(x<<21&4294967295|x>>>11),x=A+(P^(N|~F))+V[8]+1873313359&4294967295,A=N+(x<<6&4294967295|x>>>26),x=F+(N^(A|~P))+V[15]+4264355552&4294967295,F=A+(x<<10&4294967295|x>>>22),x=P+(A^(F|~N))+V[6]+2734768916&4294967295,P=F+(x<<15&4294967295|x>>>17),x=N+(F^(P|~A))+V[13]+1309151649&4294967295,N=P+(x<<21&4294967295|x>>>11),x=A+(P^(N|~F))+V[4]+4149444226&4294967295,A=N+(x<<6&4294967295|x>>>26),x=F+(N^(A|~P))+V[11]+3174756917&4294967295,F=A+(x<<10&4294967295|x>>>22),x=P+(A^(F|~N))+V[2]+718787259&4294967295,P=F+(x<<15&4294967295|x>>>17),x=N+(F^(P|~A))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+F&4294967295}i.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var N=A-this.blockSize,V=this.B,P=this.h,F=0;F<A;){if(P==0)for(;F<=N;)a(this,M,F),F+=this.blockSize;if(typeof M=="string"){for(;F<A;)if(V[P++]=M.charCodeAt(F++),P==this.blockSize){a(this,V),P=0;break}}else for(;F<A;)if(V[P++]=M[F++],P==this.blockSize){a(this,V),P=0;break}}this.h=P,this.o+=A},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var N=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=N&255,N/=256;for(this.u(M),M=Array(16),A=N=0;4>A;++A)for(var V=0;32>V;V+=8)M[N++]=this.g[A]>>>V&255;return M};function l(M,A){var N=d;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=A(M)}function c(M,A){this.h=A;for(var N=[],V=!0,P=M.length-1;0<=P;P--){var F=M[P]|0;V&&F==A||(N[P]=F,V=!1)}this.g=N}var d={};function p(M){return-128<=M&&128>M?l(M,function(A){return new c([A|0],0>A?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return W(m(-M));for(var A=[],N=1,V=0;M>=N;V++)A[V]=M/N|0,N*=4294967296;return new c(A,0)}function y(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return W(y(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(A,8)),V=T,P=0;P<M.length;P+=8){var F=Math.min(8,M.length-P),x=parseInt(M.substring(P,P+F),A);8>F?(F=m(Math.pow(A,F)),V=V.j(F).add(m(x))):(V=V.j(N),V=V.add(m(x)))}return V}var T=p(0),b=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(B(this))return-W(this).m();for(var M=0,A=1,N=0;N<this.g.length;N++){var V=this.i(N);M+=(0<=V?V:4294967296+V)*A,A*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(B(this))return"-"+W(this).toString(M);for(var A=m(Math.pow(M,6)),N=this,V="";;){var P=re(N,A).g;N=Y(N,P.j(A));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(M);if(N=P,C(N))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function B(M){return M.h==-1}n.l=function(M){return M=Y(this,M),B(M)?-1:C(M)?0:1};function W(M){for(var A=M.g.length,N=[],V=0;V<A;V++)N[V]=~M.g[V];return new c(N,~M.h).add(b)}n.abs=function(){return B(this)?W(this):this},n.add=function(M){for(var A=Math.max(this.g.length,M.g.length),N=[],V=0,P=0;P<=A;P++){var F=V+(this.i(P)&65535)+(M.i(P)&65535),x=(F>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);V=x>>>16,F&=65535,x&=65535,N[P]=x<<16|F}return new c(N,N[N.length-1]&-2147483648?-1:0)};function Y(M,A){return M.add(W(A))}n.j=function(M){if(C(this)||C(M))return T;if(B(this))return B(M)?W(this).j(W(M)):W(W(this).j(M));if(B(M))return W(this.j(W(M)));if(0>this.l(R)&&0>M.l(R))return m(this.m()*M.m());for(var A=this.g.length+M.g.length,N=[],V=0;V<2*A;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(var P=0;P<M.g.length;P++){var F=this.i(V)>>>16,x=this.i(V)&65535,en=M.i(P)>>>16,_t=M.i(P)&65535;N[2*V+2*P]+=x*_t,J(N,2*V+2*P),N[2*V+2*P+1]+=F*_t,J(N,2*V+2*P+1),N[2*V+2*P+1]+=x*en,J(N,2*V+2*P+1),N[2*V+2*P+2]+=F*en,J(N,2*V+2*P+2)}for(V=0;V<A;V++)N[V]=N[2*V+1]<<16|N[2*V];for(V=A;V<2*A;V++)N[V]=0;return new c(N,0)};function J(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function te(M,A){this.g=M,this.h=A}function re(M,A){if(C(A))throw Error("division by zero");if(C(M))return new te(T,T);if(B(M))return A=re(W(M),A),new te(W(A.g),W(A.h));if(B(A))return A=re(M,W(A)),new te(W(A.g),A.h);if(30<M.g.length){if(B(M)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var N=b,V=A;0>=V.l(M);)N=ue(N),V=ue(V);var P=ve(N,1),F=ve(V,1);for(V=ve(V,2),N=ve(N,2);!C(V);){var x=F.add(V);0>=x.l(M)&&(P=P.add(N),F=x),V=ve(V,1),N=ve(N,1)}return A=Y(M,P.j(A)),new te(P,A)}for(P=T;0<=M.l(A);){for(N=Math.max(1,Math.floor(M.m()/A.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=m(N),x=F.j(A);B(x)||0<x.l(M);)N-=V,F=m(N),x=F.j(A);C(F)&&(F=b),P=P.add(F),M=Y(M,x)}return new te(P,M)}n.A=function(M){return re(this,M).h},n.and=function(M){for(var A=Math.max(this.g.length,M.g.length),N=[],V=0;V<A;V++)N[V]=this.i(V)&M.i(V);return new c(N,this.h&M.h)},n.or=function(M){for(var A=Math.max(this.g.length,M.g.length),N=[],V=0;V<A;V++)N[V]=this.i(V)|M.i(V);return new c(N,this.h|M.h)},n.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),N=[],V=0;V<A;V++)N[V]=this.i(V)^M.i(V);return new c(N,this.h^M.h)};function ue(M){for(var A=M.g.length+1,N=[],V=0;V<A;V++)N[V]=M.i(V)<<1|M.i(V-1)>>>31;return new c(N,M.h)}function ve(M,A){var N=A>>5;A%=32;for(var V=M.g.length-N,P=[],F=0;F<V;F++)P[F]=0<A?M.i(F+N)>>>A|M.i(F+N+1)<<32-A:M.i(F+N);return new c(P,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,zS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Cs=c}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HS,Zc,qS,Ud,h_,GS,ZS,YS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,_,v){return h==Array.prototype||h==Object.prototype||(h[_]=v.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var _=0;_<h.length;++_){var v=h[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function a(h,_){if(_)e:{var v=i;h=h.split(".");for(var I=0;I<h.length-1;I++){var j=h[I];if(!(j in v))break e;v=v[j]}h=h[h.length-1],I=v[h],_=_(I),_!=I&&_!=null&&e(v,h,{configurable:!0,writable:!0,value:_})}}function l(h,_){h instanceof String&&(h+="");var v=0,I=!1,j={next:function(){if(!I&&v<h.length){var Z=v++;return{value:_(Z,h[Z]),done:!1}}return I=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(h){return h||function(){return l(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var _=typeof h;return _=_!="object"?_:h?Array.isArray(h)?"array":_:"null",_=="array"||_=="object"&&typeof h.length=="number"}function m(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function y(h,_,v){return h.call.apply(h.bind,arguments)}function T(h,_,v){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,I),h.apply(_,j)}}return function(){return h.apply(_,arguments)}}function b(h,_,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,b.apply(null,arguments)}function R(h,_){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function C(h,_){function v(){}v.prototype=_.prototype,h.aa=_.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(I,j,Z){for(var ae=Array(arguments.length-2),je=2;je<arguments.length;je++)ae[je-2]=arguments[je];return _.prototype[j].apply(I,ae)}}function B(h){const _=h.length;if(0<_){const v=Array(_);for(let I=0;I<_;I++)v[I]=h[I];return v}return[]}function W(h,_){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const j=h.length||0,Z=I.length||0;h.length=j+Z;for(let ae=0;ae<Z;ae++)h[j+ae]=I[ae]}else h.push(I)}}class Y{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function J(h){return/^[\s\xa0]*$/.test(h)}function te(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var ue=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function ve(h,_,v){for(const I in h)_.call(v,h[I],I,h)}function M(h,_){for(const v in h)_.call(void 0,h[v],v,h)}function A(h){const _={};for(const v in h)_[v]=h[v];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,_){let v,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(v in I)h[v]=I[v];for(let Z=0;Z<N.length;Z++)v=N[Z],Object.prototype.hasOwnProperty.call(I,v)&&(h[v]=I[v])}}function P(h){var _=1;h=h.split(":");const v=[];for(;0<_&&h.length;)v.push(h.shift()),_--;return h.length&&v.push(h.join(":")),v}function F(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Ze;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class en{constructor(){this.h=this.g=null}add(_,v){const I=_t.get();I.set(_,v),this.h?this.h.next=I:this.g=I,this.h=I}}var _t=new Y(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,Ze=new en,k=()=>{const h=d.Promise.resolve(void 0);le=()=>{h.then(ne)}};var ne=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(v){F(v)}var _=_t;_.j(h),100>_.h&&(_.h++,h.next=_.g,_.g=h)}me=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,_),d.removeEventListener("test",v,_)}catch{}return h}();function ke(h,_){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget){if(ue){e:{try{re(_.nodeName);var j=!0;break e}catch{}j=!1}j||(_=null)}}else v=="mouseover"?_=h.fromElement:v=="mouseout"&&(_=h.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ke.aa.h.call(this)}}C(ke,se);var Re={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),ot=0;function Si(h,_,v,I,j){this.listener=h,this.proxy=null,this.src=_,this.type=v,this.capture=!!I,this.ha=j,this.key=++ot,this.da=this.fa=!1}function qr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function er(h){this.src=h,this.g={},this.h=0}er.prototype.add=function(h,_,v,I,j){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var ae=Zs(h,_,I,j);return-1<ae?(_=h[ae],v||(_.fa=!1)):(_=new Si(_,this.src,Z,!!I,j),_.fa=v,h.push(_)),_};function Gs(h,_){var v=_.type;if(v in h.g){var I=h.g[v],j=Array.prototype.indexOf.call(I,_,void 0),Z;(Z=0<=j)&&Array.prototype.splice.call(I,j,1),Z&&(qr(_),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Zs(h,_,v,I){for(var j=0;j<h.length;++j){var Z=h[j];if(!Z.da&&Z.listener==_&&Z.capture==!!v&&Z.ha==I)return j}return-1}var Ys="closure_lm_"+(1e6*Math.random()|0),Nl={};function Yu(h,_,v,I,j){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)Yu(h,_[Z],v,I,j);return null}return v=Ju(v),h&&h[Ht]?h.K(_,v,m(I)?!!I.capture:!1,j):Hn(h,_,v,!1,I,j)}function Hn(h,_,v,I,j,Z){if(!_)throw Error("Invalid event type");var ae=m(j)?!!j.capture:!!j,je=$a(h);if(je||(h[Ys]=je=new er(h)),v=je.add(_,v,I,ae,Z),v.proxy)return v;if(I=dp(),v.proxy=I,I.src=h,I.listener=v,h.addEventListener)ge||(j=ae),j===void 0&&(j=!1),h.addEventListener(_.toString(),I,j);else if(h.attachEvent)h.attachEvent(Js(_.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dp(){function h(v){return _.call(h.src,h.listener,v)}const _=fp;return h}function Ol(h,_,v,I,j){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Ol(h,_[Z],v,I,j);else I=m(I)?!!I.capture:!!I,v=Ju(v),h&&h[Ht]?(h=h.i,_=String(_).toString(),_ in h.g&&(Z=h.g[_],v=Zs(Z,v,I,j),-1<v&&(qr(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete h.g[_],h.h--)))):h&&(h=$a(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Zs(_,v,I,j)),(v=-1<h?_[h]:null)&&Ka(v))}function Ka(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ht])Gs(_.i,h);else{var v=h.type,I=h.proxy;_.removeEventListener?_.removeEventListener(v,I,h.capture):_.detachEvent?_.detachEvent(Js(v),I):_.addListener&&_.removeListener&&_.removeListener(I),(v=$a(_))?(Gs(v,h),v.h==0&&(v.src=null,_[Ys]=null)):qr(h)}}}function Js(h){return h in Nl?Nl[h]:Nl[h]="on"+h}function fp(h,_){if(h.da)h=!0;else{_=new ke(_,this);var v=h.listener,I=h.ha||h.src;h.fa&&Ka(h),h=v.call(I,_)}return h}function $a(h){return h=h[Ys],h instanceof er?h:null}var xl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ju(h){return typeof h=="function"?h:(h[xl]||(h[xl]=function(_){return h.handleEvent(_)}),h[xl])}function yt(){ce.call(this),this.i=new er(this),this.M=this,this.F=null}C(yt,ce),yt.prototype[Ht]=!0,yt.prototype.removeEventListener=function(h,_,v,I){Ol(this,h,_,v,I)};function Xe(h,_){var v,I=h.F;if(I)for(v=[];I;I=I.F)v.push(I);if(h=h.M,I=_.type||_,typeof _=="string")_=new se(_,h);else if(_ instanceof se)_.target=_.target||h;else{var j=_;_=new se(I,h),V(_,j)}if(j=!0,v)for(var Z=v.length-1;0<=Z;Z--){var ae=_.g=v[Z];j=kn(ae,I,!0,_)&&j}if(ae=_.g=h,j=kn(ae,I,!0,_)&&j,j=kn(ae,I,!1,_)&&j,v)for(Z=0;Z<v.length;Z++)ae=_.g=v[Z],j=kn(ae,I,!1,_)&&j}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var h=this.i,_;for(_ in h.g){for(var v=h.g[_],I=0;I<v.length;I++)qr(v[I]);delete h.g[_],h.h--}}this.F=null},yt.prototype.K=function(h,_,v,I){return this.i.add(String(h),_,!1,v,I)},yt.prototype.L=function(h,_,v,I){return this.i.add(String(h),_,!0,v,I)};function kn(h,_,v,I){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();for(var j=!0,Z=0;Z<_.length;++Z){var ae=_[Z];if(ae&&!ae.da&&ae.capture==v){var je=ae.listener,Mt=ae.ha||ae.src;ae.fa&&Gs(h.i,ae),j=je.call(Mt,I)!==!1&&j}}return j&&!I.defaultPrevented}function cn(h,_,v){if(typeof h=="function")v&&(h=b(h,v));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(h,_||0)}function Qu(h){h.g=cn(()=>{h.g=null,h.i&&(h.i=!1,Qu(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class pp extends ce{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(h){ce.call(this),this.h=h,this.g={}}C(Qs,ce);var Xs=[];function Ks(h){ve(h.g,function(_,v){this.g.hasOwnProperty(v)&&Ka(_)},h),h.g={}}Qs.prototype.N=function(){Qs.aa.N.call(this),Ks(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=d.JSON.stringify,eo=d.JSON.parse,$s=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function kl(){}kl.prototype.h=null;function Vl(h){return h.h||(h.h=h.i())}function Dl(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){se.call(this,"d")}C(nr,se);function Ml(){se.call(this,"c")}C(Ml,se);var Ii={},Pl=null;function Gr(){return Pl=Pl||new yt}Ii.La="serverreachability";function to(h){se.call(this,Ii.La,h)}C(to,se);function Zr(h){const _=Gr();Xe(_,new to(_))}Ii.STAT_EVENT="statevent";function Xu(h,_){se.call(this,Ii.STAT_EVENT,h),this.stat=_}C(Xu,se);function dt(h){const _=Gr();Xe(_,new Xu(_,h))}Ii.Ma="timingevent";function Dt(h,_){se.call(this,Ii.Ma,h),this.size=_}C(Dt,se);function At(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},_)}function qn(){this.g=!0}qn.prototype.xa=function(){this.g=!1};function Ul(h,_,v,I,j,Z){h.info(function(){if(h.g)if(Z)for(var ae="",je=Z.split("&"),Mt=0;Mt<je.length;Mt++){var Be=je[Mt].split("=");if(1<Be.length){var Gt=Be[0];Be=Be[1];var Pt=Gt.split("_");ae=2<=Pt.length&&Pt[1]=="type"?ae+(Gt+"="+Be+"&"):ae+(Gt+"=redacted&")}}else ae=null;else ae=Z;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+_+`
`+v+`
`+ae})}function mp(h,_,v,I,j,Z,ae){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+_+`
`+v+`
`+Z+" "+ae})}function Yr(h,_,v,I){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+ea(h,v)+(I?" "+I:"")})}function Ku(h,_){h.info(function(){return"TIMEOUT: "+_})}qn.prototype.info=function(){};function ea(h,_){if(!h.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var I=v[h];if(!(2>I.length)){var j=I[1];if(Array.isArray(j)&&!(1>j.length)){var Z=j[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return oi(v)}catch{return _}}var Jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ri;function Ai(){}C(Ai,kl),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},Ri=new Ai;function yn(h,_,v,I){this.j=h,this.i=_,this.l=v,this.R=I||1,this.U=new Qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var Ll={},no={};function li(h,_,v){h.L=1,h.v=sa(Vn(_)),h.m=v,h.P=!0,rr(h,null)}function rr(h,_){h.F=Date.now(),ta(h),h.A=Vn(h.v);var v=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),Hl(v.i,"t",I),h.C=0,v=h.j.J,h.h=new bt,h.g=ph(h.j,v?_:null,!h.m),0<h.O&&(h.M=new pp(b(h.Y,h,h.g),h.O)),_=h.U,v=h.g,I=h.ca;var j="readystatechange";Array.isArray(j)||(j&&(Xs[0]=j.toString()),j=Xs);for(var Z=0;Z<j.length;Z++){var ae=Yu(v,j[Z],I||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,_)):(h.u="GET",h.g.ea(h.A,h.u,null,_)),Zr(),Ul(h.i,h.u,h.A,h.l,h.R,h.m)}yn.prototype.ca=function(h){h=h.target;const _=this.M;_&&Jn(h)==3?_.j():this.Y(h)},yn.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=Jn(this.g);var _=this.g.Ba();const dr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||Pt!=4||_==7||(_==8||0>=dr?Zr(3):Zr(2)),Qr(this);var v=this.g.Z();this.X=v;t:if($u(this)){var I=ah(this.g);h="";var j=I.length,Z=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Ci(this);var ae="";break t}this.h.i=new d.TextDecoder}for(_=0;_<j;_++)this.h.h=!0,h+=this.h.i.decode(I[_],{stream:!(Z&&_==j-1)});I.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,mp(this.i,this.u,this.A,this.l,this.R,Pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Mt=this.g;if((je=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(je)){var Be=je;break t}}Be=null}if(v=Be)Yr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,na(this,v);else{this.o=!1,this.s=3,dt(12),tn(this),Ci(this);break e}}if(this.P){v=!0;let nn;for(;!this.J&&this.C<ae.length;)if(nn=eh(this,ae),nn==no){Pt==4&&(this.s=4,dt(14),v=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Ll){this.s=4,dt(15),Yr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Yr(this.i,this.l,nn,null),na(this,nn);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),v=!1),this.o=this.o&&v,!v)Yr(this.i,this.l,ae,"[Invalid Chunked Response]"),tn(this),Ci(this);else if(0<ae.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),fa(Gt),Gt.M=!0,dt(11))}}else Yr(this.i,this.l,ae,null),na(this,ae);Pt==4&&tn(this),this.o&&!this.J&&(Pt==4?hh(this.j,this):(this.o=!1,ta(this)))}else Tp(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),tn(this),Ci(this)}}}catch{}finally{}};function $u(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function eh(h,_){var v=h.C,I=_.indexOf(`
`,v);return I==-1?no:(v=Number(_.substring(v,I)),isNaN(v)?Ll:(I+=1,I+v>_.length?no:(_=_.slice(I,I+v),h.C=I+v,_)))}yn.prototype.cancel=function(){this.J=!0,tn(this)};function ta(h){h.S=Date.now()+h.I,th(h,h.I)}function th(h,_){if(h.B!=null)throw Error("WatchDog timer not null");h.B=At(b(h.ba,h),_)}function Qr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ku(this.i,this.A),this.L!=2&&(Zr(),dt(17)),tn(this),this.s=2,Ci(this)):th(this,this.S-h)};function Ci(h){h.j.G==0||h.J||hh(h.j,h)}function tn(h){Qr(h);var _=h.M;_&&typeof _.ma=="function"&&_.ma(),h.M=null,Ks(h.U),h.g&&(_=h.g,h.g=null,_.abort(),_.ma())}function na(h,_){try{var v=h.j;if(v.G!=0&&(v.g==h||Wl(v.h,h))){if(!h.K&&Wl(v.h,h)&&v.G==3){try{var I=v.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)mo(v),fo(v);else break e;Jl(v),dt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=At(b(v.Za,v),6e3));if(1>=ro(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else hr(v,11)}else if((h.K||v.g==h)&&mo(v),!J(_))for(j=v.Da.g.parse(_),_=0;_<j.length;_++){let Be=j[_];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Gt=Be[3];Gt!=null&&(v.la=Gt,v.j.info("VER="+v.la));const Pt=Be[4];Pt!=null&&(v.Aa=Pt,v.j.info("SVER="+v.Aa));const dr=Be[5];dr!=null&&typeof dr=="number"&&0<dr&&(I=1.5*dr,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const nn=h.g;if(nn){const Mi=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var Z=I.h;Z.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(so(Z,Z.h),Z.h=null))}if(I.D){const Xl=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(I.ya=Xl,et(I.I,I.D,Xl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ae=h;if(I.qa=fh(I,I.J?I.ia:null,I.W),ae.K){vn(I.h,ae);var je=ae,Mt=I.L;Mt&&(je.I=Mt),je.B&&(Qr(je),ta(je)),I.g=ae}else ch(I);0<v.i.length&&po(v)}else Be[0]!="stop"&&Be[0]!="close"||hr(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?hr(v,7):Zl(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Zr(4)}catch{}}var nh=class{constructor(h,_){this.g=h,this.map=_}};function sr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function io(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ro(h){return h.h?1:h.g?h.g.size:0}function Wl(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function so(h,_){h.g?h.g.add(_):h.h=_}function vn(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}sr.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const v of h.g.values())_=_.concat(v.D);return _}return B(h.i)}function gp(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var _=[],v=h.length,I=0;I<v;I++)_.push(h[I]);return _}_=[],v=0;for(I in h)_[v++]=h[I];return _}function ao(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var _=[];h=h.length;for(var v=0;v<h;v++)_.push(v);return _}_=[],v=0;for(const I in h)_[v++]=I;return _}}}function jl(h,_){if(h.forEach&&typeof h.forEach=="function")h.forEach(_,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,_,void 0);else for(var v=ao(h),I=gp(h),j=I.length,Z=0;Z<j;Z++)_.call(void 0,I[Z],v&&v[Z],h)}var ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _p(h,_){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var I=h[v].indexOf("="),j=null;if(0<=I){var Z=h[v].substring(0,I);j=h[v].substring(I+1)}else Z=h[v];_(Z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ct(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ct){this.h=h.h,ra(this,h.j),this.o=h.o,this.g=h.g,Xr(this,h.s),this.l=h.l;var _=h.i,v=new or;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),ar(this,v),this.m=h.m}else h&&(_=String(h).match(ia))?(this.h=!1,ra(this,_[1]||"",!0),this.o=Gn(_[2]||""),this.g=Gn(_[3]||"",!0),Xr(this,_[4]),this.l=Gn(_[5]||"",!0),ar(this,_[6]||"",!0),this.m=Gn(_[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Ct.prototype.toString=function(){var h=[],_=this.j;_&&h.push(aa(_,Bl,!0),":");var v=this.g;return(v||_=="file")&&(h.push("//"),(_=this.o)&&h.push(aa(_,Bl,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(aa(v,v.charAt(0)=="/"?yp:zl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",aa(v,oo)),h.join("")};function Vn(h){return new Ct(h)}function ra(h,_,v){h.j=v?Gn(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Xr(h,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);h.s=_}else h.s=null}function ar(h,_,v){_ instanceof or?(h.i=_,rh(h.i,h.h)):(v||(_=aa(_,vp)),h.i=new or(_,h.h))}function et(h,_,v){h.i.set(_,v)}function sa(h){return et(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Gn(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function aa(h,_,v){return typeof h=="string"?(h=encodeURI(h).replace(_,ih),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ih(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Bl=/[#\/\?@]/g,zl=/[#\?:]/g,yp=/[#\?]/g,vp=/[#\?@]/g,oo=/#/g;function or(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Zn(h){h.g||(h.g=new Map,h.h=0,h.i&&_p(h.i,function(_,v){h.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}n=or.prototype,n.add=function(h,_){Zn(this),this.i=null,h=Ni(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(_),this.h+=1,this};function lr(h,_){Zn(h),_=Ni(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function cr(h,_){return Zn(h),_=Ni(h,_),h.g.has(_)}n.forEach=function(h,_){Zn(this),this.g.forEach(function(v,I){v.forEach(function(j){h.call(_,j,I,this)},this)},this)},n.na=function(){Zn(this);const h=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let I=0;I<_.length;I++){const j=h[I];for(let Z=0;Z<j.length;Z++)v.push(_[I])}return v},n.V=function(h){Zn(this);let _=[];if(typeof h=="string")cr(this,h)&&(_=_.concat(this.g.get(Ni(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)_=_.concat(h[v])}return _},n.set=function(h,_){return Zn(this),this.i=null,h=Ni(this,h),cr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=this.V(h),0<h.length?String(h[0]):_):_};function Hl(h,_,v){lr(h,_),0<v.length&&(h.i=null,h.g.set(Ni(h,_),B(v)),h.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var I=_[v];const Z=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var j=Z;ae[I]!==""&&(j+="="+encodeURIComponent(String(ae[I]))),h.push(j)}}return this.i=h.join("&")};function Ni(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function rh(h,_){_&&!h.j&&(Zn(h),h.i=null,h.g.forEach(function(v,I){var j=I.toLowerCase();I!=j&&(lr(this,I),Hl(this,j,v))},h)),h.j=_}function oa(h,_){const v=new qn;if(d.Image){const I=new Image;I.onload=R(Yn,v,"TestLoadImage: loaded",!0,_,I),I.onerror=R(Yn,v,"TestLoadImage: error",!1,_,I),I.onabort=R(Yn,v,"TestLoadImage: abort",!1,_,I),I.ontimeout=R(Yn,v,"TestLoadImage: timeout",!1,_,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else _(!1)}function ci(h,_){const v=new qn,I=new AbortController,j=setTimeout(()=>{I.abort(),Yn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:I.signal}).then(Z=>{clearTimeout(j),Z.ok?Yn(v,"TestPingServer: ok",!0,_):Yn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),Yn(v,"TestPingServer: error",!1,_)})}function Yn(h,_,v,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(v)}catch{}}function la(){this.g=new $s}function Oi(h,_,v){const I=v||"";try{jl(h,function(j,Z){let ae=j;m(j)&&(ae=oi(j)),_.push(I+Z+"="+encodeURIComponent(ae))})}catch(j){throw _.push(I+"type="+encodeURIComponent("_badmap")),j}}function Kr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Kr,kl),Kr.prototype.g=function(){return new ur(this.l,this.j)},Kr.prototype.i=function(h){return function(){return h}}({});function ur(h,_){yt.call(this),this.D=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ur,yt),n=ur.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=_,this.readyState=1,ki(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(_.body=h),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?xi(this):ki(this),this.readyState==3&&ql(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,xi(this))},n.Qa=function(h){this.g&&(this.response=h,xi(this))},n.ga=function(){this.g&&xi(this)};function xi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ki(h)}n.setRequestHeader=function(h,_){this.u.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=_.next();return h.join(`\r
`)};function ki(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gl(h){let _="";return ve(h,function(v,I){_+=I,_+=":",_+=v,_+=`\r
`}),_}function qt(h,_,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Gl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):et(h,_,v))}function Je(h){yt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Je,yt);var lo=/^https?$/i,ca=["POST","PUT"];n=Je.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,_,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ri.g(),this.v=this.o?Vl(this.o):Vl(Ri),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Z){sh(this,Z);return}if(h=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)v.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Z of I.keys())v.set(Z,I.get(Z));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),j=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ca,_,void 0))||I||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ae]of v)this.g.setRequestHeader(Z,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){sh(this,Z)}};function sh(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.m=5,co(h),Vi(h)}function co(h){h.A||(h.A=!0,Xe(h,"complete"),Xe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Xe(this,"complete"),Xe(this,"abort"),Vi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?uo(this):this.bb())},n.bb=function(){uo(this)};function uo(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Jn(h)!=4||h.Z()!=2)){if(h.u&&Jn(h)==4)cn(h.Ea,0,h);else if(Xe(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var I;if(I=ae===0){var j=String(h.D).match(ia)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),I=!lo.test(j?j.toLowerCase():"")}v=I}if(v)Xe(h,"complete"),Xe(h,"success");else{h.m=6;try{var Z=2<Jn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",co(h)}}finally{Vi(h)}}}}function Vi(h,_){if(h.g){ua(h);const v=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,_||Xe(h,"ready");try{v.onreadystatechange=I}catch{}}}function ua(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),eo(_)}};function ah(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Tp(h){const _={};h=(h.g&&2<=Jn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(J(h[I]))continue;var v=P(h[I]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=_[j]||[];_[j]=Z,Z.push(v)}M(_,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(h,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||_}function ho(h){this.Aa=0,this.i=[],this.j=new qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,h),this.cb=ha("retryDelaySeedMs",1e4,h),this.Wa=ha("forwardChannelMaxRetries",2,h),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new sr(h&&h.concurrentRequestLimit),this.Da=new la,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ho.prototype,n.la=8,n.G=1,n.connect=function(h,_,v,I){dt(0),this.W=h,this.H=_||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=fh(this,null,this.W),po(this)};function Zl(h){if(oh(h),h.G==3){var _=h.U++,v=Vn(h.I);if(et(v,"SID",h.K),et(v,"RID",_),et(v,"TYPE","terminate"),da(h,v),_=new yn(h,h.j,_),_.L=2,_.v=sa(Vn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=_.v,v=!0),v||(_.g=ph(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ta(_)}dh(h)}function fo(h){h.g&&(fa(h),h.g.cancel(),h.g=null)}function oh(h){fo(h),h.u&&(d.clearTimeout(h.u),h.u=null),mo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function po(h){if(!io(h.h)&&!h.s){h.s=!0;var _=h.Ga;le||k(),me||(le(),me=!0),Ze.add(_,h),h.B=0}}function Ep(h,_){return ro(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=_.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=At(b(h.Ga,h,_),Ql(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const j=new yn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=A(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(j.H=Z,Z=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=lh(this,j,_),v=Vn(this.I),et(v,"RID",h),et(v,"CVER",22),this.D&&et(v,"X-HTTP-Session-Id",this.D),da(this,v),Z&&(this.O?_="headers="+encodeURIComponent(String(Gl(Z)))+"&"+_:this.m&&qt(v,this.m,Z)),so(this.h,j),this.Ua&&et(v,"TYPE","init"),this.P?(et(v,"$req",_),et(v,"SID","null"),j.T=!0,li(j,v,null)):li(j,v,_),this.G=2}}else this.G==3&&(h?Yl(this,h):this.i.length==0||io(this.h)||Yl(this))};function Yl(h,_){var v;_?v=_.l:v=h.U++;const I=Vn(h.I);et(I,"SID",h.K),et(I,"RID",v),et(I,"AID",h.T),da(h,I),h.m&&h.o&&qt(I,h.m,h.o),v=new yn(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),_&&(h.i=_.D.concat(h.i)),_=lh(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),so(h.h,v),li(v,I,_)}function da(h,_){h.H&&ve(h.H,function(v,I){et(_,I,v)}),h.l&&jl({},function(v,I){et(_,I,v)})}function lh(h,_,v){v=Math.min(h.i.length,v);var I=h.l?b(h.l.Na,h.l,h):null;e:{var j=h.i;let Z=-1;for(;;){const ae=["count="+v];Z==-1?0<v?(Z=j[0].g,ae.push("ofs="+Z)):Z=0:ae.push("ofs="+Z);let je=!0;for(let Mt=0;Mt<v;Mt++){let Be=j[Mt].g;const Gt=j[Mt].map;if(Be-=Z,0>Be)Z=Math.max(0,j[Mt].g-100),je=!1;else try{Oi(Gt,ae,"req"+Be+"_")}catch{I&&I(Gt)}}if(je){I=ae.join("&");break e}}}return h=h.i.splice(0,v),_.D=h,I}function ch(h){if(!h.g&&!h.u){h.Y=1;var _=h.Fa;le||k(),me||(le(),me=!0),Ze.add(_,h),h.v=0}}function Jl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=At(b(h.Fa,h),Ql(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=At(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),fo(this),uh(this))};function fa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function uh(h){h.g=new yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var _=Vn(h.qa);et(_,"RID","rpc"),et(_,"SID",h.K),et(_,"AID",h.T),et(_,"CI",h.F?"0":"1"),!h.F&&h.ja&&et(_,"TO",h.ja),et(_,"TYPE","xmlhttp"),da(h,_),h.m&&h.o&&qt(_,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=sa(Vn(_)),v.m=null,v.P=!0,rr(v,h)}n.Za=function(){this.C!=null&&(this.C=null,fo(this),Jl(this),dt(19))};function mo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function hh(h,_){var v=null;if(h.g==_){mo(h),fa(h),h.g=null;var I=2}else if(Wl(h.h,_))v=_.D,vn(h.h,_),I=1;else return;if(h.G!=0){if(_.o)if(I==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var j=h.B;I=Gr(),Xe(I,new Dt(I,v)),po(h)}else ch(h);else if(j=_.s,j==3||j==0&&0<_.X||!(I==1&&Ep(h,_)||I==2&&Jl(h)))switch(v&&0<v.length&&(_=h.h,_.i=_.i.concat(v)),j){case 1:hr(h,5);break;case 4:hr(h,10);break;case 3:hr(h,6);break;default:hr(h,2)}}}function Ql(h,_){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*_}function hr(h,_){if(h.j.info("Error code "+_),_==2){var v=b(h.fb,h),I=h.Xa;const j=!I;I=new Ct(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ra(I,"https"),sa(I),j?oa(I.toString(),v):ci(I.toString(),v)}else dt(2);h.G=0,h.l&&h.l.sa(_),dh(h),oh(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function dh(h){if(h.G=0,h.ka=[],h.l){const _=Fl(h.h);(_.length!=0||h.i.length!=0)&&(W(h.ka,_),W(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function fh(h,_,v){var I=v instanceof Ct?Vn(v):new Ct(v);if(I.g!="")_&&(I.g=_+"."+I.g),Xr(I,I.s);else{var j=d.location;I=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;var Z=new Ct(null);I&&ra(Z,I),_&&(Z.g=_),j&&Xr(Z,j),v&&(Z.l=v),I=Z}return v=h.D,_=h.ya,v&&_&&et(I,v,_),et(I,"VER",h.la),da(h,I),I}function ph(h,_,v){if(_&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Ca&&!h.pa?new Je(new Kr({eb:v})):new Je(h.pa),_.Ha(h.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mh(){}n=mh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(h,_){return new Tn(h,_)};function Tn(h,_){yt.call(this),this.g=new ho(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(h?h["X-WebChannel-Client-Profile"]=_.va:h={"X-WebChannel-Client-Profile":_.va}),this.g.S=h,(h=_&&_.Sb)&&!J(h)&&(this.g.m=h),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!J(_)&&(this.g.D=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Di(this)}C(Tn,yt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Zl(this.g)},Tn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=oi(h),h=v);_.i.push(new nh(_.Ya++,h)),_.G==3&&po(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,Tn.aa.N.call(this)};function gh(h){nr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const v in _){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}C(gh,nr);function _h(){Ml.call(this),this.status=1}C(_h,Ml);function Di(h){this.g=h}C(Di,mh),Di.prototype.ua=function(){Xe(this.g,"a")},Di.prototype.ta=function(h){Xe(this.g,new gh(h))},Di.prototype.sa=function(h){Xe(this.g,new _h)},Di.prototype.ra=function(){Xe(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,YS=function(){return new go},ZS=function(){return Gr()},GS=Ii,h_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Ud=Jr,ir.COMPLETE="complete",qS=ir,Dl.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Zc=Dl,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,HS=Je}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const Ob="@firebase/firestore",xb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Ou("@firebase/firestore");function Go(){return La.logLevel}function he(n,...e){if(La.logLevel<=Ue.DEBUG){const t=e.map(dy);La.debug(`Firestore (${bl}): ${n}`,...t)}}function Ur(n,...e){if(La.logLevel<=Ue.ERROR){const t=e.map(dy);La.error(`Firestore (${bl}): ${n}`,...t)}}function sl(n,...e){if(La.logLevel<=Ue.WARN){const t=e.map(dy);La.warn(`Firestore (${bl}): ${n}`,...t)}}function dy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,JS(n,i,t)}function JS(n,e,t){let i=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ur(i),new Error(i)}function Qe(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||JS(e,a,i)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class mM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gM{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string",31837,{l:i}),new QS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class _M{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new _M(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const i=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=TM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function xe(n,e){return n<e?-1:n>e?1:0}function d_(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return xe(i,a);{const l=XS(),c=EM(l.encode(Vb(n,t)),l.encode(Vb(e,t)));return c!==0?c:xe(i,a)}}t+=i>65535?2:1}return xe(n.length,e.length)}function Vb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function EM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return xe(n[t],e[t]);return xe(n.length,e.length)}function al(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=-62135596800,Mb=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Mb);return new Bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Db)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mb}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Db;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Bt(0,0))}static max(){return new Ae(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__name__";class ji{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ji.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return xe(e.length,t.length)}static compareSegments(e,t){const i=ji.isNumericId(e),a=ji.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ji.extractNumericId(e).compare(ji.extractNumericId(t)):d_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class pt extends ji{construct(e,t,i){return new pt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ji{construct(e,t,i){return new on(e,t,i)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pb}static keyField(){return new on([Pb])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(pt.fromString(e))}static fromName(e){return new _e(pt.fromString(e).popFirst(5))}static empty(){return new _e(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function wM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(i===1e9?new Bt(t+1,0):new Bt(t,i));return new Vs(a,_e.empty(),e)}function SM(n){return new Vs(n.readTime,n.key,fu)}class Vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Vs(Ae.min(),_e.empty(),fu)}static max(){return new Vs(Ae.max(),_e.empty(),fu)}}function IM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==RM)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,i)=>{t(e)})}static reject(e){return new ee((t,i)=>{i(e)})}static waitFor(e){return new ee((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next(a=>a?ee.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ee((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(y=>{c[m]=y,++d,d===l&&i(c)},y=>a(y))}})}static doWhile(e,t){return new ee((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function CM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}jf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=-1;function Bf(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function NM(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="";function OM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ub(e)),e=xM(n.get(t),e);return Ub(e)}function xM(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case $S:t+="";break;default:t+=l}}return t}function Ub(n){return n+$S+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Za(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vt=class f_{constructor(e,t){this.comparator=e,this.root=t||Ns.EMPTY}insert(e,t){return new f_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ns.BLACK,null,null))}remove(e){return new f_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ns.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}},bd=class{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ns=class Rr{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Rr.RED,this.left=a??Rr.EMPTY,this.right=l??Rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Rr(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Rr.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}};Ns.EMPTY=null,Ns.RED=!0,Ns.BLACK=!1;Ns.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Ns(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wb(this.data.getIterator())}getIteratorFrom(e){return new Wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class Wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new gi([])}unionWith(e){let t=new zt(on.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new gi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new tI("Invalid base64 string: "+l):l}}(e);return new ln(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const kM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=kM.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ms(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="server_timestamp",iI="__type__",rI="__previous_value__",sI="__local_write_time__";function py(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[iI])===null||t===void 0?void 0:t.stringValue)===nI}function zf(n){const e=n.mapValue.fields[rI];return py(e)?zf(e):e}function pu(n){const e=Ds(n.mapValue.fields[sI].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t,i,a,l,c,d,p,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const rf="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="__type__",DM="__max__",wd={mapValue:{}},oI="__vector__",sf="value";function Ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?py(n)?4:PM(n)?9007199254740991:MM(n)?10:11:we(28295,{value:n})}function Yi(n,e){if(n===e)return!0;const t=Ps(n);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pu(n).isEqual(pu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ds(a.timestampValue),d=Ds(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ms(a.bytesValue).isEqual(Ms(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),d=Rt(l.doubleValue);return c===d?nf(c)===nf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return al(n.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Lb(c)!==Lb(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Yi(c[p],d[p])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function gu(n,e){return(n.values||[]).find(t=>Yi(t,e))!==void 0}function ol(n,e){if(n===e)return 0;const t=Ps(n),i=Ps(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Rt(l.integerValue||l.doubleValue),p=Rt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Fb(n.timestampValue,e.timestampValue);case 4:return Fb(pu(n),pu(e));case 5:return d_(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ms(l),p=Ms(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=xe(d[m],p[m]);if(y!==0)return y}return xe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=xe(Rt(l.latitude),Rt(c.latitude));return d!==0?d:xe(Rt(l.longitude),Rt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,m,y;const T=l.fields||{},b=c.fields||{},R=(d=T[sf])===null||d===void 0?void 0:d.arrayValue,C=(p=b[sf])===null||p===void 0?void 0:p.arrayValue,B=xe(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return B!==0?B:jb(R,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===wd.mapValue&&c===wd.mapValue)return 0;if(l===wd.mapValue)return 1;if(c===wd.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let T=0;T<p.length&&T<y.length;++T){const b=d_(p[T],y[T]);if(b!==0)return b;const R=ol(d[p[T]],m[y[T]]);if(R!==0)return R}return xe(p.length,y.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function Fb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=Ds(n),i=Ds(e),a=xe(t.seconds,i.seconds);return a!==0?a:xe(t.nanos,i.nanos)}function jb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=ol(t[a],i[a]);if(l)return l}return xe(t.length,i.length)}function ll(n){return p_(n)}function p_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ds(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ms(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=p_(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${p_(t.fields[c])}`;return a+"}"}(n.mapValue):we(61005,{value:n})}function Ld(n){switch(Ps(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(n);return e?16+Ld(e):16;case 5:return 2*n.stringValue.length;case 6:return Ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Ld(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Za(i.fields,(l,c)=>{a+=l.length+Ld(c)}),a}(n.mapValue);default:throw we(13486,{value:n})}}function m_(n){return!!n&&"integerValue"in n}function my(n){return!!n&&"arrayValue"in n}function Bb(n){return!!n&&"nullValue"in n}function zb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wd(n){return!!n&&"mapValue"in n}function MM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[aI])===null||t===void 0?void 0:t.stringValue)===oI}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Za(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$c(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=on.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=$c(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Wd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Za(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new ii($c(this.value))}}function lI(n){const e=[];return Za(n.fields,(t,i)=>{const a=new on([t]);if(Wd(i)){const l=lI(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new gi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new pn(e,0,Ae.min(),Ae.min(),Ae.min(),ii.empty(),0)}static newFoundDocument(e,t,i,a){return new pn(e,1,t,Ae.min(),i,a,0)}static newNoDocument(e,t){return new pn(e,2,t,Ae.min(),Ae.min(),ii.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Ae.min(),Ae.min(),ii.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.position=e,this.inclusive=t}}function Hb(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=ol(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function qb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t="asc"){this.field=e,this.dir=t}}function UM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{}class Ft extends cI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new WM(e,t,i):t==="array-contains"?new BM(e,i):t==="in"?new zM(e,i):t==="not-in"?new HM(e,i):t==="array-contains-any"?new qM(e,i):new Ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new FM(e,i):new jM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ol(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends cI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ji(e,t)}matches(e){return uI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uI(n){return n.op==="and"}function hI(n){return LM(n)&&uI(n)}function LM(n){for(const e of n.filters)if(e instanceof Ji)return!1;return!0}function g_(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+ll(n.value);if(hI(n))return n.filters.map(e=>g_(e)).join(",");{const e=n.filters.map(t=>g_(t)).join(",");return`${n.op}(${e})`}}function dI(n,e){return n instanceof Ft?function(i,a){return a instanceof Ft&&i.op===a.op&&i.field.isEqual(a.field)&&Yi(i.value,a.value)}(n,e):n instanceof Ji?function(i,a){return a instanceof Ji&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&dI(c,a.filters[d]),!0):!1}(n,e):void we(19439)}function fI(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${ll(t.value)}`}(n):n instanceof Ji?function(t){return t.op.toString()+" {"+t.getFilters().map(fI).join(" ,")+"}"}(n):"Filter"}class WM extends Ft{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class FM extends Ft{constructor(e,t){super(e,"in",t),this.keys=pI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jM extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=pI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class BM extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return my(t)&&gu(t.arrayValue,this.value)}}class zM extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class HM extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class qM extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!my(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function Gb(n,e=null,t=[],i=[],a=null,l=null,c=null){return new GM(n,e,t,i,a,l,c)}function gy(n){const e=Ce(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>g_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ll(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ll(i)).join(",")),e.Ie=t}return e.Ie}function _y(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qb(n.startAt,e.startAt)&&qb(n.endAt,e.endAt)}function __(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ZM(n,e,t,i,a,l,c,d){return new Hf(n,e,t,i,a,l,c,d)}function yy(n){return new Hf(n)}function Zb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YM(n){return n.collectionGroup!==null}function eu(n){const e=Ce(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new zt(on.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new of(l,i))}),t.has(on.keyField().canonicalString())||e.Ee.push(new of(on.keyField(),i))}return e.Ee}function qi(n){const e=Ce(n);return e.de||(e.de=JM(e,eu(n))),e.de}function JM(n,e){if(n.limitType==="F")return Gb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new of(a.field,l)});const t=n.endAt?new af(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new af(n.startAt.position,n.startAt.inclusive):null;return Gb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function y_(n,e,t){return new Hf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qf(n,e){return _y(qi(n),qi(e))&&n.limitType===e.limitType}function mI(n){return`${gy(qi(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>fI(a)).join(", ")}]`),Bf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>ll(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>ll(a)).join(",")),`Target(${i})`}(qi(n))}; limitType=${n.limitType})`}function Gf(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of eu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const m=Hb(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,eu(i),a)||i.endAt&&!function(c,d,p){const m=Hb(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,eu(i),a))}(n,e)}function QM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gI(n){return(e,t)=>{let i=!1;for(const a of eu(n)){const l=XM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function XM(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?ol(p,m):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return eI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Vt(_e.comparator);function Lr(){return KM}const _I=new Vt(_e.comparator);function Yc(...n){let e=_I;for(const t of n)e=e.insert(t.key,t);return e}function yI(n){let e=_I;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function xa(){return tu()}function vI(){return tu()}function tu(){return new Ya(n=>n.toString(),(n,e)=>n.isEqual(e))}const $M=new Vt(_e.comparator),eP=new zt(_e.comparator);function Fe(...n){let e=eP;for(const t of n)e=e.add(t);return e}const tP=new zt(xe);function nP(){return tP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function TI(n){return{integerValue:""+n}}function iP(n,e){return NM(e)?TI(e):vy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function rP(n,e,t){return n instanceof lf?function(a,l){const c={fields:{[iI]:{stringValue:nI},[sI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&py(l)&&(l=zf(l)),l&&(c.fields[rI]=l),{mapValue:c}}(t,e):n instanceof _u?bI(n,e):n instanceof yu?wI(n,e):function(a,l){const c=EI(a,l),d=Yb(c)+Yb(a.Re);return m_(c)&&m_(a.Re)?TI(d):vy(a.serializer,d)}(n,e)}function sP(n,e,t){return n instanceof _u?bI(n,e):n instanceof yu?wI(n,e):t}function EI(n,e){return n instanceof cf?function(i){return m_(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class lf extends Zf{}class _u extends Zf{constructor(e){super(),this.elements=e}}function bI(n,e){const t=SI(e);for(const i of n.elements)t.some(a=>Yi(a,i))||t.push(i);return{arrayValue:{values:t}}}class yu extends Zf{constructor(e){super(),this.elements=e}}function wI(n,e){let t=SI(e);for(const i of n.elements)t=t.filter(a=>!Yi(a,i));return{arrayValue:{values:t}}}class cf extends Zf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Yb(n){return Rt(n.integerValue||n.doubleValue)}function SI(n){return my(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function aP(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof _u&&a instanceof _u||i instanceof yu&&a instanceof yu?al(i.elements,a.elements,Yi):i instanceof cf&&a instanceof cf?Yi(i.Re,a.Re):i instanceof lf&&a instanceof lf}(n.transform,e.transform)}class oP{constructor(e,t){this.version=e,this.transformResults=t}}class Gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yf{}function II(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new AI(n.key,Gi.none()):new Pu(n.key,n.data,Gi.none());{const t=n.data,i=ii.empty();let a=new zt(on.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ja(n.key,i,new gi(a.toArray()),Gi.none())}}function lP(n,e,t){n instanceof Pu?function(a,l,c){const d=a.value.clone(),p=Qb(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ja?function(a,l,c){if(!Fd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Qb(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(RI(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function nu(n,e,t,i){return n instanceof Pu?function(l,c,d,p){if(!Fd(l.precondition,c))return d;const m=l.value.clone(),y=Xb(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ja?function(l,c,d,p){if(!Fd(l.precondition,c))return d;const m=Xb(l.fieldTransforms,p,c),y=c.data;return y.setAll(RI(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return Fd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function cP(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=EI(i.transform,a||null);l!=null&&(t===null&&(t=ii.empty()),t.set(i.field,l))}return t||null}function Jb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&al(i,a,(l,c)=>aP(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pu extends Yf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ja extends Yf{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function RI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Qb(n,e,t){const i=new Map;Qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,sP(c,d,t[a]))}return i}function Xb(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,rP(l,c,e))}return i}class AI extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uP extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&lP(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=nu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=nu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=vI();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=II(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(t,i)=>Jb(t,i))&&al(this.baseMutations,e.baseMutations,(t,i)=>Jb(t,i))}}class Ty{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Qe(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return $M}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Ty(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,He;function pP(n){switch(n){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function CI(n){if(n===void 0)return Ur("GRPC error has no .code"),ie.UNKNOWN;switch(n){case kt.OK:return ie.OK;case kt.CANCELLED:return ie.CANCELLED;case kt.UNKNOWN:return ie.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ie.INTERNAL;case kt.UNAVAILABLE:return ie.UNAVAILABLE;case kt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case kt.NOT_FOUND:return ie.NOT_FOUND;case kt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case kt.ABORTED:return ie.ABORTED;case kt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case kt.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:n})}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Cs([4294967295,4294967295],0);function Kb(n){const e=XS().encode(n),t=new zS;return t.update(e),new Uint8Array(t.digest())}function $b(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Cs([t,i],0),new Cs([a,l],0)]}class Ey{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Jc(`Invalid padding: ${t}`);if(i<0)throw new Jc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Cs.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Cs.fromNumber(i)));return a.compare(mP)===1&&(a=new Cs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Kb(e),[i,a]=$b(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ey(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=Kb(e),[i,a]=$b(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Jf(Ae.min(),a,new Vt(xe),Lr(),Fe())}}class Uu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Uu(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class NI{constructor(e,t){this.targetId=e,this.Ce=t}}class OI{constructor(e,t,i=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class ew{constructor(){this.Fe=0,this.Me=tw(),this.xe=ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Fe(),t=Fe(),i=Fe();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we(38017,{changeType:l})}}),new Uu(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=tw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class gP{constructor(e){this.ze=e,this.je=new Map,this.He=Lr(),this.Je=Sd(),this.Ye=Sd(),this.Ze=new Vt(xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(__(l))if(i===0){const c=new _e(l.path);this.tt(t,c,pn.newNoDocument(c,Ae.min()))}else Qe(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ms(i).toUint8Array()}catch(p){if(p instanceof tI)return sl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ey(c,a,l)}catch(p){return sl(p instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&__(d.target)){const p=new _e(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,pn.newNoDocument(p,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=Fe();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Jf(e,t,this.Ze,this.He,i);return this.He=Lr(),this.Je=Sd(),this.Ye=Sd(),this.Ze=new Vt(xe),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ew,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new zt(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new zt(xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ew),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Sd(){return new Vt(_e.comparator)}function tw(){return new Vt(_e.comparator)}const _P={asc:"ASCENDING",desc:"DESCENDING"},yP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vP={and:"AND",or:"OR"};class TP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function v_(n,e){return n.useProto3Json||Bf(e)?e:{value:e}}function uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EP(n,e){return uf(n,e.toTimestamp())}function Zi(n){return Qe(!!n,49232),Ae.fromTimestamp(function(t){const i=Ds(t);return new Bt(i.seconds,i.nanos)}(n))}function by(n,e){return T_(n,e).canonicalString()}function T_(n,e){const t=function(a){return new pt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kI(n){const e=pt.fromString(n);return Qe(UI(e),10190,{key:e.toString()}),e}function E_(n,e){return by(n.databaseId,e.path)}function xg(n,e){const t=kI(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(DI(t))}function VI(n,e){return by(n.databaseId,e)}function bP(n){const e=kI(n);return e.length===4?pt.emptyPath():DI(e)}function b_(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DI(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function nw(n,e,t){return{name:E_(n,e),fields:t.value.mapValue.fields}}function wP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:we(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(Qe(y===void 0||typeof y=="string",58123),ln.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ln.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const y=m.code===void 0?ie.UNKNOWN:CI(m.code);return new pe(y,m.message||"")}(c);t=new OI(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=xg(n,i.document.name),l=Zi(i.document.updateTime),c=i.document.createTime?Zi(i.document.createTime):Ae.min(),d=new ii({mapValue:{fields:i.document.fields}}),p=pn.newFoundDocument(a,l,c,d),m=i.targetIds||[],y=i.removedTargetIds||[];t=new jd(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=xg(n,i.document),l=i.readTime?Zi(i.readTime):Ae.min(),c=pn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new jd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=xg(n,i.document),l=i.removedTargetIds||[];t=new jd([],l,a,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new fP(a,l),d=i.targetId;t=new NI(d,c)}}return t}function SP(n,e){let t;if(e instanceof Pu)t={update:nw(n,e.key,e.value)};else if(e instanceof AI)t={delete:E_(n,e.key)};else if(e instanceof Ja)t={update:nw(n,e.key,e.data),updateMask:VP(e.fieldMask)};else{if(!(e instanceof uP))return we(16599,{ft:e.type});t={verify:E_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof _u)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cf)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw we(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:EP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(n,e.precondition)),t}function IP(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Zi(a.updateTime):Zi(l);return c.isEqual(Ae.min())&&(c=Zi(l)),new oP(c,a.transformResults||[])}(t,e))):[]}function RP(n,e){return{documents:[VI(n,e.path)]}}function AP(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=VI(n,a);const l=function(m){if(m.length!==0)return PI(Ji.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:Yo(b.field),direction:OP(b.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=v_(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:a}}function CP(n){let e=bP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Qe(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(T){const b=MI(T);return b instanceof Ji&&hI(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(C){return new of(Jo(C.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,Bf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(T){const b=!!T.before,R=T.values||[];return new af(R,b)}(t.startAt));let m=null;return t.endAt&&(m=function(T){const b=!T.before,R=T.values||[];return new af(R,b)}(t.endAt)),ZM(e,a,c,l,d,"F",p,m)}function NP(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function MI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jo(t.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Jo(t.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Jo(t.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Jo(t.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(Jo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ji.create(t.compositeFilter.filters.map(i=>MI(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function OP(n){return _P[n]}function xP(n){return yP[n]}function kP(n){return vP[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function Jo(n){return on.fromServerFormat(n.fieldPath)}function PI(n){return n instanceof Ft?function(t){if(t.op==="=="){if(zb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(Bb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(Bb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:xP(t.op),value:t.value}}}(n):n instanceof Ji?function(t){const i=t.getFilters().map(a=>PI(a));return i.length===1?i[0]:{compositeFilter:{op:kP(t.op),filters:i}}}(n):we(54877,{filter:n})}function VP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,i,a,l=Ae.min(),c=Ae.min(),d=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.wt=e}}function MP(n){const e=CP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?y_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.Cn=new UP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Vs.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class UP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new zt(pt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LI=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(LI,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new cl(0)}static lr(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="LruGarbageCollector",LP=1048576;function sw([n,e],[t,i]){const a=xe(n,t);return a===0?xe(e,i):a}class WP{constructor(e){this.Er=e,this.buffer=new zt(sw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();sw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(rw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sl(t)?he(rw,"Ignoring IndexedDB error during garbage collection: ",t):await wl(t)}await this.mr(3e5)})}}class jP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(jf.le);const i=new WP(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(iw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,d,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(m=Date.now(),Go()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function BP(n,e){return new jP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.changes=new Ya(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&nu(i.mutation,a,gi.empty(),Bt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Fe()){const a=xa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Yc();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Fe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Lr();const c=tu(),d=function(){return tu()}();return t.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Ja)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),nu(y.mutation,m,y.mutation.getFieldMask(),Bt.now())):c.set(m.key,gi.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),t.forEach((m,y)=>{var T;return d.set(m,new HP(y,(T=c.get(m))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=tu();let a=new Vt((c,d)=>c-d),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=i.get(p)||gi.empty();y=d.applyToLocalView(m,y),i.set(p,y);const T=(a.get(d.batchId)||Fe()).add(p);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,T=vI();y.forEach(b=>{if(!l.has(b)){const R=II(t.get(b),i.get(b));R!==null&&T.set(b,R),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,T))}return ee.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ee.resolve(xa());let d=fu,p=l;return c.next(m=>ee.forEach(m,(y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{p=p.insert(y,b)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Fe())).next(y=>({batchId:d,changes:yI(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let a=Yc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Yc();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const m=function(T,b){return new Hf(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,pn.newInvalidDocument(y)))});let d=Yc();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&nu(y.mutation,m,gi.empty(),Bt.now()),Gf(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ee.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:MP(a.bundledQuery),readTime:Zi(a.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.overlays=new Vt(_e.comparator),this.Qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xa();return ee.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const a=xa(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ee.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Vt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=xa(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=xa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=a)););return ee.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new dP(t,i));let l=this.Qr.get(t);l===void 0&&(l=Fe(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.$r=new zt(Xt.Ur),this.Kr=new zt(Xt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Xt(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new _e(new pt([])),i=new Xt(t,e),a=new Xt(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new _e(new pt([])),i=new Xt(t,e),a=new Xt(t,e+1);let l=Fe();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Xt(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return _e.comparator(e.key,t.key)||xe(e.Zr,t.Zr)}static Wr(e,t){return xe(e.Zr,t.Zr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new zt(Xt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new hP(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Xt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?fy:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const d=this.ei(c.Zr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zt(xe);return t.forEach(a=>{const l=new Xt(a,0),c=new Xt(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],d=>{i=i.add(d.Zr)})}),ee.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new Xt(new _e(l),0);let d=new zt(xe);return this.Xr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Zr)),!0)},c),ee.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Qe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ee.forEach(t.mutations,a=>{const l=new Xt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Xt(t,0),a=this.Xr.firstAfterOrEqual(i);return ee.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.ii=e,this.docs=function(){return new Vt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let i=Lr();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))}),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Lr();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||IM(SM(y),i)<=0||(a.has(y.key)||Gf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we(9500)}si(e,t){return ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new XP(this)}getSize(e){return ee.resolve(this.size)}}class XP extends zP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),ee.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.persistence=e,this.oi=new Ya(t=>gy(t),_y),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new wy,this.targetCount=0,this.ui=cl.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),ee.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new cl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Tr(t),ee.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ee.waitFor(l).next(()=>a)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.ci={},this.overlays={},this.li=new jf(0),this.hi=!1,this.hi=!0,this.Pi=new YP,this.referenceDelegate=e(this),this.Ti=new KP(this),this.indexManager=new PP,this.remoteDocumentCache=function(a){return new QP(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new DP(t),this.Ei=new GP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new JP(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const a=new $P(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return ee.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class $P extends AM{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Vi=new wy,this.mi=null}static fi(e){return new Sy(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,i=>{const a=_e.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Ae.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ee.or([()=>ee.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class hf{constructor(e,t){this.persistence=e,this.yi=new Ya(i=>OM(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=BP(this,t)}static fi(e,t){return new hf(e,t)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return ee.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?ee.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ae.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ee.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ld(e.data.value)),t}Dr(e,t,i){return ee.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return ee.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Iy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return bx()?8:CM(_n())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new e5;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(Go()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Go()<=Ue.DEBUG&&he("QueryEngine","Query:",Zo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(Go()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(t))):ee.resolve())}ws(e,t){if(Zb(t))return ee.resolve(null);let i=qi(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=y_(t,null,"F"),i=qi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Fe(...l);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.vs(t,d);return this.Cs(t,m,c,p.readTime)?this.ws(e,y_(t,null,"F")):this.Fs(e,m,t,p)}))})))}bs(e,t,i,a){return Zb(t)||a.isEqual(Ae.min())?ee.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?ee.resolve(null):(Go()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zo(t)),this.Fs(e,c,t,wM(a,fu)).next(d=>d))})}vs(e,t){let i=new zt(gI(e));return t.forEach((a,l)=>{Gf(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Go()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.ys.getDocumentsMatchingQuery(e,t,Vs.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="LocalStore",n5=3e8;class i5{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Vt(xe),this.Os=new Ya(l=>gy(l),_y),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function r5(n,e,t,i){return new i5(n,e,t,i)}async function FI(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Fe();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(i,p).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:d}))})})}function s5(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,m,y){const T=m.batch,b=T.keys();let R=ee.resolve();return b.forEach(C=>{R=R.next(()=>y.getEntry(p,C)).next(B=>{const W=m.docVersions.get(C);Qe(W!==null,48541),B.version.compareTo(W)<0&&(T.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),y.addEntry(B)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Fe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function jI(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function a5(n,e){const t=Ce(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((y,T)=>{const b=a.get(T);if(!b)return;d.push(t.Ti.removeMatchingKeys(l,y.removedDocuments,T).next(()=>t.Ti.addMatchingKeys(l,y.addedDocuments,T)));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(ln.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,i)),a=a.insert(T,R),function(B,W,Y){return B.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=n5?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,R,y)&&d.push(t.Ti.updateTargetData(l,R))});let p=Lr(),m=Fe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(o5(l,c,e.documentUpdates).next(y=>{p=y.qs,m=y.Qs})),!i.isEqual(Ae.min())){const y=t.Ti.getLastRemoteSnapshotVersion(l).next(T=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(y)}return ee.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.xs=a,l))}function o5(n,e,t){let i=Fe(),a=Fe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Lr();return t.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):he(Ry,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{qs:c,Qs:a}})}function l5(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=fy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function c5(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,ee.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new Is(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function w_(n,e,t){const i=Ce(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Sl(c))throw c;he(Ry,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function aw(n,e,t){const i=Ce(n);let a=Ae.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const T=Ce(p),b=T.Os.get(y);return b!==void 0?ee.resolve(T.xs.get(b)):T.Ti.getTargetData(m,y)}(i,c,qi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:Ae.min(),t?l:Fe())).next(d=>(u5(i,QM(e),d),{documents:d,$s:l})))}function u5(n,e,t){let i=n.Ns.get(e)||Ae.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class ow{constructor(){this.activeTargetIds=nP()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h5{constructor(){this.xo=new ow,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ow,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="ConnectivityMonitor";class cw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(lw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(lw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=null;function S_(){return Id===null?Id=function(){return 268435456+Math.round(2147483648*Math.random())}():Id++,"0x"+Id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="RestConnection",f5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p5{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===rf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=S_(),d=this.jo(e,t.toUriEncodedString());he(kg,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,l);const{host:m}=new URL(d),y=Fr(m);return this.Jo(e,d,p,i,y).then(T=>(he(kg,`Received RPC '${e}' ${c}: `,T),T),T=>{throw sl(kg,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=f5[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class g5 extends p5{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=S_();return new Promise((d,p)=>{const m=new HS;m.setWithCredentials(!0),m.listenOnce(qS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ud.NO_ERROR:const T=m.getResponseJson();he(dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Ud.TIMEOUT:he(dn,`RPC '${e}' ${c} timed out`),p(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const b=m.getStatus();if(he(dn,`RPC '${e}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const B=function(Y){const J=Y.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(J)>=0?J:ie.UNKNOWN}(C.status);p(new pe(B,C.message))}else p(new pe(ie.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{h_:e,streamId:c,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{he(dn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);he(dn,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",y,i,15)})}I_(e,t,i){const a=S_(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=YS(),d=ZS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=l.join("");he(dn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const T=c.createWebChannel(y,p);this.E_(T);let b=!1,R=!1;const C=new m5({Zo:W=>{R?he(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,W):(b||(he(dn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),he(dn,`RPC '${e}' stream ${a} sending:`,W),T.send(W))},Xo:()=>T.close()}),B=(W,Y,J)=>{W.listen(Y,te=>{try{J(te)}catch(re){setTimeout(()=>{throw re},0)}})};return B(T,Zc.EventType.OPEN,()=>{R||(he(dn,`RPC '${e}' stream ${a} transport opened.`),C.__())}),B(T,Zc.EventType.CLOSE,()=>{R||(R=!0,he(dn,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(T))}),B(T,Zc.EventType.ERROR,W=>{R||(R=!0,sl(dn,`RPC '${e}' stream ${a} transport errored. Name:`,W.name,"Message:",W.message),C.u_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))}),B(T,Zc.EventType.MESSAGE,W=>{var Y;if(!R){const J=W.data[0];Qe(!!J,16349);const te=J,re=(te==null?void 0:te.error)||((Y=te[0])===null||Y===void 0?void 0:Y.error);if(re){he(dn,`RPC '${e}' stream ${a} received error:`,re);const ue=re.status;let ve=function(N){const V=kt[N];if(V!==void 0)return CI(V)}(ue),M=re.message;ve===void 0&&(ve=ie.INTERNAL,M="Unknown error status: "+ue+" with message "+re.message),R=!0,C.u_(new pe(ve,M)),T.close()}else he(dn,`RPC '${e}' stream ${a} received:`,J),C.c_(J)}}),B(d,GS.STAT_EVENT,W=>{W.stat===h_.PROXY?he(dn,`RPC '${e}' stream ${a} detected buffering proxy`):W.stat===h_.NOPROXY&&he(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Vg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n){return new TP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="PersistentStream";class zI{constructor(e,t,i,a,l,c,d,p){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new BI(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new pe(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return he(uw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(he(uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _5 extends zI{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=wP(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Zi(c.readTime):Ae.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=b_(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=__(p)?{documents:RP(l,p)}:{query:AP(l,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xI(l,c.resumeToken);const m=v_(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=uf(l,c.snapshotVersion.toTimestamp());const m=v_(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=NP(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=b_(this.serializer),t.removeTarget=e,this.Q_(t)}}class y5 extends zI{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=IP(e.writeResults,e.commitTime),i=Zi(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=b_(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>SP(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{}class T5 extends v5{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,T_(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ie.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,T_(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ie.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class E5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ur(t),this.ua=!1):he("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class b5{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Qa(this)&&(he(Wa,"Restarting streams for network reachability change."),await async function(p){const m=Ce(p);m.da.add(4),await Lu(m),m.Va.set("Unknown"),m.da.delete(4),await Xf(m)}(this))})}),this.Va=new E5(i,a)}}async function Xf(n){if(Qa(n))for(const e of n.Aa)await e(!0)}async function Lu(n){for(const e of n.Aa)await e(!1)}function HI(n,e){const t=Ce(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Oy(t)?Ny(t):Il(t).N_()&&Cy(t,e))}function Ay(n,e){const t=Ce(n),i=Il(t);t.Ea.delete(e),i.N_()&&qI(t,e),t.Ea.size===0&&(i.N_()?i.k_():Qa(t)&&t.Va.set("Unknown"))}function Cy(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Il(n).Z_(e)}function qI(n,e){n.ma.Ke(e),Il(n).X_(e)}function Ny(n){n.ma=new gP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Il(n).start(),n.Va.ca()}function Oy(n){return Qa(n)&&!Il(n).O_()&&n.Ea.size>0}function Qa(n){return Ce(n).da.size===0}function GI(n){n.ma=void 0}async function w5(n){n.Va.set("Online")}async function S5(n){n.Ea.forEach((e,t)=>{Cy(n,e)})}async function I5(n,e){GI(n),Oy(n)?(n.Va.Pa(e),Ny(n)):n.Va.set("Unknown")}async function R5(n,e,t){if(n.Va.set("Online"),e instanceof OI&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ea.delete(d),a.ma.removeTarget(d))}(n,e)}catch(i){he(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await df(n,i)}else if(e instanceof jd?n.ma.Xe(e):e instanceof NI?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Ae.min()))try{const i=await jI(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.ma.It(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ea.get(m);y&&l.Ea.set(m,y.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const y=l.Ea.get(p);if(!y)return;l.Ea.set(p,y.withResumeToken(ln.EMPTY_BYTE_STRING,y.snapshotVersion)),qI(l,p);const T=new Is(y.target,p,m,y.sequenceNumber);Cy(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){he(Wa,"Failed to raise snapshot:",i),await df(n,i)}}async function df(n,e,t){if(!Sl(e))throw e;n.da.add(1),await Lu(n),n.Va.set("Offline"),t||(t=()=>jI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(Wa,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Xf(n)})}function ZI(n,e){return e().catch(t=>df(n,t,e))}async function Kf(n){const e=Ce(n),t=Us(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:fy;for(;A5(e);)try{const a=await l5(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,C5(e,a)}catch(a){await df(e,a)}YI(e)&&JI(e)}function A5(n){return Qa(n)&&n.Ia.length<10}function C5(n,e){n.Ia.push(e);const t=Us(n);t.N_()&&t.ea&&t.ta(e.mutations)}function YI(n){return Qa(n)&&!Us(n).O_()&&n.Ia.length>0}function JI(n){Us(n).start()}async function N5(n){Us(n).ia()}async function O5(n){const e=Us(n);for(const t of n.Ia)e.ta(t.mutations)}async function x5(n,e,t){const i=n.Ia.shift(),a=Ty.from(i,e,t);await ZI(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Kf(n)}async function k5(n,e){e&&Us(n).ea&&await async function(i,a){if(function(c){return pP(c)&&c!==ie.ABORTED}(a.code)){const l=i.Ia.shift();Us(i).L_(),await ZI(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Kf(i)}}(n,e),YI(n)&&JI(n)}async function hw(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),he(Wa,"RemoteStore received new credentials");const i=Qa(t);t.da.add(3),await Lu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Xf(t)}async function V5(n,e){const t=Ce(n);e?(t.da.delete(2),await Xf(t)):e||(t.da.add(2),await Lu(t),t.Va.set("Unknown"))}function Il(n){return n.fa||(n.fa=function(t,i,a){const l=Ce(t);return l.oa(),new _5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:w5.bind(null,n),n_:S5.bind(null,n),i_:I5.bind(null,n),Y_:R5.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Oy(n)?Ny(n):n.Va.set("Unknown")):(await n.fa.stop(),GI(n))})),n.fa}function Us(n){return n.ga||(n.ga=function(t,i,a){const l=Ce(t);return l.oa(),new y5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:N5.bind(null,n),i_:k5.bind(null,n),na:O5.bind(null,n),ra:x5.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Kf(n)):(await n.ga.stop(),n.Ia.length>0&&(he(Wa,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new xy(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Sl(n))return new pe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Yc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new tl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.pa=new Vt(_e.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class ul{constructor(e,t,i,a,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ul(e,t,tl.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class M5{constructor(){this.queries=fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ce(t),l=a.queries;a.queries=fw(),l.forEach((c,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function fw(){return new Ya(n=>mI(n),qf)}async function QI(n,e){const t=Ce(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new D5,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=ky(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Vy(t)}async function XI(n,e){const t=Ce(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function P5(n,e){const t=Ce(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Ma(a)&&(i=!0);c.ba=a}}i&&Vy(t)}function U5(n,e,t){const i=Ce(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Vy(n){n.Ca.forEach(e=>{e.next()})}var I_,pw;(pw=I_||(I_={})).xa="default",pw.Cache="cache";class KI{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ul(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==I_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.key=e}}class eR{constructor(e){this.key=e}}class L5{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.Za=gI(e),this.Xa=new tl(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new dw,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,T)=>{const b=a.get(y),R=Gf(this.query,T)?T:null,C=!!b&&this.mutatedKeys.has(b.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let W=!1;b&&R?b.data.isEqual(R.data)?C!==B&&(i.track({type:3,doc:R}),W=!0):this.ru(b,R)||(i.track({type:2,doc:R}),W=!0,(p&&this.Za(R,p)>0||m&&this.Za(R,m)<0)&&(d=!0)):!b&&R?(i.track({type:0,doc:R}),W=!0):b&&!R&&(i.track({type:1,doc:b}),W=!0,(p||m)&&(d=!0)),W&&(R?(c=c.add(R),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Xa:c,nu:i,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,T)=>function(R,C){const B=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:W})}};return B(R)-B(C)}(y.type,T.type)||this.Za(y.doc,T.doc)),this.iu(i),a=a!=null&&a;const d=t&&!a?this.su():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Ja;return this.Ja=p,c.length!==0||m?{snapshot:new ul(this.query,e.Xa,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new dw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new eR(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new $I(i))}),t}au(e){this.Ha=e.$s,this.Ya=Fe();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ul.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dy="SyncEngine";class W5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class F5{constructor(e){this.key=e,this.cu=!1}}class j5{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ya(d=>mI(d),qf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Vt(_e.comparator),this.Eu=new Map,this.du=new wy,this.Au={},this.Ru=new Map,this.Vu=cl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function B5(n,e,t=!0){const i=aR(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await tR(i,e,t,!0),a}async function z5(n,e){const t=aR(n);await tR(t,e,!0,!1)}async function tR(n,e,t,i){const a=await c5(n.localStore,qi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await H5(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&HI(n.remoteStore,a),d}async function H5(n,e,t,i,a){n.fu=(T,b,R)=>async function(B,W,Y,J){let te=W.view.tu(Y);te.Cs&&(te=await aw(B.localStore,W.query,!1).then(({documents:M})=>W.view.tu(M,te)));const re=J&&J.targetChanges.get(W.targetId),ue=J&&J.targetMismatches.get(W.targetId)!=null,ve=W.view.applyChanges(te,B.isPrimaryClient,re,ue);return gw(B,W.targetId,ve.ou),ve.snapshot}(n,T,b,R);const l=await aw(n.localStore,e,!0),c=new L5(e,l.$s),d=c.tu(l.documents),p=Uu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=c.applyChanges(d,n.isPrimaryClient,p);gw(n,t,m.ou);const y=new W5(e,t,c);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),m.snapshot}async function q5(n,e,t){const i=Ce(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!qf(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await w_(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Ay(i.remoteStore,a.targetId),R_(i,a.targetId)}).catch(wl)):(R_(i,a.targetId),await w_(i.localStore,a.targetId,!0))}async function G5(n,e){const t=Ce(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ay(t.remoteStore,i.targetId))}async function Z5(n,e,t){const i=e4(n);try{const a=await function(c,d){const p=Ce(c),m=Bt.now(),y=d.reduce((R,C)=>R.add(C.key),Fe());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=Lr(),B=Fe();return p.Bs.getEntries(R,y).next(W=>{C=W,C.forEach((Y,J)=>{J.isValidDocument()||(B=B.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,C)).next(W=>{T=W;const Y=[];for(const J of d){const te=cP(J,T.get(J.key).overlayedDocument);te!=null&&Y.push(new Ja(J.key,te,lI(te.value.mapValue),Gi.exists(!0)))}return p.mutationQueue.addMutationBatch(R,m,Y,d)}).next(W=>{b=W;const Y=W.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(R,W.batchId,Y)})}).then(()=>({batchId:b.batchId,changes:yI(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let m=c.Au[c.currentUser.toKey()];m||(m=new Vt(xe)),m=m.insert(d,p),c.Au[c.currentUser.toKey()]=m}(i,a.batchId,t),await Wu(i,a.changes),await Kf(i.remoteStore)}catch(a){const l=ky(a,"Failed to persist write");t.reject(l)}}async function nR(n,e){const t=Ce(n);try{const i=await a5(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?Qe(c.cu,14607):a.removedDocuments.size>0&&(Qe(c.cu,42227),c.cu=!1))}),await Wu(t,i,e)}catch(i){await wl(i)}}function mw(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,c)=>{const d=c.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ce(c);p.onlineState=d;let m=!1;p.queries.forEach((y,T)=>{for(const b of T.Sa)b.Fa(d)&&(m=!0)}),m&&Vy(p)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Y5(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new Vt(_e.comparator);c=c.insert(l,pn.newNoDocument(l,Ae.min()));const d=Fe().add(l),p=new Jf(Ae.min(),new Map,new Vt(xe),c,d);await nR(i,p),i.Iu=i.Iu.remove(l),i.Eu.delete(e),My(i)}else await w_(i.localStore,e,!1).then(()=>R_(i,e,t)).catch(wl)}async function J5(n,e){const t=Ce(n),i=e.batch.batchId;try{const a=await s5(t.localStore,e);rR(t,i,null),iR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wu(t,a)}catch(a){await wl(a)}}async function Q5(n,e,t){const i=Ce(n);try{const a=await function(c,d){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next(T=>(Qe(T!==null,37113),y=T.keys(),p.mutationQueue.removeMutationBatch(m,T))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);rR(i,e,t),iR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wu(i,a)}catch(a){await wl(a)}}function iR(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function rR(n,e,t){const i=Ce(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function R_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||sR(n,i)})}function sR(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Ay(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),My(n))}function gw(n,e,t){for(const i of t)i instanceof $I?(n.du.addReference(i.key,e),X5(n,i)):i instanceof eR?(he(Dy,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||sR(n,i.key)):we(19791,{pu:i})}function X5(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(he(Dy,"New document in limbo: "+t),n.Tu.add(i),My(n))}function My(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new _e(pt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new F5(t)),n.Iu=n.Iu.insert(t,i),HI(n.remoteStore,new Is(qi(yy(t.path)),i,"TargetPurposeLimboResolution",jf.le))}}async function Wu(n,e,t){const i=Ce(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,p)=>{c.push(i.fu(p,e,t).then(m=>{var y;if((m||t)&&i.isPrimaryClient){const T=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=Iy.Rs(p.targetId,m);l.push(T)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(p,m){const y=Ce(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(m,b=>ee.forEach(b.ds,R=>y.persistence.referenceDelegate.addReference(T,b.targetId,R)).next(()=>ee.forEach(b.As,R=>y.persistence.referenceDelegate.removeReference(T,b.targetId,R)))))}catch(T){if(!Sl(T))throw T;he(Ry,"Failed to update sequence numbers: "+T)}for(const T of m){const b=T.targetId;if(!T.fromCache){const R=y.xs.get(b),C=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(b,B)}}}(i.localStore,l))}async function K5(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){he(Dy,"User change. New user:",e.toKey());const i=await FI(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new pe(ie.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wu(t,i.ks)}}function $5(n,e){const t=Ce(n),i=t.Eu.get(e);if(i&&i.cu)return Fe().add(i.key);{let a=Fe();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const d=t.hu.get(c);a=a.unionWith(d.view.eu)}return a}}function aR(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y5.bind(null,e),e.lu.Y_=P5.bind(null,e.eventManager),e.lu.gu=U5.bind(null,e.eventManager),e}function e4(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q5.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return r5(this.persistence,new t5,e.initialUser,this.serializer)}Su(e){return new WI(Sy.fi,this.serializer)}bu(e){return new h5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class t4 extends ff{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Qe(this.persistence.referenceDelegate instanceof hf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new FP(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new WI(i=>hf.fi(i,t),this.serializer)}}class A_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K5.bind(null,this.syncEngine),await V5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M5}()}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),i=function(l){return new g5(l)}(e.databaseInfo);return function(l,c,d,p){return new T5(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new b5(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>mw(this.syncEngine,t,0),function(){return cw.C()?new cw:new d5}())}createSyncEngine(e,t){return function(a,l,c,d,p,m,y){const T=new j5(a,l,c,d,p,m);return y&&(T.mu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ce(a);he(Wa,"RemoteStore shutting down."),l.da.add(5),await Lu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}A_.provider={build:()=>new A_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class n4{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=KS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{he(Ls,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he(Ls,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ky(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Dg(n,e){n.asyncQueue.verifyOperationInProgress(),he(Ls,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await FI(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function _w(n,e){n.asyncQueue.verifyOperationInProgress();const t=await i4(n);he(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>hw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>hw(e.remoteStore,a)),n._onlineComponents=e}async function i4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Ls,"Using user provided OfflineComponentProvider");try{await Dg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),await Dg(n,new ff)}}else he(Ls,"Using default OfflineComponentProvider"),await Dg(n,new t4(void 0));return n._offlineComponents}async function lR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Ls,"Using user provided OnlineComponentProvider"),await _w(n,n._uninitializedComponentsProvider._online)):(he(Ls,"Using default OnlineComponentProvider"),await _w(n,new A_))),n._onlineComponents}function r4(n){return lR(n).then(e=>e.syncEngine)}async function cR(n){const e=await lR(n),t=e.eventManager;return t.onListen=B5.bind(null,e.syncEngine),t.onUnlisten=q5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=z5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=G5.bind(null,e.syncEngine),t}function s4(n,e,t={}){const i=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const y=new oR({next:b=>{y.xu(),c.enqueueAndForget(()=>XI(l,T));const R=b.docs.has(d);!R&&b.fromCache?m.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?m.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),T=new KI(yy(d.path),y,{includeMetadataChanges:!0,Qa:!0});return QI(l,T)}(await cR(n),n.asyncQueue,e,t,i)),i.promise}function a4(n,e,t={}){const i=new xr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const y=new oR({next:b=>{y.xu(),c.enqueueAndForget(()=>XI(l,T)),b.fromCache&&p.source==="server"?m.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),T=new KI(d,y,{includeMetadataChanges:!0,Qa:!0});return QI(l,T)}(await cR(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n,e,t){if(!t)throw new pe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function o4(n,e,t,i){if(e===!0&&i===!0)throw new pe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vw(n){if(!_e.isDocumentKey(n))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tw(n){if(_e.isDocumentKey(n))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Py(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Ws(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Py(n);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firestore.googleapis.com",Ew=!0;class bw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dR,this.ssl=Ew}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LP)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pM;switch(i.type){case"firstParty":return new yM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=yw.get(t);i&&(he("ComponentProvider","Removing Datastore"),yw.delete(t),i.terminate())}(this),Promise.resolve()}}function l4(n,e,t,i={}){var a;n=Ws(n,$f);const l=Fr(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(Mf(`https://${p}`),Pf("Firestore",!0)),c.host!==dR&&c.host!==p&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Dr(m,d)&&(n._setSettings(m),i.mockUserToken)){let y,T;if(typeof i.mockUserToken=="string")y=i.mockUserToken,T=fn.MOCK_USER;else{y=K_(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new fn(b)}n._authCredentials=new mM(new QS(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ep(this.firestore,e,this._query)}}class jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Os extends ep{constructor(e,t,i){super(e,t,yy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new _e(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function Rd(n,e,...t){if(n=ht(n),hR("collection","path",e),n instanceof $f){const i=pt.fromString(e,...t);return Tw(i),new Os(n,null,i)}{if(!(n instanceof jn||n instanceof Os))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return Tw(i),new Os(n.firestore,null,i)}}function C_(n,e,...t){if(n=ht(n),arguments.length===1&&(e=KS.newId()),hR("doc","path",e),n instanceof $f){const i=pt.fromString(e,...t);return vw(i),new jn(n,null,new _e(i))}{if(!(n instanceof jn||n instanceof Os))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(e,...t));return vw(i),new jn(n.firestore,n instanceof Os?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="AsyncQueue";class Sw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new BI(this,"async_queue_retry"),this.rc=()=>{const i=Vg();i&&he(ww,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Vg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Vg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new xr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Sl(e))throw e;he(ww,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ur("INTERNAL UNHANDLED ERROR: ",Iw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=xy.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&we(47125,{cc:Iw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Iw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Fu extends $f{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Sw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sw(e),this._firestoreClient=void 0,await e}}}function fR(n,e){const t=typeof n=="object"?n:xu(),i=typeof n=="string"?n:rf,a=Br(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=X_("firestore");l&&l4(a,...l)}return a}function Uy(n){if(n._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||c4(n),n._firestoreClient}function c4(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,m,y){return new VM(d,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,uR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new n4(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(ln.fromBase64String(e))}catch(t){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hl(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=/^__.*__$/;class h4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pu(e,this.data,t,this.fieldTransforms)}}function mR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ic:n})}}class jy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return pf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(mR(this.Ic)&&u4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class d4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qf(e)}bc(e,t,i,a=!1){return new jy({Ic:e,methodName:t,wc:i,path:on.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gR(n){const e=n._freezeSettings(),t=Qf(n._databaseId);return new d4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _R(n,e,t,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);ER("Data must be an object, but it was:",c,i);const d=vR(i,c);let p,m;if(l.merge)p=new gi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const b=f4(e,T,t);if(!c.contains(b))throw new pe(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);m4(y,b)||y.push(b)}p=new gi(y),m=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,m=c.fieldTransforms;return new h4(new ii(d),p,m)}function yR(n,e){if(TR(n=ht(n)))return ER("Unsupported field value:",e,n),vR(n,e);if(n instanceof pR)return function(i,a){if(!mR(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=yR(d,a.fc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Bt.fromDate(i);return{timestampValue:uf(a.serializer,l)}}if(i instanceof Bt){const l=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uf(a.serializer,l)}}if(i instanceof Wy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hl)return{bytesValue:xI(a.serializer,i._byteString)};if(i instanceof jn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:by(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Fy)return function(c,d){return{mapValue:{fields:{[aI]:{stringValue:oI},[sf]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.gc("VectorValues must only contain numeric values.");return vy(d.serializer,m)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Py(i)}`)}(n,e)}function vR(n,e){const t={};return eI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(n,(i,a)=>{const l=yR(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function TR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof Wy||n instanceof hl||n instanceof jn||n instanceof pR||n instanceof Fy)}function ER(n,e,t){if(!TR(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Py(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function f4(n,e,t){if((e=ht(e))instanceof Ly)return e._internalPath;if(typeof e=="string")return bR(n,e);throw pf("Field path arguments must be of type string or ",n,!1,void 0,t)}const p4=new RegExp("[~\\*/\\[\\]]");function bR(n,e,t){if(e.search(p4)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ly(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pf(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new pe(ie.INVALID_ARGUMENT,d+n+p)}function m4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class g4 extends wR{data(){return super.data()}}function SR(n,e){return typeof e=="string"?bR(n,e):e instanceof Ly?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y4{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Za(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[sf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Rt(c.doubleValue));return new Fy(l)}convertGeoPoint(e){return new Wy(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=zf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pt.fromString(e);Qe(UI(i),9688,{name:e});const a=new mu(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return a.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RR extends wR{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(SR("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Bd extends RR{data(e={}){return super.data(e)}}class v4{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Qc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bd(this._firestore,this._userDataWriter,i.key,i,new Qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Bd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Qc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Bd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Qc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:T4(d.type),doc:p,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function T4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n){n=Ws(n,jn);const e=Ws(n.firestore,Fu);return s4(Uy(e),n._key).then(t=>w4(e,n,t))}class AR extends y4{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function Rw(n){n=Ws(n,ep);const e=Ws(n.firestore,Fu),t=Uy(e),i=new AR(e);return _4(n._query),a4(t,n._query).then(a=>new v4(e,i,n,a))}function b4(n,e,t){n=Ws(n,jn);const i=Ws(n.firestore,Fu),a=IR(n.converter,e,t);return CR(i,[_R(gR(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Gi.none())])}function Aw(n,e){const t=Ws(n.firestore,Fu),i=C_(n),a=IR(n.converter,e);return CR(t,[_R(gR(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Gi.exists(!1))]).then(()=>i)}function CR(n,e){return function(i,a){const l=new xr;return i.asyncQueue.enqueueAndForget(async()=>Z5(await r4(i),a,l)),l.promise}(Uy(n),e)}function w4(n,e,t){const i=t.docs.get(e._key),a=new AR(n);return new RR(n,a,e._key,i,new Qc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){bl=a})(Hs),si(new zn("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Fu(new gM(i.getProvider("auth-internal")),new vM(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),gn(Ob,xb,e),gn(Ob,xb,"esm2017")})();const NR="@firebase/installations",By="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1e4,xR=`w:${By}`,kR="FIS_v2",S4="https://firebaseinstallations.googleapis.com/v1",I4=60*60*1e3,R4="installations",A4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fa=new Ga(R4,A4,C4);function VR(n){return n instanceof ai&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR({projectId:n}){return`${S4}/projects/${n}/installations`}function MR(n){return{token:n.token,requestStatus:2,expiresIn:O4(n.expiresIn),creationTime:Date.now()}}async function PR(n,e){const i=(await e.json()).error;return Fa.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function UR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function N4(n,{refreshToken:e}){const t=UR(n);return t.append("Authorization",x4(e)),t}async function LR(n){const e=await n();return e.status>=500&&e.status<600?n():e}function O4(n){return Number(n.replace("s","000"))}function x4(n){return`${kR} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=DR(n),a=UR(n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:t,authVersion:kR,appId:n.appId,sdkVersion:xR},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await LR(()=>fetch(i,d));if(p.ok){const m=await p.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:MR(m.authToken)}}else throw await PR("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=/^[cdef][\w-]{21}$/,N_="";function M4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=P4(n);return D4.test(t)?t:N_}catch{return N_}}function P4(n){return V4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Map;function jR(n,e){const t=tp(n);BR(t,e),U4(t,e)}function BR(n,e){const t=FR.get(n);if(t)for(const i of t)i(e)}function U4(n,e){const t=L4();t&&t.postMessage({key:n,fid:e}),W4()}let ka=null;function L4(){return!ka&&"BroadcastChannel"in self&&(ka=new BroadcastChannel("[Firebase] FID Change"),ka.onmessage=n=>{BR(n.data.key,n.data.fid)}),ka}function W4(){FR.size===0&&ka&&(ka.close(),ka=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="firebase-installations-database",j4=1,ja="firebase-installations-store";let Mg=null;function zy(){return Mg||(Mg=rS(F4,j4,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ja)}}})),Mg}async function mf(n,e){const t=tp(n),a=(await zy()).transaction(ja,"readwrite"),l=a.objectStore(ja),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&jR(n,e.fid),e}async function zR(n){const e=tp(n),i=(await zy()).transaction(ja,"readwrite");await i.objectStore(ja).delete(e),await i.done}async function np(n,e){const t=tp(n),a=(await zy()).transaction(ja,"readwrite"),l=a.objectStore(ja),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!c||c.fid!==d.fid)&&jR(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hy(n){let e;const t=await np(n.appConfig,i=>{const a=B4(i),l=z4(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===N_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function B4(n){const e=n||{fid:M4(),registrationStatus:0};return HR(e)}function z4(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Fa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=H4(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:q4(n)}:{installationEntry:e}}async function H4(n,e){try{const t=await k4(n,e);return mf(n.appConfig,t)}catch(t){throw VR(t)&&t.customData.serverCode===409?await zR(n.appConfig):await mf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function q4(n){let e=await Cw(n.appConfig);for(;e.registrationStatus===1;)await WR(100),e=await Cw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Hy(n);return i||t}return e}function Cw(n){return np(n,e=>{if(!e)throw Fa.create("installation-not-found");return HR(e)})}function HR(n){return G4(n)?{fid:n.fid,registrationStatus:0}:n}function G4(n){return n.registrationStatus===1&&n.registrationTime+OR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4({appConfig:n,heartbeatServiceProvider:e},t){const i=Y4(n,t),a=N4(n,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:xR,appId:n.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await LR(()=>fetch(i,d));if(p.ok){const m=await p.json();return MR(m)}else throw await PR("Generate Auth Token",p)}function Y4(n,{fid:e}){return`${DR(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qy(n,e=!1){let t;const i=await np(n.appConfig,l=>{if(!qR(l))throw Fa.create("not-registered");const c=l.authToken;if(!e&&X4(c))return l;if(c.requestStatus===1)return t=J4(n,e),l;{if(!navigator.onLine)throw Fa.create("app-offline");const d=$4(l);return t=Q4(n,d),d}});return t?await t:i.authToken}async function J4(n,e){let t=await Nw(n.appConfig);for(;t.authToken.requestStatus===1;)await WR(100),t=await Nw(n.appConfig);const i=t.authToken;return i.requestStatus===0?qy(n,e):i}function Nw(n){return np(n,e=>{if(!qR(e))throw Fa.create("not-registered");const t=e.authToken;return e9(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Q4(n,e){try{const t=await Z4(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await mf(n.appConfig,i),t}catch(t){if(VR(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await zR(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await mf(n.appConfig,i)}throw t}}function qR(n){return n!==void 0&&n.registrationStatus===2}function X4(n){return n.requestStatus===2&&!K4(n)}function K4(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+I4}function $4(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function e9(n){return n.requestStatus===1&&n.requestTime+OR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(n){const e=n,{installationEntry:t,registrationPromise:i}=await Hy(e);return i?i.catch(console.error):qy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(n,e=!1){const t=n;return await i9(t),(await qy(t,e)).token}async function i9(n){const{registrationPromise:e}=await Hy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(n){if(!n||!n.options)throw Pg("App Configuration");if(!n.name)throw Pg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Pg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Pg(n){return Fa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="installations",s9="installations-internal",a9=n=>{const e=n.getProvider("app").getImmediate(),t=r9(e),i=Br(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},o9=n=>{const e=n.getProvider("app").getImmediate(),t=Br(e,GR).getImmediate();return{getId:()=>t9(t),getToken:a=>n9(t,a)}};function l9(){si(new zn(GR,a9,"PUBLIC")),si(new zn(s9,o9,"PRIVATE"))}l9();gn(NR,By);gn(NR,By,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="analytics",c9="firebase_id",u9="origin",h9=60*1e3,d9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn=new Ou("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bn=new Ga("analytics","Analytics",f9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(n){if(!n.startsWith(Gy)){const e=Bn.create("invalid-gtag-resource",{gtagURL:n});return Nn.warn(e.message),""}return n}function ZR(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function m9(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function g9(n,e){const t=m9("firebase-js-sdk-policy",{createScriptURL:p9}),i=document.createElement("script"),a=`${Gy}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function _9(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function y9(n,e,t,i,a,l){const c=i[a];try{if(c)await e[c];else{const p=(await ZR(t)).find(m=>m.measurementId===a);p&&await e[p.appId]}}catch(d){Nn.error(d)}n("config",a,l)}async function v9(n,e,t,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await ZR(t);for(const p of c){const m=d.find(T=>T.measurementId===p),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,a||{})}catch(l){Nn.error(l)}}function T9(n,e,t,i){async function a(l,...c){try{if(l==="event"){const[d,p]=c;await v9(n,e,t,d,p)}else if(l==="config"){const[d,p]=c;await y9(n,e,t,i,d,p)}else if(l==="consent"){const[d,p]=c;n("consent",d,p)}else if(l==="get"){const[d,p,m]=c;n("get",d,p,m)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){Nn.error(d)}}return a}function E9(n,e,t,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=T9(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function b9(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=30,S9=1e3;class I9{constructor(e={},t=S9){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const YR=new I9;function R9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function A9(n){var e;const{appId:t,apiKey:i}=n,a={method:"GET",headers:R9(i)},l=d9.replace("{app-id}",t),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function C9(n,e=YR,t){const{appId:i,apiKey:a,measurementId:l}=n.options;if(!i)throw Bn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw Bn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new x9;return setTimeout(async()=>{d.abort()},h9),JR({appId:i,apiKey:a,measurementId:l},c,d,e)}async function JR(n,{throttleEndTimeMillis:e,backoffCount:t},i,a=YR){var l;const{appId:c,measurementId:d}=n;try{await N9(i,e)}catch(p){if(d)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:d};throw p}try{const p=await A9(n);return a.deleteThrottleMetadata(c),p}catch(p){const m=p;if(!O9(m)){if(a.deleteThrottleMetadata(c),d)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:d};throw p}const y=Number((l=m==null?void 0:m.customData)===null||l===void 0?void 0:l.httpStatus)===503?tb(t,a.intervalMillis,w9):tb(t,a.intervalMillis),T={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return a.setThrottleMetadata(c,T),Nn.debug(`Calling attemptFetch again in ${y} millis`),JR(n,T,i,a)}}function N9(n,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),i(Bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function O9(n){if(!(n instanceof ai)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class x9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function k9(n,e,t,i,a){if(a&&a.global){n("event",t,i);return}else{const l=await e,c=Object.assign(Object.assign({},i),{send_to:l});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(){if($1())try{await eS()}catch(n){return Nn.warn(Bn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Nn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D9(n,e,t,i,a,l,c){var d;const p=C9(n);p.then(R=>{t[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Nn.error(R)),e.push(p);const m=V9().then(R=>{if(R)return i.getId()}),[y,T]=await Promise.all([p,m]);b9(l)||g9(l,y.measurementId),a("js",new Date);const b=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return b[u9]="firebase",b.update=!0,T!=null&&(b[c9]=T),a("config",y.measurementId,b),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.app=e}_delete(){return delete iu[this.app.options.appId],Promise.resolve()}}let iu={},Ow=[];const xw={};let Ug="dataLayer",P9="gtag",kw,QR,Vw=!1;function U9(){const n=[];if(X1()&&n.push("This is a browser extension environment."),wx()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=Bn.create("invalid-analytics-context",{errorInfo:e});Nn.warn(t.message)}}function L9(n,e,t){U9();const i=n.options.appId;if(!i)throw Bn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bn.create("no-api-key");if(iu[i]!=null)throw Bn.create("already-exists",{id:i});if(!Vw){_9(Ug);const{wrappedGtag:l,gtagCore:c}=E9(iu,Ow,xw,Ug,P9);QR=l,kw=c,Vw=!0}return iu[i]=D9(n,Ow,xw,e,kw,Ug,t),new M9(n)}function W9(n=xu()){n=ht(n);const e=Br(n,gf);return e.isInitialized()?e.getImmediate():F9(n)}function F9(n,e={}){const t=Br(n,gf);if(t.isInitialized()){const a=t.getImmediate();if(Dr(e,t.getOptions()))return a;throw Bn.create("already-initialized")}return t.initialize({options:e})}function j9(n,e,t,i){n=ht(n),k9(QR,iu[n.app.options.appId],e,t,i).catch(a=>Nn.error(a))}const Dw="@firebase/analytics",Mw="0.10.16";function B9(){si(new zn(gf,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return L9(i,a,t)},"PUBLIC")),si(new zn("analytics-internal",n,"PRIVATE")),gn(Dw,Mw),gn(Dw,Mw,"esm2017");function n(e){try{const t=e.getProvider(gf).getImmediate();return{logEvent:(i,a,l)=>j9(t,i,a,l)}}catch(t){throw Bn.create("interop-component-reg-failed",{reason:t})}}}B9();var Pw={};const Uw="@firebase/database",Lw="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XR="";function z9(n){XR=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Wt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:uu(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return jr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new H9(e)}}catch{}return new q9},Va=KR("localStorage"),G9=KR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new Ou("@firebase/database"),Z9=function(){let n=1;return function(){return n++}}(),$R=function(n){const e=Vx(n),t=new Nx;t.update(e);const i=t.digest();return Q_.encodeByteArray(i)},ju=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ju.apply(null,i):typeof i=="object"?e+=Wt(i):e+=i,e+=" "}return e};let ru=null,Ww=!0;const Y9=function(n,e){oe(!0,"Can't turn on custom loggers persistently."),nl.logLevel=Ue.VERBOSE,ru=nl.log.bind(nl)},mn=function(...n){if(Ww===!0&&(Ww=!1,ru===null&&G9.get("logging_enabled")===!0&&Y9()),ru){const e=ju.apply(null,n);ru(e)}},Bu=function(n){return function(...e){mn(n,...e)}},O_=function(...n){const e="FIREBASE INTERNAL ERROR: "+ju(...n);nl.error(e)},Wr=function(...n){const e=`FIREBASE FATAL ERROR: ${ju(...n)}`;throw nl.error(e),new Error(e)},On=function(...n){const e="FIREBASE WARNING: "+ju(...n);nl.warn(e)},J9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},eA=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Q9=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},dl="[MIN_NAME]",Ba="[MAX_NAME]",Rl=function(n,e){if(n===e)return 0;if(n===dl||e===Ba)return-1;if(e===dl||n===Ba)return 1;{const t=Fw(n),i=Fw(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},X9=function(n,e){return n===e?0:n<e?-1:1},jc=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Wt(e))},Zy=function(n){if(typeof n!="object"||n===null)return Wt(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=Wt(e[i]),t+=":",t+=Zy(n[e[i]]);return t+="}",t},tA=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let a=0;a<t;a+=e)a+e>t?i.push(n.substring(a,t)):i.push(n.substring(a,a+e));return i};function xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const nA=function(n){oe(!eA(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let a,l,c,d,p;n===0?(l=0,c=0,a=1/n===-1/0?1:0):(a=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=d+i,c=Math.round(n*Math.pow(2,t-d)-Math.pow(2,t))):(l=0,c=Math.round(n/Math.pow(2,1-i-t))));const m=[];for(p=t;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const y=m.join("");let T="";for(p=0;p<64;p+=8){let b=parseInt(y.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),T=T+b}return T.toLowerCase()},K9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function e3(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const t3=new RegExp("^-?(0*)\\d{1,10}$"),n3=-2147483648,i3=2147483647,Fw=function(n){if(t3.test(n)){const e=Number(n);if(e>=n3&&e<=i3)return e}return null},Al=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw On("Exception was thrown by user callback.",t),e},Math.floor(0))}},r3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},su=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,bn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){On(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(e)}}class zd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="5",iA="v",rA="s",sA="r",aA="f",oA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lA="ls",cA="p",x_="ac",uA="websocket",hA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t,i,a,l=!1,c="",d=!1,p=!1,m=null){this.secure=t,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Va.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Va.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function o3(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function fA(n,e,t){oe(typeof e=="string","typeof type must == string"),oe(typeof t=="object","typeof params must == object");let i;if(e===uA)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===hA)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);o3(n)&&(t.ns=n.namespace);const a=[];return xn(t,(l,c)=>{a.push(l+"="+c)}),i+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.counters_={}}incrementCounter(e,t=1){jr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ux(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg={},Wg={};function Jy(n){const e=n.toString();return Lg[e]||(Lg[e]=new l3),Lg[e]}function c3(n,e){const t=n.toString();return Wg[t]||(Wg[t]=e()),Wg[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&Al(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="start",h3="close",d3="pLPCommand",f3="pRTLPCB",pA="id",mA="pw",gA="ser",p3="cb",m3="seg",g3="ts",_3="d",y3="dframe",_A=1870,yA=30,v3=_A-yA,T3=25e3,E3=3e4;class Xo{constructor(e,t,i,a,l,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bu(e),this.stats_=Jy(t),this.urlFn=p=>(this.appCheckToken&&(p[x_]=this.appCheckToken),fA(t,hA,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new u3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(E3)),Q9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qy((...l)=>{const[c,d,p,m,y]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===jw)this.id=d,this.password=p;else if(c===h3)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[jw]="t",i[gA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[p3]=this.scriptTagHolder.uniqueCallbackIdentifier),i[iA]=Yy,this.transportSessionId&&(i[rA]=this.transportSessionId),this.lastSessionId&&(i[lA]=this.lastSessionId),this.applicationId&&(i[cA]=this.applicationId),this.appCheckToken&&(i[x_]=this.appCheckToken),typeof location<"u"&&location.hostname&&oA.test(location.hostname)&&(i[sA]=aA);const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xo.forceAllow_=!0}static forceDisallow(){Xo.forceDisallow_=!0}static isAvailable(){return Xo.forceAllow_?!0:!Xo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!K9()&&!$9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Wt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=G1(t),a=tA(i,v3);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[y3]="t",i[pA]=e,i[mA]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Wt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Qy{constructor(e,t,i,a){this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Z9(),window[d3+this.uniqueCallbackIdentifier]=e,window[f3+this.uniqueCallbackIdentifier]=t,this.myIFrame=Qy.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){mn("frame writing exception"),d.stack&&mn(d.stack),mn(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[pA]=this.myID,e[mA]=this.myPW,e[gA]=this.currentSerial;let t=this.urlFn(e),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yA+i.length<=_A;){const c=this.pendingSegs.shift();i=i+"&"+m3+a+"="+c.seg+"&"+g3+a+"="+c.ts+"&"+_3+a+"="+c.d,a++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(i,Math.floor(T3)),l=()=>{clearTimeout(a),i()};this.addTag(e,l)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||a==="loaded"||a==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=16384,w3=45e3;let _f=null;typeof MozWebSocket<"u"?_f=MozWebSocket:typeof WebSocket<"u"&&(_f=WebSocket);class pi{constructor(e,t,i,a,l,c,d){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bu(this.connId),this.stats_=Jy(t),this.connURL=pi.connectionURL_(t,c,d,a,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,a,l){const c={};return c[iA]=Yy,typeof location<"u"&&location.hostname&&oA.test(location.hostname)&&(c[sA]=aA),t&&(c[rA]=t),i&&(c[lA]=i),a&&(c[x_]=a),l&&(c[cA]=l),fA(e,uA,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Va.set("previous_websocket_failure",!0);try{let i;Ex(),this.mySock=new _f(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){pi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&_f!==null&&!pi.forceDisallow_}static previouslyFailed(){return Va.isInMemoryStorage||Va.get("previous_websocket_failure")===!0}markConnectionHealthy(){Va.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=uu(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(oe(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=Wt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=tA(t,b3);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(w3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pi.responsesRequiredToBeHealthy=2;pi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{static get ALL_TRANSPORTS(){return[Xo,pi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=pi&&pi.isAvailable();let i=t&&!pi.previouslyFailed();if(e.webSocketOnly&&(t||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[pi];else{const a=this.transports_=[];for(const l of vu.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);vu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=6e4,I3=5e3,R3=10*1024,A3=100*1024,Fg="t",Bw="d",C3="s",zw="r",N3="e",Hw="o",qw="a",Gw="n",Zw="p",O3="h";class x3{constructor(e,t,i,a,l,c,d,p,m,y){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bu("c:"+this.id+":"),this.transportManager_=new vu(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=su(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>A3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>R3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fg in e){const t=e[Fg];t===qw?this.upgradeIfSecondaryHealthy_():t===zw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Hw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=jc("t",e),i=jc("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=jc("t",e),i=jc("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=jc(Fg,e);if(Bw in e){const i=e[Bw];if(t===O3){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(t===Gw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===C3?this.onConnectionShutdown_(i):t===zw?this.onReset_(i):t===N3?O_("Server Error: "+i):t===Hw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Yy!==i&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),su(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(S3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):su(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(I3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{put(e,t,i,a){}merge(e,t,i,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.allowedEvents_=e,this.listeners_={},oe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const a=this.getInitialEvent(e);a&&t.apply(i,a)}off(e,t,i){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===t&&(!i||i===a[l].context)){a.splice(l,1);return}}validateEventType_(e){oe(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends TA{static getInstance(){return new yf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return oe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=32,Jw=768;class at{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ge(){return new at("")}function We(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Fs(n){return n.pieces_.length-n.pieceNum_}function ct(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new at(n.pieces_,e)}function EA(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function k3(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function bA(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function wA(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new at(e,0)}function jt(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof at)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&t.push(i[a])}return new at(t,0)}function Le(n){return n.pieceNum_>=n.pieces_.length}function wn(n,e){const t=We(n),i=We(e);if(t===null)return e;if(t===i)return wn(ct(n),ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function SA(n,e){if(Fs(n)!==Fs(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function _i(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Fs(n)>Fs(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class V3{constructor(e,t){this.errorPrefix_=t,this.parts_=bA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Uf(this.parts_[i]);IA(this)}}function D3(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Uf(e),IA(n)}function M3(n){const e=n.parts_.pop();n.byteLength_-=Uf(e),n.parts_.length>0&&(n.byteLength_-=1)}function IA(n){if(n.byteLength_>Jw)throw new Error(n.errorPrefix_+"has a key path longer than "+Jw+" bytes ("+n.byteLength_+").");if(n.parts_.length>Yw)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yw+") or object contains a cycle "+Oa(n))}function Oa(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends TA{static getInstance(){return new Xy}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return oe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=1e3,P3=60*5*1e3,Qw=30*1e3,U3=1.3,L3=3e4,W3="server_kill",Xw=3;class kr extends vA{constructor(e,t,i,a,l,c,d,p){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=kr.nextPersistentConnectionId_++,this.log_=Bu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bc,this.maxReconnectDelay_=P3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&yf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const a=++this.requestNumber_,l={r:a,a:e,b:t};this.log_(Wt(l)),oe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const t=new Df,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?t.resolve(d):t.reject(d)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,i,a){this.initConnection_();const l=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),oe(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const d={onComplete:a,hashFn:t,query:e,tag:i};this.listens.get(c).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),a=t._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i},c="q";e.tag&&(l.q=t._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(c,l,d=>{const p=d.d,m=d.s;kr.warnOnListenWarnings_(p,t),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(i,a),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&jr(e,"w")){const i=rl(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+t._queryParams.getIndex().toString()+'"',l=t._path.toString();On(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Cx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=Ax(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,a=>{const l=a.s,c=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,t)}sendUnlisten_(e,t,i,a){this.log_("Unlisten on "+e+" for "+t);const l={p:e},c="n";a&&(l.q=i,l.t=a),this.sendRequest(c,l)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,a){const l={p:t,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,c=>{a&&setTimeout(()=>{a(c.s,c.d)},Math.floor(0))})}put(e,t,i,a){this.putInternal("p",e,t,i,a)}merge(e,t,i,a){this.putInternal("m",e,t,i,a)}putInternal(e,t,i,a,l){this.initConnection_();const c={p:t,d:i};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:e,request:c,onComplete:a}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,l=>{this.log_(t+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Wt(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):O_("Unrecognized action received from server: "+Wt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){oe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>L3&&(this.reconnectDelay_=Bc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*U3)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+kr.nextConnectionId_++,l=this.lastSessionId;let c=!1,d=null;const p=function(){d?d.close():(c=!0,i())},m=function(T){oe(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(T)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);c?mn("getToken() completed but was canceled"):(mn("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=b&&b.token,d=new x3(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,R=>{On(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(W3)},l))}catch(T){this.log_("Failed to get token: "+T),c||(this.repoInfo_.nodeAdmin&&On(T),p())}}}interrupt(e){mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],n_(this.interruptReasons_)&&(this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(l=>Zy(l)).join("$"):i="default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,t){const i=new at(e).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(t),l.delete(t),l.size===0&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,t){mn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xw&&(this.reconnectDelay_=Qw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){mn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+XR.replace(/\./g,"-")]=1,$_()?e["framework.cordova"]=1:K1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yf.getInstance().currentlyOnline();return n_(this.interruptReasons_)&&e}}kr.nextPersistentConnectionId_=0;kr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new De(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new De(dl,e),a=new De(dl,t);return this.compare(i,a)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad;class RA extends ip{static get __EMPTY_NODE(){return Ad}static set __EMPTY_NODE(e){Ad=e}compare(e,t){return Rl(e.name,t.name)}isDefinedOn(e){throw vl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return De.MIN}maxPost(){return new De(Ba,Ad)}makePost(e,t){return oe(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,Ad)}toString(){return".key"}}const il=new RA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,i,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,a&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Kt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Kt.RED,this.left=a??Cn.EMPTY_NODE,this.right=l??Cn.EMPTY_NODE}copy(e,t,i,a,l){return new Kt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a=a.copy(null,t,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,a;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Cn.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Kt.RED=!0;Kt.BLACK=!1;class F3{copy(e,t,i,a,l){return this}insert(e,t,i){return new Kt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Cn{constructor(e,t=Cn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Cn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Kt.BLACK,null,null))}remove(e){return new Cn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kt.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,a=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(a=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Cd(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Cd(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Cd(this.root_,null,this.comparator_,!0,e)}}Cn.EMPTY_NODE=new F3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(n,e){return Rl(n.name,e.name)}function Ky(n,e){return Rl(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_;function B3(n){k_=n}const AA=function(n){return typeof n=="number"?"number:"+nA(n):"string:"+n},CA=function(n){if(n.isLeafNode()){const e=n.val();oe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jr(e,".sv"),"Priority must be a string or number.")}else oe(n===k_||n.isEmpty(),"priority of unexpected type.");oe(n===k_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kw;class Qt{static set __childrenNodeConstructor(e){Kw=e}static get __childrenNodeConstructor(){return Kw}constructor(e,t=Qt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,oe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CA(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Le(e)?this:We(e)===".priority"?this.priorityNode_:Qt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Qt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=We(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(oe(i!==".priority"||Fs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Qt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+AA(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=nA(this.value_):e+=this.value_,this.lazyHash_=$R(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qt.__childrenNodeConstructor?-1:(oe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,a=Qt.VALUE_TYPE_ORDER.indexOf(t),l=Qt.VALUE_TYPE_ORDER.indexOf(i);return oe(a>=0,"Unknown leaf type: "+t),oe(l>=0,"Unknown leaf type: "+i),a===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Qt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NA,OA;function z3(n){NA=n}function H3(n){OA=n}class q3 extends ip{compare(e,t){const i=e.node.getPriority(),a=t.node.getPriority(),l=i.compareTo(a);return l===0?Rl(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return De.MIN}maxPost(){return new De(Ba,new Qt("[PRIORITY-POST]",OA))}makePost(e,t){const i=NA(e);return new De(t,new Qt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Et=new q3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=Math.log(2);class Z3{constructor(e){const t=l=>parseInt(Math.log(l)/G3,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const a=i(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vf=function(n,e,t,i){n.sort(e);const a=function(p,m){const y=m-p;let T,b;if(y===0)return null;if(y===1)return T=n[p],b=t?t(T):T,new Kt(b,T.node,Kt.BLACK,null,null);{const R=parseInt(y/2,10)+p,C=a(p,R),B=a(R+1,m);return T=n[R],b=t?t(T):T,new Kt(b,T.node,Kt.BLACK,C,B)}},l=function(p){let m=null,y=null,T=n.length;const b=function(C,B){const W=T-C,Y=T;T-=C;const J=a(W+1,Y),te=n[W],re=t?t(te):te;R(new Kt(re,te.node,B,null,J))},R=function(C){m?(m.left=C,m=C):(y=C,m=C)};for(let C=0;C<p.count;++C){const B=p.nextBitIsOne(),W=Math.pow(2,p.count-(C+1));B?b(W,Kt.BLACK):(b(W,Kt.BLACK),b(W,Kt.RED))}return y},c=new Z3(n.length),d=l(c);return new Cn(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg;const qo={};class Nr{static get Default(){return oe(qo&&Et,"ChildrenNode.ts has not been loaded"),jg=jg||new Nr({".priority":qo},{".priority":Et}),jg}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=rl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Cn?t:null}hasIndex(e){return jr(this.indexSet_,e.toString())}addIndex(e,t){oe(e!==il,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const l=t.getIterator(De.Wrap);let c=l.getNext();for(;c;)a=a||e.isDefinedOn(c.node),i.push(c),c=l.getNext();let d;a?d=vf(i,e.getCompare()):d=qo;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const y=Object.assign({},this.indexes_);return y[p]=d,new Nr(y,m)}addToIndexes(e,t){const i=Zd(this.indexes_,(a,l)=>{const c=rl(this.indexSet_,l);if(oe(c,"Missing index implementation for "+l),a===qo)if(c.isDefinedOn(e.node)){const d=[],p=t.getIterator(De.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),vf(d,c.getCompare())}else return qo;else{const d=t.get(e.name);let p=a;return d&&(p=p.remove(new De(e.name,d))),p.insert(e,e.node)}});return new Nr(i,this.indexSet_)}removeFromIndexes(e,t){const i=Zd(this.indexes_,a=>{if(a===qo)return a;{const l=t.get(e.name);return l?a.remove(new De(e.name,l)):a}});return new Nr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;class be{static get EMPTY_NODE(){return zc||(zc=new be(new Cn(Ky),null,Nr.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&CA(this.priorityNode_),this.children_.isEmpty()&&oe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zc}updatePriority(e){return this.children_.isEmpty()?this:new be(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?zc:t}}getChild(e){const t=We(e);return t===null?this:this.getImmediateChild(t).getChild(ct(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(oe(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new De(e,t);let a,l;t.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,t),l=this.indexMap_.addToIndexes(i,this.children_));const c=a.isEmpty()?zc:this.priorityNode_;return new be(a,c,l)}}updateChild(e,t){const i=We(e);if(i===null)return t;{oe(We(e)!==".priority"||Fs(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(ct(e),t);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,a=0,l=!0;if(this.forEachChild(Et,(c,d)=>{t[c]=d.val(e),i++,l&&be.INTEGER_REGEXP_.test(c)?a=Math.max(a,Number(c)):l=!1}),!e&&l&&a<2*i){const c=[];for(const d in t)c[d]=t[d];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+AA(this.getPriority().val())+":"),this.forEachChild(Et,(t,i)=>{const a=i.hash();a!==""&&(e+=":"+t+":"+a)}),this.lazyHash_=e===""?"":$R(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new De(e,t));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new De(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new De(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>t(a.name,a.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,De.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let l=a.peek();for(;l!=null&&t.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zu?-1:0}withIndex(e){if(e===il||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new be(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===il||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Et),a=t.getIterator(Et);let l=i.getNext(),c=a.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=i.getNext(),c=a.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===il?null:this.indexMap_.get(e.toString())}}be.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Y3 extends be{constructor(){super(new Cn(Ky),be.EMPTY_NODE,Nr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return be.EMPTY_NODE}isEmpty(){return!1}}const zu=new Y3;Object.defineProperties(De,{MIN:{value:new De(dl,be.EMPTY_NODE)},MAX:{value:new De(Ba,zu)}});RA.__EMPTY_NODE=be.EMPTY_NODE;Qt.__childrenNodeConstructor=be;B3(zu);H3(zu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=!0;function $t(n,e=null){if(n===null)return be.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),oe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Qt(t,$t(e))}if(!(n instanceof Array)&&J3){const t=[];let i=!1;if(xn(n,(c,d)=>{if(c.substring(0,1)!=="."){const p=$t(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new De(c,p)))}}),t.length===0)return be.EMPTY_NODE;const l=vf(t,j3,c=>c.name,Ky);if(i){const c=vf(t,Et.getCompare());return new be(l,$t(e),new Nr({".priority":c},{".priority":Et}))}else return new be(l,$t(e),Nr.Default)}else{let t=be.EMPTY_NODE;return xn(n,(i,a)=>{if(jr(n,i)&&i.substring(0,1)!=="."){const l=$t(a);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(i,l))}}),t.updatePriority($t(e))}}z3($t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3 extends ip{constructor(e){super(),this.indexPath_=e,oe(!Le(e)&&We(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),a=this.extractChild(t.node),l=i.compareTo(a);return l===0?Rl(e.name,t.name):l}makePost(e,t){const i=$t(e),a=be.EMPTY_NODE.updateChild(this.indexPath_,i);return new De(t,a)}maxPost(){const e=be.EMPTY_NODE.updateChild(this.indexPath_,zu);return new De(Ba,e)}toString(){return bA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3 extends ip{compare(e,t){const i=e.node.compareTo(t.node);return i===0?Rl(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,t){const i=$t(e);return new De(t,i)}toString(){return".value"}}const K3=new X3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n){return{type:"value",snapshotNode:n}}function fl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Tu(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Eu(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function $3(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this.index_=e}updateChild(e,t,i,a,l,c){oe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(a).equals(i.getChild(a))&&d.isEmpty()===i.isEmpty()||(c!=null&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(Tu(t,d)):oe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(fl(t,i)):c.trackChildChange(Eu(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Et,(a,l)=>{t.hasChild(a)||i.trackChildChange(Tu(a,l))}),t.isLeafNode()||t.forEachChild(Et,(a,l)=>{if(e.hasChild(a)){const c=e.getImmediateChild(a);c.equals(l)||i.trackChildChange(Eu(a,l,c))}else i.trackChildChange(fl(a,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?be.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.indexedFilter_=new $y(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bu.getStartPost_(e),this.endPost_=bu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,a,l,c){return this.matches(new De(t,i))||(i=be.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,a,l,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=be.EMPTY_NODE);let a=t.withIndex(this.index_);a=a.updatePriority(be.EMPTY_NODE);const l=this;return t.forEachChild(Et,(c,d)=>{l.matches(new De(c,d))||(a=a.updateImmediateChild(c,be.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new bu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,a,l,c){return this.rangedFilter_.matches(new De(t,i))||(i=be.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,a,l,c):this.fullLimitUpdateChild_(e,t,i,l,c)}updateFullNode(e,t,i){let a;if(t.isLeafNode()||t.isEmpty())a=be.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){a=be.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))a=a.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{a=t.withIndex(this.index_),a=a.updatePriority(be.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let c=0;for(;l.hasNext();){const d=l.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:a=a.updateImmediateChild(d.name,be.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,a,l){let c;if(this.reverse_){const T=this.index_.getCompare();c=(b,R)=>T(R,b)}else c=this.index_.getCompare();const d=e;oe(d.numChildren()===this.limit_,"");const p=new De(t,i),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(p);if(d.hasChild(t)){const T=d.getImmediateChild(t);let b=a.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===t||d.hasChild(b.name));)b=a.getChildAfterChild(this.index_,b,this.reverse_);const R=b==null?1:c(b,p);if(y&&!i.isEmpty()&&R>=0)return l!=null&&l.trackChildChange(Eu(t,i,T)),d.updateImmediateChild(t,i);{l!=null&&l.trackChildChange(Tu(t,T));const B=d.updateImmediateChild(t,be.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(l!=null&&l.trackChildChange(fl(b.name,b.node)),B.updateImmediateChild(b.name,b.node)):B}}else return i.isEmpty()?e:y&&c(m,p)>=0?(l!=null&&(l.trackChildChange(Tu(m.name,m.node)),l.trackChildChange(fl(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(m.name,be.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return oe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return oe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dl}hasEnd(){return this.endSet_}getIndexEndValue(){return oe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return oe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ba}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return oe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Et}copy(){const e=new ev;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function t6(n){return n.loadsAllData()?new $y(n.getIndex()):n.hasLimit()?new e6(n):new bu(n)}function $w(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Et?t="$priority":n.index_===K3?t="$value":n.index_===il?t="$key":(oe(n.index_ instanceof Q3,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Wt(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Wt(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Wt(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Wt(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Wt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function e1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Et&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends vA{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(oe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,a){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Bu("p:rest:"),this.listens_={}}listen(e,t,i,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=Tf.getListenId_(e,i),d={};this.listens_[c]=d;const p=$w(e._queryParams);this.restRequest_(l+".json",p,(m,y)=>{let T=y;if(m===404&&(T=null,m=null),m===null&&this.onDataUpdate_(l,T,!1,i),rl(this.listens_,c)===d){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",a(b,null)}})}unlisten(e,t){const i=Tf.getListenId_(e,t);delete this.listens_[i]}get(e){const t=$w(e._queryParams),i=e._path.toString(),a=new Df;return this.restRequest_(i+".json",t,(l,c)=>{let d=c;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),a.resolve(d)):a.reject(new Error(d))}),a.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(t.auth=a.accessToken),l&&l.token&&(t.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Tl(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=uu(d.responseText)}catch{On("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else d.status!==401&&d.status!==404&&On("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.rootNode_=be.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(){return{value:null,children:new Map}}function kA(n,e,t){if(Le(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=We(e);n.children.has(i)||n.children.set(i,Ef());const a=n.children.get(i);e=ct(e),kA(a,e,t)}}function V_(n,e,t){n.value!==null?t(e,n.value):i6(n,(i,a)=>{const l=new at(e.toString()+"/"+i);V_(a,l,t)})}function i6(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&xn(this.last_,(i,a)=>{t[i]=t[i]-a}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=10*1e3,s6=30*1e3,a6=5*60*1e3;class o6{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new r6(e);const i=t1+(s6-t1)*Math.random();su(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;xn(e,(a,l)=>{l>0&&jr(this.statsToReport_,a)&&(t[a]=l,i=!0)}),i&&this.server_.reportStats(t),su(this.reportStats_.bind(this),Math.floor(Math.random()*2*a6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yi||(yi={}));function VA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nv(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=yi.ACK_USER_WRITE,this.source=VA()}operationForChild(e){if(Le(this.path)){if(this.affectedTree.value!=null)return oe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new at(e));return new bf(Ge(),t,this.revert)}}else return oe(We(this.path)===e,"operationForChild called for unrelated child."),new bf(ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t){this.source=e,this.path=t,this.type=yi.LISTEN_COMPLETE}operationForChild(e){return Le(this.path)?new wu(this.source,Ge()):new wu(this.source,ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=yi.OVERWRITE}operationForChild(e){return Le(this.path)?new za(this.source,Ge(),this.snap.getImmediateChild(e)):new za(this.source,ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=yi.MERGE}operationForChild(e){if(Le(this.path)){const t=this.children.subtree(new at(e));return t.isEmpty()?null:t.value?new za(this.source,Ge(),t.value):new Su(this.source,Ge(),t)}else return oe(We(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Su(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Le(e))return this.isFullyInitialized()&&!this.filtered_;const t=We(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function c6(n,e,t,i){const a=[],l=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push($3(c.childName,c.snapshotNode))}),Hc(n,a,"child_removed",e,i,t),Hc(n,a,"child_added",e,i,t),Hc(n,a,"child_moved",l,i,t),Hc(n,a,"child_changed",e,i,t),Hc(n,a,"value",e,i,t),a}function Hc(n,e,t,i,a,l){const c=i.filter(d=>d.type===t);c.sort((d,p)=>h6(n,d,p)),c.forEach(d=>{const p=u6(n,d,l);a.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,n.query_))})})}function u6(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function h6(n,e,t){if(e.childName==null||t.childName==null)throw vl("Should only compare child_ events.");const i=new De(e.childName,e.snapshotNode),a=new De(t.childName,t.snapshotNode);return n.index_.compare(i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(n,e){return{eventCache:n,serverCache:e}}function au(n,e,t,i){return rp(new js(e,t,i),n.serverCache)}function DA(n,e,t,i){return rp(n.eventCache,new js(e,t,i))}function wf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ha(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg;const d6=()=>(Bg||(Bg=new Cn(X9)),Bg);class ut{static fromObject(e){let t=new ut(null);return xn(e,(i,a)=>{t=t.set(new at(i),a)}),t}constructor(e,t=d6()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ge(),value:this.value};if(Le(e))return null;{const i=We(e),a=this.children.get(i);if(a!==null){const l=a.findRootMostMatchingPathAndValue(ct(e),t);return l!=null?{path:jt(new at(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Le(e))return this;{const t=We(e),i=this.children.get(t);return i!==null?i.subtree(ct(e)):new ut(null)}}set(e,t){if(Le(e))return new ut(t,this.children);{const i=We(e),l=(this.children.get(i)||new ut(null)).set(ct(e),t),c=this.children.insert(i,l);return new ut(this.value,c)}}remove(e){if(Le(e))return this.children.isEmpty()?new ut(null):new ut(null,this.children);{const t=We(e),i=this.children.get(t);if(i){const a=i.remove(ct(e));let l;return a.isEmpty()?l=this.children.remove(t):l=this.children.insert(t,a),this.value===null&&l.isEmpty()?new ut(null):new ut(this.value,l)}else return this}}get(e){if(Le(e))return this.value;{const t=We(e),i=this.children.get(t);return i?i.get(ct(e)):null}}setTree(e,t){if(Le(e))return t;{const i=We(e),l=(this.children.get(i)||new ut(null)).setTree(ct(e),t);let c;return l.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,l),new ut(this.value,c)}}fold(e){return this.fold_(Ge(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((a,l)=>{i[a]=l.fold_(jt(e,a),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ge(),t)}findOnPath_(e,t,i){const a=this.value?i(t,this.value):!1;if(a)return a;if(Le(e))return null;{const l=We(e),c=this.children.get(l);return c?c.findOnPath_(ct(e),jt(t,l),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ge(),t)}foreachOnPath_(e,t,i){if(Le(e))return this;{this.value&&i(t,this.value);const a=We(e),l=this.children.get(a);return l?l.foreachOnPath_(ct(e),jt(t,a),i):new ut(null)}}foreach(e){this.foreach_(Ge(),e)}foreach_(e,t){this.children.inorderTraversal((i,a)=>{a.foreach_(jt(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.writeTree_=e}static empty(){return new Ti(new ut(null))}}function ou(n,e,t){if(Le(e))return new Ti(new ut(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const a=i.path;let l=i.value;const c=wn(a,e);return l=l.updateChild(c,t),new Ti(n.writeTree_.set(a,l))}else{const a=new ut(t),l=n.writeTree_.setTree(e,a);return new Ti(l)}}}function n1(n,e,t){let i=n;return xn(t,(a,l)=>{i=ou(i,jt(e,a),l)}),i}function i1(n,e){if(Le(e))return Ti.empty();{const t=n.writeTree_.setTree(e,new ut(null));return new Ti(t)}}function D_(n,e){return Xa(n,e)!=null}function Xa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(wn(t.path,e)):null}function r1(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Et,(i,a)=>{e.push(new De(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{a.value!=null&&e.push(new De(i,a.value))}),e}function xs(n,e){if(Le(e))return n;{const t=Xa(n,e);return t!=null?new Ti(new ut(t)):new Ti(n.writeTree_.subtree(e))}}function M_(n){return n.writeTree_.isEmpty()}function pl(n,e){return MA(Ge(),n.writeTree_,e)}function MA(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(oe(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):t=MA(jt(n,a),l,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(jt(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n,e){return WA(e,n)}function f6(n,e,t,i,a){oe(i>n.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:a}),a&&(n.visibleWrites=ou(n.visibleWrites,e,t)),n.lastWriteId=i}function p6(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function m6(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);oe(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let a=i.visible,l=!1,c=n.allWrites.length-1;for(;a&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&g6(d,i.path)?a=!1:_i(i.path,d.path)&&(l=!0)),c--}if(a){if(l)return _6(n),!0;if(i.snap)n.visibleWrites=i1(n.visibleWrites,i.path);else{const d=i.children;xn(d,p=>{n.visibleWrites=i1(n.visibleWrites,jt(i.path,p))})}return!0}else return!1}function g6(n,e){if(n.snap)return _i(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&_i(jt(n.path,t),e))return!0;return!1}function _6(n){n.visibleWrites=PA(n.allWrites,y6,Ge()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function y6(n){return n.visible}function PA(n,e,t){let i=Ti.empty();for(let a=0;a<n.length;++a){const l=n[a];if(e(l)){const c=l.path;let d;if(l.snap)_i(t,c)?(d=wn(t,c),i=ou(i,d,l.snap)):_i(c,t)&&(d=wn(c,t),i=ou(i,Ge(),l.snap.getChild(d)));else if(l.children){if(_i(t,c))d=wn(t,c),i=n1(i,d,l.children);else if(_i(c,t))if(d=wn(c,t),Le(d))i=n1(i,Ge(),l.children);else{const p=rl(l.children,We(d));if(p){const m=p.getChild(ct(d));i=ou(i,Ge(),m)}}}else throw vl("WriteRecord should have .snap or .children")}}return i}function UA(n,e,t,i,a){if(!i&&!a){const l=Xa(n.visibleWrites,e);if(l!=null)return l;{const c=xs(n.visibleWrites,e);if(M_(c))return t;if(t==null&&!D_(c,Ge()))return null;{const d=t||be.EMPTY_NODE;return pl(c,d)}}}else{const l=xs(n.visibleWrites,e);if(!a&&M_(l))return t;if(!a&&t==null&&!D_(l,Ge()))return null;{const c=function(m){return(m.visible||a)&&(!i||!~i.indexOf(m.writeId))&&(_i(m.path,e)||_i(e,m.path))},d=PA(n.allWrites,c,e),p=t||be.EMPTY_NODE;return pl(d,p)}}}function v6(n,e,t){let i=be.EMPTY_NODE;const a=Xa(n.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Et,(l,c)=>{i=i.updateImmediateChild(l,c)}),i;if(t){const l=xs(n.visibleWrites,e);return t.forEachChild(Et,(c,d)=>{const p=pl(xs(l,new at(c)),d);i=i.updateImmediateChild(c,p)}),r1(l).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}else{const l=xs(n.visibleWrites,e);return r1(l).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}}function T6(n,e,t,i,a){oe(i||a,"Either existingEventSnap or existingServerSnap must exist");const l=jt(e,t);if(D_(n.visibleWrites,l))return null;{const c=xs(n.visibleWrites,l);return M_(c)?a.getChild(t):pl(c,a.getChild(t))}}function E6(n,e,t,i){const a=jt(e,t),l=Xa(n.visibleWrites,a);if(l!=null)return l;if(i.isCompleteForChild(t)){const c=xs(n.visibleWrites,a);return pl(c,i.getNode().getImmediateChild(t))}else return null}function b6(n,e){return Xa(n.visibleWrites,e)}function w6(n,e,t,i,a,l,c){let d;const p=xs(n.visibleWrites,e),m=Xa(p,Ge());if(m!=null)d=m;else if(t!=null)d=pl(p,t);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const y=[],T=c.getCompare(),b=l?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let R=b.getNext();for(;R&&y.length<a;)T(R,i)!==0&&y.push(R),R=b.getNext();return y}else return[]}function S6(){return{visibleWrites:Ti.empty(),allWrites:[],lastWriteId:-1}}function Sf(n,e,t,i){return UA(n.writeTree,n.treePath,e,t,i)}function iv(n,e){return v6(n.writeTree,n.treePath,e)}function s1(n,e,t,i){return T6(n.writeTree,n.treePath,e,t,i)}function If(n,e){return b6(n.writeTree,jt(n.treePath,e))}function I6(n,e,t,i,a,l){return w6(n.writeTree,n.treePath,e,t,i,a,l)}function rv(n,e,t){return E6(n.writeTree,n.treePath,e,t)}function LA(n,e){return WA(jt(n.treePath,e),n.writeTree)}function WA(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;oe(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),oe(i!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const l=a.type;if(t==="child_added"&&l==="child_removed")this.changeMap.set(i,Eu(i,e.snapshotNode,a.snapshotNode));else if(t==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&l==="child_changed")this.changeMap.set(i,Tu(i,a.oldSnap));else if(t==="child_changed"&&l==="child_added")this.changeMap.set(i,fl(i,e.snapshotNode));else if(t==="child_changed"&&l==="child_changed")this.changeMap.set(i,Eu(i,e.snapshotNode,a.oldSnap));else throw vl("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const FA=new A6;class sv{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new js(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rv(this.writes_,e,i)}}getChildAfterChild(e,t,i){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ha(this.viewCache_),l=I6(this.writes_,a,t,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(n){return{filter:n}}function N6(n,e){oe(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),oe(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function O6(n,e,t,i,a){const l=new R6;let c,d;if(t.type===yi.OVERWRITE){const m=t;m.source.fromUser?c=P_(n,e,m.path,m.snap,i,a,l):(oe(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!Le(m.path),c=Rf(n,e,m.path,m.snap,i,a,d,l))}else if(t.type===yi.MERGE){const m=t;m.source.fromUser?c=k6(n,e,m.path,m.children,i,a,l):(oe(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),c=U_(n,e,m.path,m.children,i,a,d,l))}else if(t.type===yi.ACK_USER_WRITE){const m=t;m.revert?c=M6(n,e,m.path,i,a,l):c=V6(n,e,m.path,m.affectedTree,i,a,l)}else if(t.type===yi.LISTEN_COMPLETE)c=D6(n,e,t.path,i,l);else throw vl("Unknown operation type: "+t.type);const p=l.getChanges();return x6(e,c,p),{viewCache:c,changes:p}}function x6(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=wf(n);(t.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&t.push(xA(wf(e)))}}function jA(n,e,t,i,a,l){const c=e.eventCache;if(If(i,t)!=null)return e;{let d,p;if(Le(t))if(oe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Ha(e),y=m instanceof be?m:be.EMPTY_NODE,T=iv(i,y);d=n.filter.updateFullNode(e.eventCache.getNode(),T,l)}else{const m=Sf(i,Ha(e));d=n.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=We(t);if(m===".priority"){oe(Fs(t)===1,"Can't have a priority with additional path components");const y=c.getNode();p=e.serverCache.getNode();const T=s1(i,t,y,p);T!=null?d=n.filter.updatePriority(y,T):d=c.getNode()}else{const y=ct(t);let T;if(c.isCompleteForChild(m)){p=e.serverCache.getNode();const b=s1(i,t,c.getNode(),p);b!=null?T=c.getNode().getImmediateChild(m).updateChild(y,b):T=c.getNode().getImmediateChild(m)}else T=rv(i,m,e.serverCache);T!=null?d=n.filter.updateChild(c.getNode(),m,T,y,a,l):d=c.getNode()}}return au(e,d,c.isFullyInitialized()||Le(t),n.filter.filtersNodes())}}function Rf(n,e,t,i,a,l,c,d){const p=e.serverCache;let m;const y=c?n.filter:n.filter.getIndexedFilter();if(Le(t))m=y.updateFullNode(p.getNode(),i,null);else if(y.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(t,i);m=y.updateFullNode(p.getNode(),R,null)}else{const R=We(t);if(!p.isCompleteForPath(t)&&Fs(t)>1)return e;const C=ct(t),W=p.getNode().getImmediateChild(R).updateChild(C,i);R===".priority"?m=y.updatePriority(p.getNode(),W):m=y.updateChild(p.getNode(),R,W,C,FA,null)}const T=DA(e,m,p.isFullyInitialized()||Le(t),y.filtersNodes()),b=new sv(a,T,l);return jA(n,T,t,a,b,d)}function P_(n,e,t,i,a,l,c){const d=e.eventCache;let p,m;const y=new sv(a,e,l);if(Le(t))m=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=au(e,m,!0,n.filter.filtersNodes());else{const T=We(t);if(T===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),i),p=au(e,m,d.isFullyInitialized(),d.isFiltered());else{const b=ct(t),R=d.getNode().getImmediateChild(T);let C;if(Le(b))C=i;else{const B=y.getCompleteChild(T);B!=null?EA(b)===".priority"&&B.getChild(wA(b)).isEmpty()?C=B:C=B.updateChild(b,i):C=be.EMPTY_NODE}if(R.equals(C))p=e;else{const B=n.filter.updateChild(d.getNode(),T,C,b,y,c);p=au(e,B,d.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function a1(n,e){return n.eventCache.isCompleteForChild(e)}function k6(n,e,t,i,a,l,c){let d=e;return i.foreach((p,m)=>{const y=jt(t,p);a1(e,We(y))&&(d=P_(n,d,y,m,a,l,c))}),i.foreach((p,m)=>{const y=jt(t,p);a1(e,We(y))||(d=P_(n,d,y,m,a,l,c))}),d}function o1(n,e,t){return t.foreach((i,a)=>{e=e.updateChild(i,a)}),e}function U_(n,e,t,i,a,l,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;Le(t)?m=i:m=new ut(null).setTree(t,i);const y=e.serverCache.getNode();return m.children.inorderTraversal((T,b)=>{if(y.hasChild(T)){const R=e.serverCache.getNode().getImmediateChild(T),C=o1(n,R,b);p=Rf(n,p,new at(T),C,a,l,c,d)}}),m.children.inorderTraversal((T,b)=>{const R=!e.serverCache.isCompleteForChild(T)&&b.value===null;if(!y.hasChild(T)&&!R){const C=e.serverCache.getNode().getImmediateChild(T),B=o1(n,C,b);p=Rf(n,p,new at(T),B,a,l,c,d)}}),p}function V6(n,e,t,i,a,l,c){if(If(a,t)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(i.value!=null){if(Le(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return Rf(n,e,t,p.getNode().getChild(t),a,l,d,c);if(Le(t)){let m=new ut(null);return p.getNode().forEachChild(il,(y,T)=>{m=m.set(new at(y),T)}),U_(n,e,t,m,a,l,d,c)}else return e}else{let m=new ut(null);return i.foreach((y,T)=>{const b=jt(t,y);p.isCompleteForPath(b)&&(m=m.set(y,p.getNode().getChild(b)))}),U_(n,e,t,m,a,l,d,c)}}function D6(n,e,t,i,a){const l=e.serverCache,c=DA(e,l.getNode(),l.isFullyInitialized()||Le(t),l.isFiltered());return jA(n,c,t,i,FA,a)}function M6(n,e,t,i,a,l){let c;if(If(i,t)!=null)return e;{const d=new sv(i,e,a),p=e.eventCache.getNode();let m;if(Le(t)||We(t)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Sf(i,Ha(e));else{const T=e.serverCache.getNode();oe(T instanceof be,"serverChildren would be complete if leaf node"),y=iv(i,T)}y=y,m=n.filter.updateFullNode(p,y,l)}else{const y=We(t);let T=rv(i,y,e.serverCache);T==null&&e.serverCache.isCompleteForChild(y)&&(T=p.getImmediateChild(y)),T!=null?m=n.filter.updateChild(p,y,T,ct(t),d,l):e.eventCache.getNode().hasChild(y)?m=n.filter.updateChild(p,y,be.EMPTY_NODE,ct(t),d,l):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Sf(i,Ha(e)),c.isLeafNode()&&(m=n.filter.updateFullNode(m,c,l)))}return c=e.serverCache.isFullyInitialized()||If(i,Ge())!=null,au(e,m,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new $y(i.getIndex()),l=t6(i);this.processor_=C6(l);const c=t.serverCache,d=t.eventCache,p=a.updateFullNode(be.EMPTY_NODE,c.getNode(),null),m=l.updateFullNode(be.EMPTY_NODE,d.getNode(),null),y=new js(p,c.isFullyInitialized(),a.filtersNodes()),T=new js(m,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=rp(T,y),this.eventGenerator_=new l6(this.query_)}get query(){return this.query_}}function U6(n){return n.viewCache_.serverCache.getNode()}function L6(n){return wf(n.viewCache_)}function W6(n,e){const t=Ha(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Le(e)&&!t.getImmediateChild(We(e)).isEmpty())?t.getChild(e):null}function l1(n){return n.eventRegistrations_.length===0}function F6(n,e){n.eventRegistrations_.push(e)}function c1(n,e,t){const i=[];if(t){oe(e==null,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(t,a);c&&i.push(c)})}if(e){let a=[];for(let l=0;l<n.eventRegistrations_.length;++l){const c=n.eventRegistrations_[l];if(!c.matches(e))a.push(c);else if(e.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(l+1));break}}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function u1(n,e,t,i){e.type===yi.MERGE&&e.source.queryId!==null&&(oe(Ha(n.viewCache_),"We should always have a full cache before handling merges"),oe(wf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,l=O6(n.processor_,a,e,t,i);return N6(n.processor_,l.viewCache),oe(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,BA(n,l.changes,l.viewCache.eventCache.getNode(),null)}function j6(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Et,(l,c)=>{i.push(fl(l,c))}),t.isFullyInitialized()&&i.push(xA(t.getNode())),BA(n,i,t.getNode(),e)}function BA(n,e,t,i){const a=i?[i]:n.eventRegistrations_;return c6(n.eventGenerator_,e,t,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;class zA{constructor(){this.views=new Map}}function B6(n){oe(!Af,"__referenceConstructor has already been defined"),Af=n}function z6(){return oe(Af,"Reference.ts has not been loaded"),Af}function H6(n){return n.views.size===0}function av(n,e,t,i){const a=e.source.queryId;if(a!==null){const l=n.views.get(a);return oe(l!=null,"SyncTree gave us an op for an invalid query."),u1(l,e,t,i)}else{let l=[];for(const c of n.views.values())l=l.concat(u1(c,e,t,i));return l}}function HA(n,e,t,i,a){const l=e._queryIdentifier,c=n.views.get(l);if(!c){let d=Sf(t,a?i:null),p=!1;d?p=!0:i instanceof be?(d=iv(t,i),p=!1):(d=be.EMPTY_NODE,p=!1);const m=rp(new js(d,p,!1),new js(i,a,!1));return new P6(e,m)}return c}function q6(n,e,t,i,a,l){const c=HA(n,e,i,a,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),F6(c,t),j6(c,t)}function G6(n,e,t,i){const a=e._queryIdentifier,l=[];let c=[];const d=Bs(n);if(a==="default")for(const[p,m]of n.views.entries())c=c.concat(c1(m,t,i)),l1(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||l.push(m.query));else{const p=n.views.get(a);p&&(c=c.concat(c1(p,t,i)),l1(p)&&(n.views.delete(a),p.query._queryParams.loadsAllData()||l.push(p.query)))}return d&&!Bs(n)&&l.push(new(z6())(e._repo,e._path)),{removed:l,events:c}}function qA(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ks(n,e){let t=null;for(const i of n.views.values())t=t||W6(i,e);return t}function GA(n,e){if(e._queryParams.loadsAllData())return ap(n);{const i=e._queryIdentifier;return n.views.get(i)}}function ZA(n,e){return GA(n,e)!=null}function Bs(n){return ap(n)!=null}function ap(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;function Z6(n){oe(!Cf,"__referenceConstructor has already been defined"),Cf=n}function Y6(){return oe(Cf,"Reference.ts has not been loaded"),Cf}let J6=1;class h1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ut(null),this.pendingWriteTree_=S6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function YA(n,e,t,i,a){return f6(n.pendingWriteTree_,e,t,i,a),a?qu(n,new za(VA(),e,t)):[]}function Da(n,e,t=!1){const i=p6(n.pendingWriteTree_,e);if(m6(n.pendingWriteTree_,e)){let l=new ut(null);return i.snap!=null?l=l.set(Ge(),!0):xn(i.children,c=>{l=l.set(new at(c),!0)}),qu(n,new bf(i.path,l,t))}else return[]}function Hu(n,e,t){return qu(n,new za(tv(),e,t))}function Q6(n,e,t){const i=ut.fromObject(t);return qu(n,new Su(tv(),e,i))}function X6(n,e){return qu(n,new wu(tv(),e))}function K6(n,e,t){const i=lv(n,t);if(i){const a=cv(i),l=a.path,c=a.queryId,d=wn(l,e),p=new wu(nv(c),d);return uv(n,l,p)}else return[]}function JA(n,e,t,i,a=!1){const l=e._path,c=n.syncPointTree_.get(l);let d=[];if(c&&(e._queryIdentifier==="default"||ZA(c,e))){const p=G6(c,e,t,i);H6(c)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const m=p.removed;if(d=p.events,!a){const y=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,T=n.syncPointTree_.findOnPath(l,(b,R)=>Bs(R));if(y&&!T){const b=n.syncPointTree_.subtree(l);if(!b.isEmpty()){const R=nU(b);for(let C=0;C<R.length;++C){const B=R[C],W=B.query,Y=$A(n,B);n.listenProvider_.startListening(lu(W),Iu(n,W),Y.hashFn,Y.onComplete)}}}!T&&m.length>0&&!i&&(y?n.listenProvider_.stopListening(lu(e),null):m.forEach(b=>{const R=n.queryToTagMap.get(op(b));n.listenProvider_.stopListening(lu(b),R)}))}iU(n,m)}return d}function QA(n,e,t,i){const a=lv(n,i);if(a!=null){const l=cv(a),c=l.path,d=l.queryId,p=wn(c,e),m=new za(nv(d),p,t);return uv(n,c,m)}else return[]}function $6(n,e,t,i){const a=lv(n,i);if(a){const l=cv(a),c=l.path,d=l.queryId,p=wn(c,e),m=ut.fromObject(t),y=new Su(nv(d),p,m);return uv(n,c,y)}else return[]}function eU(n,e,t,i=!1){const a=e._path;let l=null,c=!1;n.syncPointTree_.foreachOnPath(a,(b,R)=>{const C=wn(b,a);l=l||ks(R,C),c=c||Bs(R)});let d=n.syncPointTree_.get(a);d?(c=c||Bs(d),l=l||ks(d,Ge())):(d=new zA,n.syncPointTree_=n.syncPointTree_.set(a,d));let p;l!=null?p=!0:(p=!1,l=be.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((R,C)=>{const B=ks(C,Ge());B&&(l=l.updateImmediateChild(R,B))}));const m=ZA(d,e);if(!m&&!e._queryParams.loadsAllData()){const b=op(e);oe(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const R=rU();n.queryToTagMap.set(b,R),n.tagToQueryMap.set(R,b)}const y=sp(n.pendingWriteTree_,a);let T=q6(d,e,t,y,l,p);if(!m&&!c&&!i){const b=GA(d,e);T=T.concat(sU(n,e,b))}return T}function ov(n,e,t){const a=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(c,d)=>{const p=wn(c,e),m=ks(d,p);if(m)return m});return UA(a,e,l,t,!0)}function tU(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(m,y)=>{const T=wn(m,t);i=i||ks(y,T)});let a=n.syncPointTree_.get(t);a?i=i||ks(a,Ge()):(a=new zA,n.syncPointTree_=n.syncPointTree_.set(t,a));const l=i!=null,c=l?new js(i,!0,!1):null,d=sp(n.pendingWriteTree_,e._path),p=HA(a,e,d,l?c.getNode():be.EMPTY_NODE,l);return L6(p)}function qu(n,e){return XA(e,n.syncPointTree_,null,sp(n.pendingWriteTree_,Ge()))}function XA(n,e,t,i){if(Le(n.path))return KA(n,e,t,i);{const a=e.get(Ge());t==null&&a!=null&&(t=ks(a,Ge()));let l=[];const c=We(n.path),d=n.operationForChild(c),p=e.children.get(c);if(p&&d){const m=t?t.getImmediateChild(c):null,y=LA(i,c);l=l.concat(XA(d,p,m,y))}return a&&(l=l.concat(av(a,n,i,t))),l}}function KA(n,e,t,i){const a=e.get(Ge());t==null&&a!=null&&(t=ks(a,Ge()));let l=[];return e.children.inorderTraversal((c,d)=>{const p=t?t.getImmediateChild(c):null,m=LA(i,c),y=n.operationForChild(c);y&&(l=l.concat(KA(y,d,p,m)))}),a&&(l=l.concat(av(a,n,i,t))),l}function $A(n,e){const t=e.query,i=Iu(n,t);return{hashFn:()=>(U6(e)||be.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return i?K6(n,t._path,i):X6(n,t._path);{const l=e3(a,t);return JA(n,t,null,l)}}}}function Iu(n,e){const t=op(e);return n.queryToTagMap.get(t)}function op(n){return n._path.toString()+"$"+n._queryIdentifier}function lv(n,e){return n.tagToQueryMap.get(e)}function cv(n){const e=n.indexOf("$");return oe(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new at(n.substr(0,e))}}function uv(n,e,t){const i=n.syncPointTree_.get(e);oe(i,"Missing sync point for query tag that we're tracking");const a=sp(n.pendingWriteTree_,e);return av(i,t,a,null)}function nU(n){return n.fold((e,t,i)=>{if(t&&Bs(t))return[ap(t)];{let a=[];return t&&(a=qA(t)),xn(i,(l,c)=>{a=a.concat(c)}),a}})}function lu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Y6())(n._repo,n._path):n}function iU(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const a=op(i),l=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(l)}}}function rU(){return J6++}function sU(n,e,t){const i=e._path,a=Iu(n,e),l=$A(n,t),c=n.listenProvider_.startListening(lu(e),a,l.hashFn,l.onComplete),d=n.syncPointTree_.subtree(i);if(a)oe(!Bs(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,y,T)=>{if(!Le(m)&&y&&Bs(y))return[ap(y).query];{let b=[];return y&&(b=b.concat(qA(y).map(R=>R.query))),xn(T,(R,C)=>{b=b.concat(C)}),b}});for(let m=0;m<p.length;++m){const y=p[m];n.listenProvider_.stopListening(lu(y),Iu(n,y))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hv(t)}node(){return this.node_}}class dv{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=jt(this.path_,e);return new dv(this.syncTree_,t)}node(){return ov(this.syncTree_,this.path_)}}const aU=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},d1=function(n,e,t){if(!n||typeof n!="object")return n;if(oe(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return oU(n[".sv"],e,t);if(typeof n[".sv"]=="object")return lU(n[".sv"],e);oe(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},oU=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:oe(!1,"Unexpected server value: "+n)}},lU=function(n,e,t){n.hasOwnProperty("increment")||oe(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&oe(!1,"Unexpected increment value: "+i);const a=e.node();if(oe(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const c=a.getValue();return typeof c!="number"?i:c+i},cU=function(n,e,t,i){return fv(e,new dv(t,n),i)},eC=function(n,e,t){return fv(n,new hv(e),t)};function fv(n,e,t){const i=n.getPriority().val(),a=d1(i,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const c=n,d=d1(c.getValue(),e,t);return d!==c.getValue()||a!==c.getPriority().val()?new Qt(d,$t(a)):n}else{const c=n;return l=c,a!==c.getPriority().val()&&(l=l.updatePriority(new Qt(a))),c.forEachChild(Et,(d,p)=>{const m=fv(p,e.getImmediateChild(d),t);m!==p&&(l=l.updateImmediateChild(d,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function mv(n,e){let t=e instanceof at?e:new at(e),i=n,a=We(t);for(;a!==null;){const l=rl(i.node.children,a)||{children:{},childCount:0};i=new pv(a,i,l),t=ct(t),a=We(t)}return i}function Cl(n){return n.node.value}function tC(n,e){n.node.value=e,L_(n)}function nC(n){return n.node.childCount>0}function uU(n){return Cl(n)===void 0&&!nC(n)}function lp(n,e){xn(n.node.children,(t,i)=>{e(new pv(t,n,i))})}function iC(n,e,t,i){t&&e(n),lp(n,a=>{iC(a,e,!0)})}function hU(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Gu(n){return new at(n.parent===null?n.name:Gu(n.parent)+"/"+n.name)}function L_(n){n.parent!==null&&dU(n.parent,n.name,n)}function dU(n,e,t){const i=uU(t),a=jr(n.node.children,e);i&&a?(delete n.node.children[e],n.node.childCount--,L_(n)):!i&&!a&&(n.node.children[e]=t.node,n.node.childCount++,L_(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=/[\[\].#$\/\u0000-\u001F\u007F]/,pU=/[\[\].#$\u0000-\u001F\u007F]/,zg=10*1024*1024,rC=function(n){return typeof n=="string"&&n.length!==0&&!fU.test(n)},sC=function(n){return typeof n=="string"&&n.length!==0&&!pU.test(n)},mU=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sC(n)},gU=function(n,e,t,i){gv(ey(n,"value"),e,t)},gv=function(n,e,t){const i=t instanceof at?new V3(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Oa(i));if(typeof e=="function")throw new Error(n+"contains a function "+Oa(i)+" with contents = "+e.toString());if(eA(e))throw new Error(n+"contains "+e.toString()+" "+Oa(i));if(typeof e=="string"&&e.length>zg/3&&Uf(e)>zg)throw new Error(n+"contains a string greater than "+zg+" utf8 bytes "+Oa(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(xn(e,(c,d)=>{if(c===".value")a=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!rC(c)))throw new Error(n+" contains an invalid key ("+c+") "+Oa(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);D3(i,c),gv(n,d,i),M3(i)}),a&&l)throw new Error(n+' contains ".value" child '+Oa(i)+" in addition to actual children.")}},aC=function(n,e,t,i){if(!sC(t))throw new Error(ey(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_U=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),aC(n,e,t)},yU=function(n,e){if(We(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},vU=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!mU(t))throw new Error(ey(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oC(n,e){let t=null;for(let i=0;i<e.length;i++){const a=e[i],l=a.getPath();t!==null&&!SA(l,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:l}),t.events.push(a)}t&&n.eventLists_.push(t)}function Qi(n,e,t){oC(n,t),EU(n,i=>_i(i,e)||_i(e,i))}function EU(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];if(a){const l=a.path;e(l)?(bU(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function bU(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();ru&&mn("event: "+t.toString()),Al(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="repo_interrupt",SU=25;class IU{constructor(e,t,i,a){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ef(),this.transactionQueueTree_=new pv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RU(n,e,t){if(n.stats_=Jy(n.repoInfo_),n.forceRestClient_||r3())n.server_=new Tf(n.repoInfo_,(i,a,l,c)=>{f1(n,i,a,l,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>p1(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Wt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new kr(n.repoInfo_,e,(i,a,l,c)=>{f1(n,i,a,l,c)},i=>{p1(n,i)},i=>{CU(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=c3(n.repoInfo_,()=>new o6(n.stats_,n.server_)),n.infoData_=new n6,n.infoSyncTree_=new h1({startListening:(i,a,l,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=Hu(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),yv(n,"connected",!1),n.serverSyncTree_=new h1({startListening:(i,a,l,c)=>(n.server_.listen(i,l,a,(d,p)=>{const m=c(d,p);Qi(n.eventQueue_,i._path,m)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}function AU(n){const t=n.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function _v(n){return aU({timestamp:AU(n)})}function f1(n,e,t,i,a){n.dataUpdateCount++;const l=new at(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(a)if(i){const p=Zd(t,m=>$t(m));c=$6(n.serverSyncTree_,l,p,a)}else{const p=$t(t);c=QA(n.serverSyncTree_,l,p,a)}else if(i){const p=Zd(t,m=>$t(m));c=Q6(n.serverSyncTree_,l,p)}else{const p=$t(t);c=Hu(n.serverSyncTree_,l,p)}let d=l;c.length>0&&(d=up(n,l)),Qi(n.eventQueue_,d,c)}function p1(n,e){yv(n,"connected",e),e===!1&&xU(n)}function CU(n,e){xn(e,(t,i)=>{yv(n,t,i)})}function yv(n,e,t){const i=new at("/.info/"+e),a=$t(t);n.infoData_.updateSnapshot(i,a);const l=Hu(n.infoSyncTree_,i,a);Qi(n.eventQueue_,i,l)}function lC(n){return n.nextWriteId_++}function NU(n,e,t){const i=tU(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(a=>{const l=$t(a).withIndex(e._queryParams.getIndex());eU(n.serverSyncTree_,e,t,!0);let c;if(e._queryParams.loadsAllData())c=Hu(n.serverSyncTree_,e._path,l);else{const d=Iu(n.serverSyncTree_,e);c=QA(n.serverSyncTree_,e._path,l,d)}return Qi(n.eventQueue_,e._path,c),JA(n.serverSyncTree_,e,t,null,!0),l},a=>(cp(n,"get for query "+Wt(e)+" failed: "+a),Promise.reject(new Error(a))))}function OU(n,e,t,i,a){cp(n,"set",{path:e.toString(),value:t,priority:i});const l=_v(n),c=$t(t,i),d=ov(n.serverSyncTree_,e),p=eC(c,d,l),m=lC(n),y=YA(n.serverSyncTree_,e,p,m,!0);oC(n.eventQueue_,y),n.server_.put(e.toString(),c.val(!0),(b,R)=>{const C=b==="ok";C||On("set at "+e+" failed: "+b);const B=Da(n.serverSyncTree_,m,!C);Qi(n.eventQueue_,e,B),VU(n,a,b,R)});const T=fC(n,e);up(n,T),Qi(n.eventQueue_,T,[])}function xU(n){cp(n,"onDisconnectEvents");const e=_v(n),t=Ef();V_(n.onDisconnect_,Ge(),(a,l)=>{const c=cU(a,l,n.serverSyncTree_,e);kA(t,a,c)});let i=[];V_(t,Ge(),(a,l)=>{i=i.concat(Hu(n.serverSyncTree_,a,l));const c=fC(n,a);up(n,c)}),n.onDisconnect_=Ef(),Qi(n.eventQueue_,Ge(),i)}function kU(n){n.persistentConnection_&&n.persistentConnection_.interrupt(wU)}function cp(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),mn(t,...e)}function VU(n,e,t,i){e&&Al(()=>{if(t==="ok")e(null);else{const a=(t||"error").toUpperCase();let l=a;i&&(l+=": "+i);const c=new Error(l);c.code=a,e(c)}})}function cC(n,e,t){return ov(n.serverSyncTree_,e,t)||be.EMPTY_NODE}function vv(n,e=n.transactionQueueTree_){if(e||hp(n,e),Cl(e)){const t=hC(n,e);oe(t.length>0,"Sending zero length transaction queue"),t.every(a=>a.status===0)&&DU(n,Gu(e),t)}else nC(e)&&lp(e,t=>{vv(n,t)})}function DU(n,e,t){const i=t.map(m=>m.currentWriteId),a=cC(n,e,i);let l=a;const c=a.hash();for(let m=0;m<t.length;m++){const y=t[m];oe(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const T=wn(e,y.path);l=l.updateChild(T,y.currentOutputSnapshotRaw)}const d=l.val(!0),p=e;n.server_.put(p.toString(),d,m=>{cp(n,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const T=[];for(let b=0;b<t.length;b++)t[b].status=2,y=y.concat(Da(n.serverSyncTree_,t[b].currentWriteId)),t[b].onComplete&&T.push(()=>t[b].onComplete(null,!0,t[b].currentOutputSnapshotResolved)),t[b].unwatcher();hp(n,mv(n.transactionQueueTree_,e)),vv(n,n.transactionQueueTree_),Qi(n.eventQueue_,e,y);for(let b=0;b<T.length;b++)Al(T[b])}else{if(m==="datastale")for(let T=0;T<t.length;T++)t[T].status===3?t[T].status=4:t[T].status=0;else{On("transaction at "+p.toString()+" failed: "+m);for(let T=0;T<t.length;T++)t[T].status=4,t[T].abortReason=m}up(n,e)}},c)}function up(n,e){const t=uC(n,e),i=Gu(t),a=hC(n,t);return MU(n,a,i),i}function MU(n,e,t){if(e.length===0)return;const i=[];let a=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=wn(t,p.path);let y=!1,T;if(oe(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,T=p.abortReason,a=a.concat(Da(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=SU)y=!0,T="maxretry",a=a.concat(Da(n.serverSyncTree_,p.currentWriteId,!0));else{const b=cC(n,p.path,c);p.currentInputSnapshot=b;const R=e[d].update(b.val());if(R!==void 0){gv("transaction failed: Data returned ",R,p.path);let C=$t(R);typeof R=="object"&&R!=null&&jr(R,".priority")||(C=C.updatePriority(b.getPriority()));const W=p.currentWriteId,Y=_v(n),J=eC(C,b,Y);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=J,p.currentWriteId=lC(n),c.splice(c.indexOf(W),1),a=a.concat(YA(n.serverSyncTree_,p.path,J,p.currentWriteId,p.applyLocally)),a=a.concat(Da(n.serverSyncTree_,W,!0))}else y=!0,T="nodata",a=a.concat(Da(n.serverSyncTree_,p.currentWriteId,!0))}Qi(n.eventQueue_,t,a),a=[],y&&(e[d].status=2,function(b){setTimeout(b,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(T==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(T),!1,null))))}hp(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Al(i[d]);vv(n,n.transactionQueueTree_)}function uC(n,e){let t,i=n.transactionQueueTree_;for(t=We(e);t!==null&&Cl(i)===void 0;)i=mv(i,t),e=ct(e),t=We(e);return i}function hC(n,e){const t=[];return dC(n,e,t),t.sort((i,a)=>i.order-a.order),t}function dC(n,e,t){const i=Cl(e);if(i)for(let a=0;a<i.length;a++)t.push(i[a]);lp(e,a=>{dC(n,a,t)})}function hp(n,e){const t=Cl(e);if(t){let i=0;for(let a=0;a<t.length;a++)t[a].status!==2&&(t[i]=t[a],i++);t.length=i,tC(e,t.length>0?t:void 0)}lp(e,i=>{hp(n,i)})}function fC(n,e){const t=Gu(uC(n,e)),i=mv(n.transactionQueueTree_,e);return hU(i,a=>{Hg(n,a)}),Hg(n,i),iC(i,a=>{Hg(n,a)}),t}function Hg(n,e){const t=Cl(e);if(t){const i=[];let a=[],l=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(oe(l===c-1,"All SENT items should be at beginning of queue."),l=c,t[c].status=3,t[c].abortReason="set"):(oe(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),a=a.concat(Da(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?tC(e,void 0):t.length=l+1,Qi(n.eventQueue_,Gu(e),a);for(let c=0;c<i.length;c++)Al(i[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let a=t[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function UU(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):On(`Invalid query segment '${t}' in query '${n}'`)}return e}const m1=function(n,e){const t=LU(n),i=t.namespace;t.domain==="firebase.com"&&Wr(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Wr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||J9();const a=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new dA(t.host,t.secure,i,a,e,"",i!==t.subdomain),path:new at(t.pathString)}},LU=function(n){let e="",t="",i="",a="",l="",c=!0,d="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(d=n.substring(0,m-1),n=n.substring(m+2));let y=n.indexOf("/");y===-1&&(y=n.length);let T=n.indexOf("?");T===-1&&(T=n.length),e=n.substring(0,Math.min(y,T)),y<T&&(a=PU(n.substring(y,T)));const b=UU(n.substring(Math.min(n.length,T)));m=e.indexOf(":"),m>=0?(c=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const R=e.slice(0,m);if(R.toLowerCase()==="localhost")t="localhost";else if(R.split(".").length<=2)t=R;else{const C=e.indexOf(".");i=e.substring(0,C).toLowerCase(),t=e.substring(C+1),l=i}"ns"in b&&(l=b.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:d,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,t,i,a){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Wt(this.snapshot.exportVal())}}class FU{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return oe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t,i,a){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=a}get key(){return Le(this._path)?null:EA(this._path)}get ref(){return new Hr(this._repo,this._path)}get _queryIdentifier(){const e=e1(this._queryParams),t=Zy(e);return t==="{}"?"default":t}get _queryObject(){return e1(this._queryParams)}isEqual(e){if(e=ht(e),!(e instanceof Tv))return!1;const t=this._repo===e._repo,i=SA(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return t&&i&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+k3(this._path)}}class Hr extends Tv{constructor(e,t){super(e,t,new ev,!1)}get parent(){const e=wA(this._path);return e===null?null:new Hr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ru{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new at(e),i=W_(this.ref,e);return new Ru(this._node.getChild(t),i,Et)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,a)=>e(new Ru(a,W_(this.ref,i),Et)))}hasChild(e){const t=new at(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pC(n,e){return n=ht(n),n._checkNotDeleted("ref"),e!==void 0?W_(n._root,e):n._root}function W_(n,e){return n=ht(n),We(n._path)===null?_U("child","path",e):aC("child","path",e),new Hr(n._repo,jt(n._path,e))}function BU(n,e){n=ht(n),yU("set",n._path),gU("set",e,n._path);const t=new Df;return OU(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function zU(n){n=ht(n);const e=new jU(()=>{}),t=new Ev(e);return NU(n._repo,n,t).then(i=>new Ru(i,new Hr(n._repo,n._path),n._queryParams.getIndex()))}class Ev{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new WU("value",this,new Ru(e.snapshotNode,new Hr(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new FU(this,e,t):null}matches(e){return e instanceof Ev?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}B6(Hr);Z6(Hr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="FIREBASE_DATABASE_EMULATOR_HOST",F_={};let qU=!1;function GU(n,e,t,i){const a=e.lastIndexOf(":"),l=e.substring(0,a),c=Fr(l);n.repoInfo_=new dA(e,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function ZU(n,e,t,i,a){let l=i||n.options.databaseURL;l===void 0&&(n.options.projectId||Wr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mn("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=m1(l,a),d=c.repoInfo,p;typeof process<"u"&&Pw&&(p=Pw[HU]),p?(l=`http://${p}?ns=${d.namespace}`,c=m1(l,a),d=c.repoInfo):c.repoInfo.secure;const m=new a3(n.name,n.options,e);vU("Invalid Firebase Database URL",c),Le(c.path)||Wr("Database URL must point to the root of a Firebase Database (not including a child path).");const y=JU(d,n,m,new s3(n,t));return new QU(y,n)}function YU(n,e){const t=F_[e];(!t||t[n.key]!==n)&&Wr(`Database ${e}(${n.repoInfo_}) has already been deleted.`),kU(n),delete t[n.key]}function JU(n,e,t,i){let a=F_[e.name];a||(a={},F_[e.name]=a);let l=a[n.toURLString()];return l&&Wr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new IU(n,qU,t,i),a[n.toURLString()]=l,l}class QU{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hr(this._repo,Ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(YU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wr("Cannot call "+e+" on a deleted database.")}}function XU(n=xu(),e){const t=Br(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=X_("database");i&&KU(t,...i)}return t}function KU(n,e,t,i={}){n=ht(n),n._checkNotDeleted("useEmulator");const a=`${e}:${t}`,l=n._repoInternal;if(n._instanceStarted){if(a===n._repoInternal.repoInfo_.host&&Dr(i,l.repoInfo_.emulatorOptions))return;Wr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)i.mockUserToken&&Wr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new zd(zd.OWNER);else if(i.mockUserToken){const d=typeof i.mockUserToken=="string"?i.mockUserToken:K_(i.mockUserToken,n.app.options.projectId);c=new zd(d)}Fr(e)&&(Mf(e),Pf("Database",!0)),GU(l,a,i,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(n){z9(Hs),si(new zn("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return ZU(i,a,l,t)},"PUBLIC").setMultipleInstances(!0)),gn(Uw,Lw,n),gn(Uw,Lw,"esm2017")}kr.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};kr.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};$U();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="firebasestorage.googleapis.com",eL="storageBucket",tL=2*60*1e3,nL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends ai{constructor(e,t,i=0){super(qg(e),`Firebase Storage: ${t} (${qg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xi||(Xi={}));function qg(n){return"storage/"+n}function iL(){const n="An unknown error occurred, please check the error payload for server response.";return new $i(Xi.UNKNOWN,n)}function rL(){return new $i(Xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sL(){return new $i(Xi.CANCELED,"User canceled the upload/download.")}function aL(n){return new $i(Xi.INVALID_URL,"Invalid URL '"+n+"'.")}function oL(n){return new $i(Xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function g1(n){return new $i(Xi.INVALID_ARGUMENT,n)}function gC(){return new $i(Xi.APP_DELETED,"The Firebase app was deleted.")}function lL(n){return new $i(Xi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=vi.makeFromUrl(e,t)}catch{return new vi(e,"")}if(i.path==="")return i;throw oL(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(re){re.path_=decodeURIComponent(re.path)}const y="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${T}/${y}/b/${a}/o${b}`,"i"),C={bucket:1,path:3},B=t===mC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,W="([^?#]*)",Y=new RegExp(`^https?://${B}/${a}/${W}`,"i"),te=[{regex:d,indices:p,postModify:l},{regex:R,indices:C,postModify:m},{regex:Y,indices:{bucket:1,path:2},postModify:m}];for(let re=0;re<te.length;re++){const ue=te[re],ve=ue.regex.exec(e);if(ve){const M=ve[ue.indices.bucket];let A=ve[ue.indices.path];A||(A=""),i=new vi(M,A),ue.postModify(i);break}}if(i==null)throw aL(e);return i}}class cL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let m=!1;function y(...W){m||(m=!0,e.apply(null,W))}function T(W){a=setTimeout(()=>{a=null,n(R,p())},W)}function b(){l&&clearTimeout(l)}function R(W,...Y){if(m){b();return}if(W){b(),y.call(null,W,...Y);return}if(p()||c){b(),y.call(null,W,...Y);return}i<64&&(i*=2);let te;d===1?(d=2,te=0):te=(i+Math.random())*1e3,T(te)}let C=!1;function B(W){C||(C=!0,b(),!m&&(a!==null?(W||(d=2),clearTimeout(a),T(0)):W||(d=1)))}return T(0),l=setTimeout(()=>{c=!0,B(!0)},t),B}function hL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(n){return n!==void 0}function _1(n,e,t,i){if(i<e)throw g1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw g1(`Invalid value for '${n}'. Expected ${t} or less.`)}function fL(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Nf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Nf||(Nf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,t,i,a,l,c,d,p,m,y,T,b=!0,R=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=T,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,B)=>{this.resolve_=C,this.reject_=B,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Nd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Nf.NO_ERROR,p=l.getStatus();if(!d||pL(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Nf.ABORT;i(!1,new Nd(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;i(!0,new Nd(m,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());dL(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=iL();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?gC():sL();c(p)}else{const p=rL();c(p)}};this.canceled_?t(!1,new Nd(!1,null,!0)):this.backoffId_=uL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function gL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function _L(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function vL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function TL(n,e,t,i,a,l,c=!0,d=!1){const p=fL(n.urlParams),m=n.url+p,y=Object.assign({},n.headers);return yL(y,e),gL(y,t),_L(y,l),vL(y,i),new mL(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function bL(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t){this._service=e,t instanceof vi?this._location=t:this._location=vi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Of(e,t)}get root(){const e=new vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bL(this._location.path)}get storage(){return this._service}get parent(){const e=EL(this._location.path);if(e===null)return null;const t=new vi(this._location.bucket,e);return new Of(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw lL(e)}}function y1(n,e){const t=e==null?void 0:e[eL];return t==null?null:vi.makeFromBucketSpec(t,n)}function wL(n,e,t,i={}){n.host=`${e}:${t}`;const a=Fr(e);a&&(Mf(`https://${n.host}/b`),Pf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:K_(l,n.app.options.projectId))}class SL{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=mC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tL,this._maxUploadRetryTime=nL,this._requests=new Set,a!=null?this._bucket=vi.makeFromBucketSpec(a,this._host):this._bucket=y1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vi.makeFromBucketSpec(this._url,e):this._bucket=y1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Of(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new cL(gC());{const c=TL(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const v1="@firebase/storage",T1="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="storage";function IL(n=xu(),e){n=ht(n);const i=Br(n,_C).getImmediate({identifier:e}),a=X_("storage");return a&&RL(i,...a),i}function RL(n,e,t,i={}){wL(n,e,t,i)}function AL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new SL(t,i,a,e,Hs)}function CL(){si(new zn(_C,AL,"PUBLIC").setMultipleInstances(!0)),gn(v1,T1,""),gn(v1,T1,"esm2017")}CL();const NL={apiKey:"AIzaSyDzfp4ZE6PPqF37t8jHMjo2E7F7CLHp4GY",authDomain:"xprime-3973c.firebaseapp.com",projectId:"xprime-3973c",storageBucket:"xprime-3973c.firebasestorage.app",messagingSenderId:"237348420750",appId:"1:237348420750:web:ea697bfde946b658c41ddf",measurementId:"G-8V5EM4XPCR",databaseURL:"https://xprime-3973c-default-rtdb.firebaseio.com/"},Zu=sS(NL),ml=hy(Zu),Od=fR(Zu),yC=XU(Zu);IL(Zu);W9(Zu);const OL=()=>{const[n,e]=L.useState(null),[t,i]=L.useState(!0),[a,l]=L.useState(null);if(L.useEffect(()=>{(async()=>{try{const b=ml.currentUser;if(!b){l("No user is currently logged in."),i(!1);return}const R=pC(yC,"users/"+b.uid),C=await zU(R);C.exists()?e(C.val()):l("User data not found.")}catch(b){l("Failed to fetch user data: "+b.message)}finally{i(!1)}})()},[]),t)return w.jsx("div",{className:"profile-container",children:w.jsx("p",{children:"Loading user data..."})});if(a)return w.jsx("div",{className:"profile-container",children:w.jsx("p",{className:"error-message",children:a})});const{fullName:c,email:d,mobileNumber:p,gender:m,birthdate:y}=n||{};return w.jsxs("div",{className:"profile-container",children:[w.jsx("h2",{children:"User Profile"}),w.jsxs("div",{className:"profile-card",children:[w.jsx("img",{src:ax,alt:"User Profile",className:"profile-image"}),w.jsxs("div",{className:"profile-details",children:[w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Full Name:"}),w.jsx("span",{children:c})]}),w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Email:"}),w.jsx("span",{children:d})]}),w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Mobile:"}),w.jsx("span",{children:p})]}),w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Gender:"}),w.jsx("span",{children:m})]}),w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Birthdate:"}),w.jsx("span",{children:y})]})]})]})]})},xL=()=>{const[n,e]=L.useState(""),[t,i]=L.useState(""),[a,l]=L.useState(""),[c,d]=L.useState(""),p=async m=>{m.preventDefault(),l(""),d("");try{await YV(ml,n,t),d("Login successful!"),e(""),i("")}catch(y){l(y.message)}};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:p,children:[w.jsx("h2",{children:"Login"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:n,onChange:m=>e(m.target.value),placeholder:"Enter email",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:t,onChange:m=>i(m.target.value),placeholder:"Enter password",required:!0})]}),a&&w.jsx("p",{className:"error-message",children:a}),c&&w.jsx("p",{className:"success-message",children:c}),w.jsxs("div",{className:"buttonlogin-k",style:{marginTop:"20px"},children:[w.jsx("button",{type:"submit",className:"login-button",children:"Login"}),w.jsx(It,{to:"/forgetpassword",children:"Forget Password !"})]}),w.jsxs("div",{className:"Design",children:[w.jsx("div",{className:"design1"}),w.jsx("h5",{children:"Or"}),w.jsx("div",{className:"design2"})]}),w.jsx("div",{className:"buttonlogin",style:{marginTop:"30px"},children:w.jsx(It,{to:"/adminlogin",className:"login-button",style:{textDecoration:"none",width:"100%"},children:"Admin"})})]})})},kL=()=>{const[n,e]=L.useState(""),[t,i]=L.useState(""),[a,l]=L.useState(""),[c,d]=L.useState(""),[p,m]=L.useState(""),[y,T]=L.useState(""),[b,R]=L.useState(""),[C,B]=L.useState(""),[W,Y]=L.useState(""),J=yl(),te=async re=>{if(re.preventDefault(),B(""),Y(""),y!==b){B("Passwords do not match");return}try{const ve=(await kS(ml,p,y)).user;await QV(ve,{displayName:n}),await BU(pC(yC,"users/"+ve.uid),{fullName:n,mobileNumber:t,gender:a,birthdate:c,email:ve.email,createdAt:Date.now()}),Y("Signup successful!"),e(""),i(""),l(""),d(""),m(""),T(""),R(""),J("/login")}catch(ue){B(ue.message)}};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:te,children:[w.jsx("h2",{children:"Signup"}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group half-width",children:[w.jsx("label",{htmlFor:"fullName",children:"Full Name"}),w.jsx("input",{type:"text",id:"fullName",value:n,onChange:re=>e(re.target.value),placeholder:"Enter full name",required:!0})]}),w.jsxs("div",{className:"form-group half-width",children:[w.jsx("label",{htmlFor:"mobileNumber",children:"Mobile Number"}),w.jsx("input",{type:"tel",id:"mobileNumber",value:t,onChange:re=>i(re.target.value),placeholder:"Enter mobile number",required:!0})]})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group half-width",children:[w.jsx("label",{htmlFor:"gender",children:"Gender"}),w.jsxs("select",{id:"gender",value:a,onChange:re=>l(re.target.value),required:!0,children:[w.jsx("option",{value:"",children:"Select gender"}),w.jsx("option",{value:"Male",children:"Male"}),w.jsx("option",{value:"Female",children:"Female"}),w.jsx("option",{value:"Other",children:"Other"})]})]}),w.jsxs("div",{className:"form-group half-width",children:[w.jsx("label",{htmlFor:"birthdate",children:"Birthdate"}),w.jsx("input",{type:"date",id:"birthdate",value:c,onChange:re=>d(re.target.value),required:!0})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:p,onChange:re=>m(re.target.value),placeholder:"Enter email",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:y,onChange:re=>T(re.target.value),placeholder:"Enter password",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),w.jsx("input",{type:"password",id:"confirmPassword",value:b,onChange:re=>R(re.target.value),placeholder:"Confirm password",required:!0})]}),C&&w.jsx("p",{className:"error-message",children:C}),W&&w.jsx("p",{className:"success-message",children:W}),w.jsx("div",{className:"buttonlogin",style:{marginTop:"20px"},children:w.jsx("button",{type:"submit",className:"login-button",children:"Sign Up"})})]})})},VL=JSON.parse(`[{"id":1,"title":"Futuristic Samurai","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6TldVeU0yWXpNUzAxTnprMUxUUXdPRFF0WWpNM01DMWhZMkkwT1RFMU9UVTBObVVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--025c287225fe8ac753c766c1740a345f45a3f1ce/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-027115638da.jpg","prompt":"A surreal and slightly humorous, realistic-style scene inspired by the famous Windows XP Bliss background. The landscape features lush green rolling hills and a clear blue sky. From behind one of the hills, the top part of Mark Zuckerbergs headhis eyes and foreheademerges. His head is slightly tilted from the edge of the hill, as if he is peeking. He is staring directly at the viewer with a curious and slightly unsettling expression, as though he is secretly watching them."},{"id":2,"title":"Steampunk Explorer","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxoWlROa056RmhNUzB5TmpnNExUUTRabVF0T1daaE55MW1NVEZoTkRBNFpHTXlNVFFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--e644e40e52a41b0e0654d4a1cf62a98c892142c1/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-8634828707d.png","prompt":"highly detailed photography of bmw car found in bluemap, vintage, intricate detail, digital art, digital painting, concept art, poster, award winning, max detail, shinning, studio light, blender, 3d art, masterpiece"},{"id":3,"title":"Retro Futurism","image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6TkRJM01ESm1aaTFoTjJGakxUUXhNVFF0WWpSaU5pMHlaV0U0TmpJeU9HWTROamtHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--11a6fcf6920f37858a3e79f4e7bd98b312158f58/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-148858911ae.png","prompt":"a man in a trench coat and hat walking down a street in the rain with a car behind him, Ben Templesmith, noir, cyberpunk art, neo-figurative"},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6WkRreFpqSXdPQzAzWkRkakxUUmxOR010WWpNNFlpMWhPVFJpT0RkbE9EY3dOamtHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--0a14881021ccf06dcc5d5340373615bc5a08c673/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-d043bf22242.png","title":"","prompt":"A close-up of a heavily rusted Iron Man helmet lying abandoned on the ground in a dense, overgrown jungle. Vines and thick roots have wrapped around the suit, partially covering it with moss and foliage. The once-bright red and gold armor is now corroded, with chipped paint and deep rust marks. The arc reactor on the chest is barely glowing, flickering faintly, almost extinguished. The jungle floor is damp and covered in fallen leaves, with mist rising in the background. Soft, diffused lighting filters through the thick canopy, casting eerie shadows on the forgotten relic. cinematic, hyper realism, high detail, octane render, 8k","id":4},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWsyWWpWbVpUaG1aUzFrTlRkaExUUXhOVEl0T1RabFpDMWlNVEprTUdNd1lqaGxZbU1HT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--7bdd19510f07be08087fcb313d87ad539f6d4019/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-8f27dd0dae3.png","title":"","prompt":"painting of a woman dressed in traditional Chinese dress with a bamboo umbrella, in the style of romantic manga, ethereal transparency, dark white and light gray, i can't believe how beautiful this is, romantic illustrations, dark white and light green, feminine sensibilities --ar 71:128 --stylize 750 --v 6","id":16},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxoT0RWaE5HSmxZaTFsTkdRM0xUUTBNV010WVdKbU55MDRZelEwTUdVM1pUQXpaRFVHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--b4b848487e1f1202fb53354d3bc5ec3f8030a887/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-80341e63554.png","title":"","prompt":"A Traveling Drone Across England --ar 2:3 --style raw --profile xraq6d7 --stylize 600 --v 6.1","id":20},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt5WkdaaE9HWXlOQzB3WWpVeUxUUXpNbVF0WW1FM05TMDVaV013WkRZek1tVmxZVGtHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--b55ab39d4b3196a89d93323dc27c52d2d8939ae6/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-4fbfbe9619f.jpg","title":"","prompt":"Summer trip in the Tokyo , sakura lover , sweetheart couple, t-shirt design,banlance harmony space , pixel art , studio ghibli style , white background, ultra high quality.","id":22},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxsWW1VMFpERTBNeTB6TlRGaUxUUmlNVEV0WW1Jd1lpMHlNR1UzT0Rjek4yUTFaV1FHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--9b6c4a8c1fc4c98ba1240302b43b2d0836953950/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-de45743342c.png","title":"","prompt":"A detailed crosssection of the ancient Chinese tower, showcasing its construction techniques and design elements in color pencil style with realistic shadows, include labels for each level to highlight key features such as rooms, bridges, or architecture details, text panel at bottom shows information about historical significance, frame size, dimensions, height, weight, materials used, form structure type, construction technology, user needs and other related drip icons. white background --ar 67:128 --stylize 750","id":23},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrWVRkbU1XRTJZUzAxT1RSbUxUUmxaV1F0WWpZelppMWxZek15TURrME56STNaakFHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--8f9c34fac05a95ae36047bee3cde3b88dd6cc6ba/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-b8b5880994e.png","title":"","prompt":"An image of a woman sitting down with her body slightly turned to her left. She is looking at the camera with a relaxed expression. Her right arm is resting by her side, and her left arm is bent with her hand on her thigh. She has light-colored wavy hair over her shoulders. She wears a patterned blouse with rolled-up sleeves and light-colored pants. The background is softly blurred with hints of an airplane and airport equipment, bathed in the warm glow of dawn or dusk.","id":24},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxrWW1ZeE1XTXdaaTFqTURFMkxUUTRNVFV0WVRRMk1pMHhZVE13WlRSbFlUZG1PV1FHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--0d045fd6aea72a33b04049900b1d50029f5cf7e6/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-32e44c7172b.png","title":"","prompt":"an oil painting of many sunflowers in a yellow vase, in the style of 10001400 ce, 32k uhd, colorized, simon prades, eye-catching, wimmelbilder, grainy --ar 35:46 --stylize 750","id":25},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWswTmpZMU9XWTNOaTB3TTJGa0xUUmtaVEl0WVdZd01pMDJZVGM0WlRBMk9UZzBZV0VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--ecc2b38dff5fca9b13a487dce9356798e6577fad/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-e74e709e6af.png","title":"","prompt":"I feel the top of the roof come off Kill everybody there And I'm watching all the stars burn out Trying to pretend that I care But I didn't, no one ever does And I would, no one ever will Can't you see it's all flown out of my hands? And our clothes are all too often ripped And our teeth are all too often gnashed And it lasts as long as it possibly can But I just don't, but I just don't accept this I just don't accept this at all And I just don't, and I just don't accept this I just don't accept this at all","id":26},{"image":"https://prompthero.com/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWxpT1Roak1qRXlaQzFpWkRVeExUUXhOR1V0WVRFNU5DMWtNV1F3TjJWbU9XWXpOV0VHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--7713581b2d86d8435be8d713cd6b64c3d0bd64db/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBPZ2wzWldKd09oUnlaWE5wZW1WZmRHOWZiR2x0YVhSYkIya0NBQWd3T2dwellYWmxjbnNKT2hOemRXSnpZVzF3YkdWZmJXOWtaVWtpQjI5dUJqb0dSVlE2Q25OMGNtbHdWRG9PYVc1MFpYSnNZV05sVkRvTWNYVmhiR2wwZVdsZiIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--9e9280d525ba1fc2f95c971c0fbcb4a2ca8b55dd/prompthero-prompt-71485ccdf95.jpg","title":"","prompt":"\\"Professional photograph of a supermodel in her early twenties, modernist style. Soft, dreamy atmosphere, misty swirling fog, golden hour sunrise light. Earth tones: browns, beiges, muted colours. Soft contrast, soft saturation. Low visibility.\\"","id":27}]`);class DL extends L.Component{constructor(t){super(t);fi(this,"copyToClipboard",(t,i)=>{navigator.clipboard.writeText(t).then(()=>{this.setState({copiedId:i}),setTimeout(()=>this.setState({copiedId:null}),2e3)})});fi(this,"handleImageLoad",t=>{this.setState(i=>({loadedImages:{...i.loadedImages,[t]:!0}}))});this.state={copiedId:null,loadedImages:{}}}render(){return w.jsx(w.Fragment,{children:w.jsx("div",{className:"gallery-container",children:VL.map(t=>w.jsxs("div",{className:"gallery-item",children:[!this.state.loadedImages[t.id]&&w.jsx("div",{className:"gallery-spinner",children:w.jsx(U1,{className:"spinner-icon",size:32})}),w.jsx("img",{src:t.image,alt:t.title,style:{display:this.state.loadedImages[t.id]?"block":"none"},onLoad:()=>this.handleImageLoad(t.id)}),w.jsxs("div",{className:"overlay",children:[w.jsx("p",{title:t.prompt,children:t.prompt}),w.jsx("button",{className:"copy-btn",onClick:()=>this.copyToClipboard(t.prompt,t.id),title:"Copy prompt to clipboard",children:w.jsx(J_,{size:20,style:{color:"white"}})}),this.state.copiedId===t.id&&w.jsx("span",{className:"copy-feedback",children:"Copied!"})]})]},t.id))})})}}const ML=()=>w.jsxs("div",{className:"about-container",children:[w.jsx("h2",{children:"About Us"}),w.jsx("p",{children:"Welcome to our application! We are dedicated to providing the best service possible."}),w.jsx("p",{children:"Our team works hard to ensure a seamless experience for all users."}),w.jsx("p",{children:"Contact us for more information or support."})]}),Au={_origin:"https://api.emailjs.com"},PL=(n,e="https://api.emailjs.com")=>{Au._userID=n,Au._origin=e},vC=(n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class E1{constructor(e){this.status=e.status,this.text=e.responseText}}const TC=(n,e,t={})=>new Promise((i,a)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:c})=>{const d=new E1(c);d.status===200||d.text==="OK"?i(d):a(d)}),l.addEventListener("error",({target:c})=>{a(new E1(c))}),l.open("POST",Au._origin+n,!0),Object.keys(t).forEach(c=>{l.setRequestHeader(c,t[c])}),l.send(e)}),UL=(n,e,t,i)=>{const a=i||Au._userID;return vC(a,n,e),TC("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:a,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},LL=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},WL=(n,e,t,i)=>{const a=i||Au._userID,l=LL(t);vC(a,n,e);const c=new FormData(l);return c.append("lib_version","3.2.0"),c.append("service_id",n),c.append("template_id",e),c.append("user_id",a),TC("/api/v1.0/email/send-form",c)},FL={init:PL,send:UL,sendForm:WL};class jL extends L.Component{constructor(t){super(t);fi(this,"handleChange",t=>{this.setState({[t.target.name]:t.target.value})});fi(this,"handleSubmit",t=>{t.preventDefault();const{name:i,subject:a,email:l,message:c}=this.state;if(!i||!a||!l||!c){this.setState({feedback:"Please fill in all fields."});return}const d={sender_name:i,subject:a,reply_to:l,message:c,time:new Date().toLocaleString()};FL.send("service_hqbg0og","template_p9zyac5",d,"DrpwDUdK9JLWPFiDh").then(p=>{this.setState({feedback:"Message sent successfully!",name:"",subject:"",email:"",message:""})},p=>{this.setState({feedback:"Failed to send message. Please try again later."})})});this.state={name:"",subject:"",email:"",message:"",feedback:""}}render(){const{name:t,subject:i,email:a,message:l,feedback:c}=this.state;return w.jsxs("div",{className:"contact-container",children:[w.jsx("h1",{className:"contact-header",children:"Contact Us"}),w.jsx("div",{className:"flex",children:w.jsxs("div",{className:"panel1",children:[w.jsxs("form",{onSubmit:this.handleSubmit,children:[w.jsx("div",{className:"form-group-c",children:w.jsx("input",{name:"name",placeholder:"Name : ",type:"text",value:t,onChange:this.handleChange,required:!0})}),w.jsx("div",{className:"form-group-c",children:w.jsx("input",{name:"subject",placeholder:"Subject : ",type:"text",value:i,onChange:this.handleChange,required:!0})}),w.jsx("div",{className:"form-group-c",children:w.jsx("input",{name:"email",placeholder:"Email : ",type:"email",value:a,onChange:this.handleChange,required:!0})}),w.jsx("div",{className:"form-group-c",children:w.jsx("textarea",{name:"message",placeholder:"Text hear..!",value:l,onChange:this.handleChange,required:!0})}),w.jsx("div",{className:"buttoncontact",children:w.jsx("button",{type:"submit",className:"contact-button",children:"Send"})})]}),c&&w.jsx("p",{className:"feedback-message",children:c})]})})]})}}class BL extends L.Component{constructor(t){super(t);fi(this,"copyToClipboard",(t,i)=>{navigator.clipboard.writeText(t).then(()=>{this.setState({copiedId:i}),setTimeout(()=>this.setState({copiedId:null}),2e3)})});this.state={copiedId:null}}render(){return w.jsx(w.Fragment,{children:w.jsx("div",{className:"gallery-container",children:ix.map(t=>w.jsxs("div",{className:"gallery-item",children:[w.jsx("img",{src:t.image,alt:t.title}),w.jsxs("div",{className:"overlay",children:[w.jsx("p",{title:t.prompt,children:t.prompt}),w.jsx("button",{className:"copy-btn",onClick:()=>this.copyToClipboard(t.prompt,t.id),title:"Copy prompt to clipboard",children:w.jsx(J_,{size:20,style:{color:"white"}})}),this.state.copiedId===t.id&&w.jsx("span",{className:"copy-feedback",children:"Copied!"})]})]},t.id))})})}}class zL extends L.Component{constructor(t){super(t);fi(this,"componentDidMount",async()=>{try{const i=(await Rw(Rd(Od,"gallery"))).docs.map(c=>({id:c.id,...c.data()})),l=(await Rw(Rd(Od,"trending"))).docs.map(c=>({id:c.id,...c.data()}));this.setState({galleryData:i,trendingData:l})}catch(t){console.error("Error fetching data from Firestore:",t)}});fi(this,"handleChange",t=>{this.setState({[t.target.name]:t.target.value})});fi(this,"addGalleryItemToFirestore",async t=>{try{await Aw(Rd(Od,"gallery"),t)}catch(i){throw console.error("Error adding gallery item to Firestore:",i),i}});fi(this,"addTrendingItemToFirestore",async t=>{try{await Aw(Rd(Od,"trending"),t)}catch(i){throw console.error("Error adding trending item to Firestore:",i),i}});fi(this,"handleSubmit",async t=>{const{galleryImageUrl:i,galleryTitle:a,galleryPrompt:l,trendingImageUrl:c,trendingTitle:d,trendingPrompt:p,galleryData:m,trendingData:y}=this.state;if(t==="gallery"){const T={image:i,title:a,prompt:l};try{await this.addGalleryItemToFirestore(T);const b=[...m,T];this.setState({galleryData:b,galleryImageUrl:"",galleryTitle:"",galleryPrompt:""}),fetch("https://xprime-zxu1.onrender.com/api/admin/gallery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then(R=>{if(!R.ok)throw new Error("Failed to save gallery data to backend");return R.text()}).then(R=>{console.log(R)}).catch(R=>{alert(R.message)}),alert("Gallery data saved to backend and Firestore successfully")}catch(b){alert("Error saving gallery data: "+b.message)}}else if(t==="trending"){const T={image:c,title:d,prompt:p};try{await this.addTrendingItemToFirestore(T);const b=[...y,T];this.setState({trendingData:b,trendingImageUrl:"",trendingTitle:"",trendingPrompt:""}),fetch("https://xprime-zxu1.onrender.com/api/admin/trending",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}).then(R=>{if(!R.ok)throw new Error("Failed to save trending data to backend");return R.text()}).then(R=>{console.log(R)}).catch(R=>{alert(R.message)}),alert("Trending data saved to backend and Firestore successfully")}catch(b){alert("Error saving trending data: "+b.message)}}});this.state={galleryImageUrl:"",galleryTitle:"",galleryPrompt:"",trendingImageUrl:"",trendingTitle:"",trendingPrompt:"",galleryData:[],trendingData:[]}}render(){const{galleryImageUrl:t,galleryTitle:i,galleryPrompt:a,trendingImageUrl:l,trendingTitle:c,trendingPrompt:d,galleryData:p,trendingData:m}=this.state;return w.jsxs("div",{className:"admin-panel",children:[w.jsx("h2",{children:"Admin Panel"}),w.jsxs("div",{className:"container",children:[w.jsxs("section",{className:"admin-section",children:[w.jsx("h3",{children:"Gallery"}),w.jsx("input",{type:"text",name:"galleryImageUrl",placeholder:"Image URL",value:t,onChange:this.handleChange}),w.jsx("input",{type:"text",name:"galleryTitle",placeholder:"Title",value:i,onChange:this.handleChange}),w.jsx("input",{type:"text",name:"galleryPrompt",placeholder:"Prompt",value:a,onChange:this.handleChange}),w.jsx("button",{onClick:()=>this.handleSubmit("gallery"),children:"Submit"})]}),w.jsxs("section",{className:"admin-section",children:[w.jsx("h3",{children:"Trending"}),w.jsx("input",{type:"text",name:"trendingImageUrl",placeholder:"Image URL",value:l,onChange:this.handleChange}),w.jsx("input",{type:"text",name:"trendingTitle",placeholder:"Title",value:c,onChange:this.handleChange}),w.jsx("input",{type:"text",name:"trendingPrompt",placeholder:"Prompt",value:d,onChange:this.handleChange}),w.jsx("button",{onClick:()=>this.handleSubmit("trending"),children:"Submit"})]})]})]})}}const HL=({setAdminLoggedIn:n})=>{const[e,t]=L.useState(""),[i,a]=L.useState(""),[l,c]=L.useState(""),[d,p]=L.useState(""),m=yl(),y=T=>{T.preventDefault(),c(""),p(""),e==="shrikant"&&i==="264#Shrikant@45"?(p("Login successful!"),t(""),a(""),n(!0),m("/admin")):c("Invalid username or password")};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:y,children:[w.jsx("h2",{children:"Admin Login"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"username",children:"Username"}),w.jsx("input",{type:"text",id:"username",value:e,onChange:T=>t(T.target.value),placeholder:"Enter username",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:i,onChange:T=>a(T.target.value),placeholder:"Enter password",required:!0})]}),l&&w.jsx("p",{className:"error-message",children:l}),d&&w.jsx("p",{className:"success-message",children:d}),w.jsx("div",{className:"buttonlogin",children:w.jsx("button",{type:"submit",className:"login-button",children:"Login"})})]})})},qL=({setAdminLoggedIn:n})=>{const[e,t]=L.useState(""),[i,a]=L.useState(""),[l,c]=L.useState(""),[d,p]=L.useState(""),m=yl(),y=async T=>{T.preventDefault(),c(""),p("");try{await kS(ml,e,i),p("Account created successfully!"),t(""),a(""),n(!0),m("/admin")}catch(b){c(b.message)}};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:y,children:[w.jsx("h2",{children:"Admin Sign Up"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",value:e,onChange:T=>t(T.target.value),placeholder:"Enter email",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password"}),w.jsx("input",{type:"password",id:"password",value:i,onChange:T=>a(T.target.value),placeholder:"Enter password",required:!0})]}),l&&w.jsx("p",{className:"error-message",children:l}),d&&w.jsx("p",{className:"success-message",children:d}),w.jsx("div",{className:"buttonlogin",children:w.jsx("button",{type:"submit",className:"login-button",children:"Sign Up"})})]})})},GL=""+new URL("lk-bo8b3C1f.png",import.meta.url).href;class ZL extends L.Component{constructor(e){super(e),this.state={admin:{fullName:"Shrikant Ashok Pawar",email:"shrikantpawar493@gmail.com",mobile:"+91 8862007036",gender:"Male",birthdate:"07-07-2005"}}}render(){const{fullName:e,email:t,mobile:i,gender:a,birthdate:l}=this.state.admin;return w.jsxs("div",{className:"profile-container",children:[w.jsx("h2",{children:"Admin Profile "}),w.jsxs("div",{className:"profile-card",children:[w.jsx("img",{src:GL,alt:"User Profile",className:"profile-image"}),w.jsxs("div",{className:"profile-details",children:[w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Full Name:"}),w.jsx("span",{children:e})]}),w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Email:"}),w.jsx("span",{children:t})]}),w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Mobile:"}),w.jsx("span",{children:i})]}),w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Gender:"}),w.jsx("span",{children:a})]}),w.jsxs("div",{className:"profile-info-row",children:[w.jsx("label",{children:"Birthdate:"}),w.jsx("span",{children:l})]})]})]})]})}}const YL=()=>{const[n,e]=L.useState(""),[t,i]=L.useState(""),[a,l]=L.useState(""),[c,d]=L.useState(0);L.useEffect(()=>{let m=null;return c>0?m=setInterval(()=>{d(y=>y-1)},1e3):c===0&&clearInterval(m),()=>clearInterval(m)},[c]);const p=m=>{if(m.preventDefault(),c>0){l(`Please wait ${c} seconds before sending another email.`);return}const y=hy();ZV(y,n).then(()=>{i("Password reset email sent successfully."),l(""),e(""),d(60)}).catch(T=>{l(T.message),i("")})};return w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:p,children:[w.jsx("h2",{children:"Forget Password"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",placeholder:"Enter email",value:n,onChange:m=>e(m.target.value),required:!0,disabled:c>0})]}),t&&w.jsx("p",{className:"success-message",children:t}),a&&w.jsx("p",{className:"error-message",children:a}),c>0&&w.jsxs("p",{style:{color:"white",textAlign:"center",marginTop:"10px"},children:["Please wait ",c," seconds before sending another email."]}),w.jsx("div",{className:"buttonlogin",children:w.jsx("button",{type:"submit",className:"login-button",disabled:c>0,children:"Send"})})]})})},JL=()=>{const n=hy(),e=fR(),t=n.currentUser,[i,a]=L.useState(""),[l,c]=L.useState(t?t.email:""),[d,p]=L.useState(""),[m,y]=L.useState(""),[T,b]=L.useState(""),[R,C]=L.useState(""),[B,W]=L.useState(!0);L.useEffect(()=>{t?(async()=>{try{const te=C_(e,"users",t.uid),re=await E4(te);if(re.exists()){const ue=re.data();a(ue.name||""),p(ue.phone||""),y(ue.address||"")}W(!1)}catch{C("Failed to load user data."),W(!1)}})():W(!1)},[t,e]);const Y=async J=>{if(J.preventDefault(),b(""),C(""),!t){C("No user is logged in.");return}try{l!==t.email&&await XV(t,l);const te=C_(e,"users",t.uid);await b4(te,{name:i,phone:d,address:m},{merge:!0}),b("Profile updated successfully.")}catch(te){C(te.message)}};return B?w.jsx("div",{children:"Loading..."}):w.jsx("div",{className:"login-container",children:w.jsxs("form",{className:"login-form",onSubmit:Y,children:[w.jsx("h2",{children:"Update Profile"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"name",children:"Name"}),w.jsx("input",{type:"text",id:"name",placeholder:"Enter name",value:i,onChange:J=>a(J.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email"}),w.jsx("input",{type:"email",id:"email",placeholder:"Enter email",value:l,onChange:J=>c(J.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"phone",children:"Phone"}),w.jsx("input",{type:"tel",id:"phone",placeholder:"Enter phone number",value:d,onChange:J=>p(J.target.value)})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"address",children:"Address"}),w.jsx("textarea",{id:"address",placeholder:"Enter address",value:m,onChange:J=>y(J.target.value)})]}),T&&w.jsx("p",{className:"success-message",children:T}),R&&w.jsx("p",{className:"error-message",children:R}),w.jsx("div",{className:"buttonlogin",children:w.jsx("button",{type:"submit",className:"login-button",children:"Update"})})]})})};function QL(){const[n,e]=L.useState(null),[t,i]=L.useState(()=>localStorage.getItem("adminLoggedIn")==="true");return L.useEffect(()=>{const a=tD(ml,l=>{e(l)});return()=>a()},[]),L.useEffect(()=>{localStorage.setItem("adminLoggedIn",t)},[t]),L.useEffect(()=>{const a=()=>{nD(ml).catch(l=>{console.error("Error signing out on unload:",l)}),localStorage.removeItem("adminLoggedIn")};return window.addEventListener("beforeunload",a),()=>{window.removeEventListener("beforeunload",a)}},[]),w.jsx(gO,{children:w.jsxs("div",{className:"App",children:[w.jsx(tx,{user:n,setUser:e,adminLoggedIn:t,setAdminLoggedIn:i}),w.jsxs(ZE,{children:[w.jsx(xt,{path:"/",element:w.jsx(sx,{})}),!n&&!t&&w.jsx(xt,{path:"/login",element:w.jsx(xL,{})}),!n&&!t&&w.jsx(xt,{path:"/signup",element:w.jsx(kL,{})}),(n||t)&&w.jsx(xt,{path:"/login",element:w.jsx(vg,{to:"/"})}),(n||t)&&w.jsx(xt,{path:"/signup",element:w.jsx(vg,{to:"/"})}),w.jsx(xt,{path:"/gallery",element:w.jsx(DL,{})}),w.jsx(xt,{path:"/trending",element:w.jsx(BL,{})}),w.jsx(xt,{path:"/about",element:w.jsx(ML,{})}),w.jsx(xt,{path:"/contact",element:w.jsx(jL,{})}),w.jsx(xt,{path:"/profile",element:w.jsx(OL,{})}),w.jsx(xt,{path:"/adminlogin",element:w.jsx(HL,{setAdminLoggedIn:i})}),w.jsx(xt,{path:"/admin",element:w.jsx(zL,{})}),w.jsx(xt,{path:"/adminsignup",element:w.jsx(qL,{setAdminLoggedIn:i})}),w.jsx(xt,{path:"/admin/profile",element:w.jsx(ZL,{})}),w.jsx(xt,{path:"/forgetpassword",element:w.jsx(YL,{})}),w.jsx(xt,{path:"/userprofile",element:w.jsx(JL,{user:n})}),w.jsx(xt,{path:"*",element:w.jsx(vg,{to:"/"})})]}),w.jsxs(ZE,{children:[w.jsx(xt,{path:"/",element:null}),w.jsx(xt,{path:"*",element:w.jsx(nx,{})})]})]})})}nN.createRoot(document.getElementById("root")).render(w.jsx(L.StrictMode,{children:w.jsx(QL,{})}));
